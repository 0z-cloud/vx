var local_CurrentSlot;function f(target_url,win_name){var new_win;window.open(target_url,win_name,"resizable=yes,scrollbars=yes,menubar=no,toolbar=no,width=550,height=280,top=0,left=0").focus()}function fillMyTechs(type){for(var TechID in MyTechs)$('[name="'+type+"_techs["+local_CurrentSlot+"]["+TechID+']"]').val(MyTechs[TechID])}function fillMyFleets(type){for(var ShipID in MyFleets)$('[name="'+type+"_ships["+local_CurrentSlot+"]["+ShipID+']"]').val(MyFleets[ShipID])}function cleanTechs(type){$('[name^="'+type+'_techs["]').each(function(){$(this).val("")})}function cleanFleets(type){$('[name^="'+type+'_ships["]').each(function(){$(this).val("")})}$(document).ready(function(){function addDots(value){value+="";for(var rgx=/(\d+)(\d\d\d)/;rgx.test(value);)value=value.replace(rgx,"$1.$2");return value}function removeNonDigit(Value){return Value=(Value+="").replace(/[^0-9]/g,"")}local_CurrentSlot=CurrentSlot,$.fn.prettyInputBox=function(){return this.each(function(){if(void 0!==AllowPrettyInputBox&&!0===AllowPrettyInputBox){var Value=removeNonDigit($(this).val());Value=addDots(Value),$(this).val(Value)}})},$("#toggleView_Result").click(function(){return $("#result").toggle(0),!1}),$("#simForm").submit(function(){$('[name^="atk_techs"],[name^="def_techs"],[name^="atk_ships"],[name^="def_ships"]').each(function(){""!=$(this).val()&&"0"!=$(this).val()||$(this).attr("name","")})}),$('[name^="atk_ships"],[name^="def_ships"]').keyup(function(){$(this).prettyInputBox()}),$(".fillTech_atk").click(function(){return fillMyTechs("atk"),!1}),$(".fillTech_def").click(function(){return fillMyTechs("def"),!1}),$(".clnTech_atk").click(function(){return cleanTechs("atk"),!1}),$(".clnTech_def").click(function(){return cleanTechs("def"),!1}),$(".fillShip_atk").click(function(){return fillMyFleets("atk"),!1}),$(".fillShip_def").click(function(){return fillMyFleets("def"),!1}),$(".clnShip_atk").click(function(){return cleanFleets("atk"),!1}),$(".clnShip_def").click(function(){return cleanFleets("def"),!1}),$(".maxOne").click(function(){var $ThisName=$(this).parent().parent().children('input[type="text"]').attr("name"),$ThisMatch=$ThisName.match(/.*?\[[0-9]{1,}\]\[([0-9]{1,})\]/);$('[name="'+$ThisName+'"]').val(MyFleets[$ThisMatch[1]])}),$(".clnOne").click(function(){var $ThisName=$(this).parent().parent().children('input[type="text"]').attr("name");$('[name="'+$ThisName+'"]').val("")}),$(".chgSlot").click(function(){var $ThisSlot=$(this).val().replace("#","");return $("tbody#slot_"+local_CurrentSlot).addClass("hide"),$("tbody#slot_"+$ThisSlot).removeClass("hide"),local_CurrentSlot=$ThisSlot,$("#attacker_slot").html($ThisSlot),$("#defender_slot").html($ThisSlot),1==$ThisSlot?$("#is_planet_owner").html(PlanetOwnerTxt):$("#is_planet_owner").html(""),$('[value^="#"]').removeClass("bold"),$('[value="#'+$ThisSlot+'"]').addClass("bold"),!1})});