const utils={planetSelector:{changeSelection($selectorEl,selectionIdxModifier){const $options=$selectorEl.find("option"),$selectedOption=$options.filter(":selected"),currentSelectedIdx=$options.index($selectedOption),$changedSelection=$options.eq(currentSelectedIdx+selectionIdxModifier);$selectorEl.val($changedSelection.val())},switchPlanetType($selectorEl,relatedPlanetID){const $options=$selectorEl.find("option"),$changedSelection=$options.filter(`[data-planet-id="${relatedPlanetID}"]`);$selectorEl.val($changedSelection.val())},navigate($selectorEl){const currentSelectionURL=$selectorEl.val();window.location=currentSelectionURL}},quickActionBtns:{calculateAppropriateSwitcherBtnWidth:({$planetTypeChangerBtnEl,$planetsSelectorEl})=>$planetTypeChangerBtnEl.is(":visible")?$planetsSelectorEl.width()/2-$planetTypeChangerBtnEl.width()+2:$planetsSelectorEl.width()/2+1}};$(document).ready(function(){const $parentEl=$("#topnav_resources"),$planetsSelectorEl=$parentEl.find("#planet"),$planetTypeChangerBtnEl=$parentEl.find("#plType"),$quickPlanetSwitcherBtnEls=$parentEl.find(".plBut");$quickPlanetSwitcherBtnEls.width(utils.quickActionBtns.calculateAppropriateSwitcherBtnWidth({$planetTypeChangerBtnEl,$planetsSelectorEl})),$("#prevPl").on("click",function(){utils.planetSelector.changeSelection($planetsSelectorEl,-1),utils.planetSelector.navigate($planetsSelectorEl)}),$("#nextPl").on("click",function(){utils.planetSelector.changeSelection($planetsSelectorEl,1),utils.planetSelector.navigate($planetsSelectorEl)}),$planetTypeChangerBtnEl.on("click",function(evt){const $btnEl=$(evt.currentTarget),relatedPlanetID=$btnEl.data("id");utils.planetSelector.switchPlanetType($planetsSelectorEl,relatedPlanetID),utils.planetSelector.navigate($planetsSelectorEl)}),$planetsSelectorEl.on("change",function(){utils.planetSelector.navigate($planetsSelectorEl)})});