/*
 * GoJS™ v1.1.8 JavaScript Library for HTML Canvas Diagrams
 * Northwoods Software®, http://www.nwoods.com/
 *
 * Copyright © 1998-2013 by Northwoods Software Corporation.  All Rights Reserved.
 * THIS SOFTWARE IS LICENSED.  THE LICENSE AGREEMENT IS AT: http://www.gojs.net/1.1.8/doc/license.html.
 */
(function(window) { var f=void 0,h=!0,n=null,q=!1;function aa(){return function(){}}function ba(a){return function(b){this[a]=b}}function t(a){return function(){return this[a]}}function ca(a){return function(){return a}}var da,ea={};
if(document.createElement("canvas").getContext===f)throw window.console&&window.console.log("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode."),Error("The HTML Canvas element is not supported in this browser,or this browser is in Compatibility mode.");if(!Object.prototype.__defineGetter__&&!Object.defineProperty)throw Error("GoJS requires a newer version of JavaScript");
Object.prototype.__defineGetter__&&!Object.defineProperty&&(Object.defineProperty=function(a,b,c){c.get&&a.__defineGetter__(b,c.get);c.set&&a.__defineSetter__(b,c.set)});Object.prototype.__lookupGetter__&&!Object.getOwnPropertyDescriptor&&(Object.getOwnPropertyDescriptor=function(a,b){return{get:a.__lookupGetter__(b),set:a.__lookupSetter__(b)}});Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__});Object.isFrozen||(Object.isFrozen=function(a){return a.iF===h});
Object.freeze||(Object.freeze=function(a){a.iF=h});Array.isArray||(Array.isArray=function(a){return"[object Array]"===Object.prototype.toString.call(a)});Function.prototype.bind||(Function.prototype.bind=function(a){function b(){return g.apply(a,e.concat(d.call(arguments)))}function c(){}var d=Array.prototype.slice,e=d.call(arguments,1),g=this;c.prototype=this.prototype;b.prototype=new c;return b});
for(var fa=0,ga=["ms","moz","webkit","o"],ia=0;ia<ga.length&&!window.requestAnimationFrame;++ia)window.requestAnimationFrame=window[ga[ia]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[ga[ia]+"CancelAnimationFrame"]||window[ga[ia]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a){var b=(new Date).getTime(),c=Math.max(8,16-(b-fa)),d=window.setTimeout(function(){a(b+c)},c);fa=b+c;return d});
window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});var u={kC:q,jK:q,QD:q,fD:q,oI:q,trace:aa(),bG:q,assert:q,KJ:n,$J:aa(),bK:aa(),aK:aa(),ZJ:aa(),gK:aa(),cK:aa(),eK:aa(),dK:aa(),PJ:q,ML:q,HL:q,IL:q,wG:q,fK:aa()},u=n;ea.Debug=n;
var w={lx:{},UA:0,hF:{},Bu:document.createElement("canvas").getContext("2d"),Cu:"",vy:[],su:n,LA:[],iy:"ontouchstart"in window,GB:"ongesturestart"in window,GA:q,m:function(a){u&&u.bG&&alert(a);throw Error(a);},H:function(a,b){if(a.ab){var c="The object is frozen, so its properties cannot be set: "+a.toString();b!==f&&(c+="  to value: "+b);w.m(c)}},i:function(a,b,c,d){a instanceof b||(c=w.Ch(c),d!==f&&(c+="."+d),w.ic(a,b,c))},k:function(a,b,c,d){typeof a!==b&&(c=w.Ch(c),d!==f&&(c+="."+d),w.ic(a,b,
c))},o:function(a,b,c){isFinite(a)||(b=w.Ch(b),c!==f&&(b+="."+c),w.m(b+" must be a real number and not NaN or Infinity: "+a))},kb:function(a,b,c,d){if(!(a instanceof ja)||a.me!==b)c=w.Ch(c),d!==f&&(c+="."+d),w.ic(a,"a constant of class "+w.Tk(b),c)},ic:function(a,b,c,d){b=w.Ch(b);c=w.Ch(c);d!==f&&(c+="."+d);w.m(c+" value is not an instance of "+b+": "+a)},ra:function(a,b,c,d){c=w.Ch(c);d!==f&&(c+="."+d);w.m(c+" is not in the range "+b+": "+a)},trace:function(a){window&&window.console&&window.console.log(a);
u&&u.oI&&w.m(a)},nb:function(a){return"object"===typeof a&&a!==n},isArray:function(a){return Array.isArray(a)||a instanceof NodeList||a instanceof HTMLCollection},Jr:function(a,b,c){w.isArray(a)||w.ic(a,"Array or NodeList or HTMLCollection",b,c)},Sb:function(a){return a.length},Eb:function(a,b){return a[b]},fC:function(a,b,c){Array.isArray(a)?a[b]=c:w.m("Cannot replace an object in an HTMLCollection or NodeList at "+b)},Iy:function(a,b){if(Array.isArray(a))return a.indexOf(b);for(var c=a.length,d=
0;d<c;d++)if(a[d]===b)return d;return-1},wi:function(a,b,c){Array.isArray(a)?b>=a.length?a.push(c):a.splice(b,0,c):w.m("Cannot insert an object into an HTMLCollection or NodeList: "+c+" at "+b)},xi:function(a,b){Array.isArray(a)?b>=a.length?a.pop():a.splice(b,1):w.m("Cannot remove an object from an HTMLCollection or NodeList at "+b)},pA:1,jc:function(a){a.__gohashid=w.pA++},cs:function(a){var b=a.__gohashid;b===f&&(b=w.pA++,a.__gohashid=b);return b},ec:function(a){return a.__gohashid},g:function(a,
b,c){"name"!==b&&"length"!==b&&(a[b]=c)},Q:function(a,b){b.xA=a;ea[a]=b},Ea:function(a,b){function c(){}c.prototype=b.prototype;a.prototype=new c;a.prototype.constructor=a},defineProperty:function(a,b,c,d,e){w.k(a,"function","Util.defineProperty:classfunc");w.k(b,"object","Util.defineProperty:propobj");w.k(c,"function","Util.defineProperty:getter");w.k(d,"function","Util.defineProperty:setter");for(var g in b){b=b[g];c={get:c,set:d};if(e!==f)for(var i in e)c[i]=e[i];Object.defineProperty(a.prototype,
g,c);e=Object.getOwnPropertyDescriptor(a.prototype,g);b&&e&&Object.defineProperty(a.prototype,b,e);break}},u:function(a,b,c,d){w.k(a,"function","Util.defineReadOnlyProperty:classfunc");w.k(b,"object","Util.defineReadOnlyProperty:propobj");w.k(c,"function","Util.defineReadOnlyProperty:getter");for(var e in b){var g=b[e],b={get:c,set:function(a){w.m('The property "'+g+'" is read-only and cannot be set to '+a)}};if(d!==f)for(var i in d)b[i]=d[i];Object.defineProperty(a.prototype,e,b);d=Object.getOwnPropertyDescriptor(a.prototype,
e);g&&d&&Object.defineProperty(a.prototype,g,d);break}},Nd:function(a,b){for(var c in b)b[c]=h;a.prototype.kF=b},Ch:function(a){return a===f?"":"string"===typeof a?a:"function"===typeof a?w.Tk(a):a===n?"*":""},Tk:function(a){return"function"===typeof a?a.xA:"object"===typeof a&&a.constructor?a.constructor.xA:typeof a},s:function(a,b,c){w.k(a,"function","Util.defineEnumValue:classfunc");w.k(b,"string","Util.defineEnumValue:name");w.k(c,"number","Util.defineEnumValue:num");c=new ja(a,b,c);Object.freeze(c);
a[b]=c;var d=a.oA;d||(d=new ka("string",ja),a.oA=d);d.add(b,c);return c},am:function(a,b){if(!b)return n;w.k(a,"function","Util.findEnumValueForName:classfunc");w.k(b,"string","Util.findEnumValueForName:name");var c=a.oA;return!c?n:c.qa(b)},kG:function(a,b,c,d){var e={},g;for(g in a){for(var i=q,j=1;j<arguments.length;j++)if(arguments[j]===g){i=h;break}i||(e[g]=a[g])}return e},Wa:function(a,b){if(!a||!b)return n;var c=f;try{"function"===typeof b?c=b(a):"function"===typeof a.getAttribute?(c=a.getAttribute(b),
c===n&&(c=f)):c=a[b]}catch(d){u&&w.trace("property get error: "+d.toString())}return c},Ka:function(a,b,c){if(a&&b)try{"function"===typeof b?b(a,c):"function"===typeof a.setAttribute?a.setAttribute(b,c):a[b]=c}catch(d){u&&w.trace("property set error: "+d.toString())}},Uz:function(a,b){w.k(a,"object","Setting properties requires Objects as arguments");w.k(b,"object","Setting properties requires Objects as arguments");var c=u;c||(u=w);var d=a instanceof x,e;for(e in b){var g=a,i=e;if(d){var j=e.indexOf(".");
if(0<j){var k=e.substring(0,j),g=a.Ne(k);g!==n?i=e.substr(j+1):w.m("Unable to find object named: "+k+" in panel "+a.toString()+" when trying to set property: "+e)}}"_"!==i[0]&&!w.lz(g,i)&&w.m('Trying to set undefined property "'+i+'" on object: '+g.toString());g[i]=b[e];"_"===i[0]&&(j=g.pl,j||(j=[],g.pl=j),j.push(i))}u=c;return a},lz:function(a,b){for(var c=Object.getPrototypeOf(a);c&&c!==Function;){if(c.hasOwnProperty(b))return h;var d=c.kF;if(d&&d[b])return h;c=Object.getPrototypeOf(c)}return q},
lC:function(a,b){if(!w.nb(b)||b instanceof Element||b instanceof CanvasRenderingContext2D)return"";var c="",d;for(d in b)if("string"!==typeof d)""===c&&(c=b+"\n"),c+="  "+d+" is not a string property\n";else if("_"!==d.charAt(0)&&!(2>=d.length)){var e=w.Wa(b,d);e!==n&&("function"!==typeof e&&!w.lz(b,d))&&(""===c&&(c=b+"\n"),c+='  unknown property "'+d+'" has value: '+e+" at "+a+"\n")}return c},bv:function(a,b){if(b&&!("number"===typeof b||"string"===typeof b||"boolean"===typeof b||"function"===typeof b))if(w.ec(b)!==
f){if(!w.yu.contains(b))if(w.yu.add(b),w.Yt.add(w.lC(a,b)),b instanceof z||b instanceof ma||b instanceof ka)for(var c=b.l;c.next();)w.bv(a+"["+c.key+"]",c.value);else for(c in b){var d=w.Wa(b,c);if(!(d===f||d===n||!w.nb(d))&&"_ownProperties"!==c){if(b instanceof na){if("_lines"===c)continue}else if(b instanceof x){if("data"===c||"_data"===c)continue;if("itemArray"===c||"_itemArray"===c)continue}else if(!(b instanceof A))if(b instanceof pa){if("archetypeGroupData"===c||"_archetypeGroupData"===c)continue}else if(b instanceof
qa){if("archetypeLinkData"===c||"_archetypeLinkData"===c)continue;if("archetypeLabelNodeData"===c||"_archetypeLabelNodeData"===c)continue}else if(b instanceof ra){if("archetypeNodeData"===c||"_archetypeNodeData"===c)continue}else if(b instanceof B){if("nodeDataArray"===c||"_nodeDataArray"===c)continue;if("linkDataArray"===c||"_linkDataArray"===c||"_linkDataSet"===c)continue;if("_mapKeyNodeData"===c||"_delayedNodeReferences"===c)continue}w.bv(a+"."+c,d)}}}else if(Array.isArray(b))for(c=0;c<b.length;c++)w.bv(a+
"["+c+"]",b[c]);else w.Yt.add(w.lC(a,b))},dG:function(a){w.yu===f?w.yu=new ma:w.yu.clear();w.Yt=new sa;w.bv("",a);a=w.Yt.toString();w.Yt=n;return a},IH:function(a){for(var b=[],c=0;256>c;c++)b[c]=c;for(var d=0,e,c=0;256>c;c++)d=(d+b[c]+119)%256,e=b[c],b[c]=b[d],b[d]=e;for(var d=c=0,g="",i=0;i<a.length;i++)c=(c+1)%256,d=(d+b[c])%256,e=b[c],b[c]=b[d],b[d]=e,g+=String.fromCharCode(a.charCodeAt(i)^b[(b[c]+b[d])%256]);return g},NG:function(a){for(var b=[],c=0;256>c;c++)b["0123456789abcdef".charAt(c>>4)+
"0123456789abcdef".charAt(c&15)]=String.fromCharCode(c);a.length%2&&(a="0"+a);for(var d=[],e=0,c=0;c<a.length;c+=2)d[e++]=b[a.substr(c,2)];a=d.join("");return""===a?"0":a},Na:function(a){return w.IH(w.NG(a))},Qs:n,Fy:"7da71ca0ad381e90",eG:"@COLOR1",fG:"@COLOR2"},ua=w,xa=document.createElement("canvas"),za=xa.getContext("2d");za[w.Na("7ca11abfd022028846")]=w.Na("398c3597c01238");
for(var Ca=["5da73c80a3330d854f9e5e671d6633","32ab5ff3b26f42dc0ed90f22472913b54ae6247590da4bb21c324ba3a84e385776","54a702f3e53909c447824c6706603faf4cfb236cdfda5de14c134ba1a95a2d4c7cc6f93c1387","74bf19bce72555874c86"],Da=1;5>Da;Da++)za[w.Na("7ca11abfd7330390")](w.Na(Ca[Da-1]),10,15*Da+0);za[w.Na("7ca11abfd022028846")]=w.Na("39f046ebb36e4b");for(Da=1;5>Da;Da++)za[w.Na("7ca11abfd7330390")](w.Na(Ca[Da-1]),10,15*Da+0);ua.Qs=xa;function ja(a,b,c){w.jc(this);this.wA=a;this.Bb=b;this.uF=c}
ja.prototype.toString=function(){return w.Tk(this.wA)+"."+this.Bb};w.u(ja,{me:"classType"},t("wA"));w.u(ja,{name:"name"},t("Bb"));w.u(ja,{value:"value"},t("uF"));function sa(){this.vA=[];this.tI=0;this.wI="  "}sa.prototype.toString=function(){return this.vA.join("")};sa.prototype.add=function(a){a&&this.vA.push(a)};function Fa(){}w.u(Fa,{l:"iterator"},function(){return this});Fa.prototype.reset=Fa.prototype.reset=aa();Fa.prototype.next=Fa.prototype.next=ca(q);Fa.prototype.first=Fa.prototype.zb=ca(n);
w.u(Fa,{count:"count"},ca(0));Fa.prototype.zg=aa();Fa.prototype.toString=ca("EmptyIterator");w.Gf=new Fa;function Ia(a){this.key=-1;this.value=a}w.Nd(Ia,{key:h,value:h});w.u(Ia,{l:"iterator"},function(){return this});Ia.prototype.reset=Ia.prototype.reset=function(){this.key=-1};Ia.prototype.next=Ia.prototype.next=function(){return-1===this.key?(this.key=0,h):q};Ia.prototype.first=Ia.prototype.zb=function(){this.key=0;return this.value};w.u(Ia,{count:"count"},ca(1));
Ia.prototype.zg=function(){this.value=n};Ia.prototype.toString=function(){return"SingletonIterator("+this.value+")"};function Ja(a){this.ff=a;this.gn=n;this.reset()}w.Nd(Ja,{key:h,value:h});w.u(Ja,{l:"iterator"},function(){return this});w.g(Ja,"predicate",Ja.prototype.Sv);w.defineProperty(Ja,{Sv:"predicate"},t("gn"),ba("gn"));Ja.prototype.reset=Ja.prototype.reset=function(){var a=this.ff;a.hh=n;this.Ya=a.Jb;this.ea=-1};
Ja.prototype.next=Ja.prototype.next=function(){var a=this.ff;a.Jb!==this.Ya&&w.m("the List has been modified during iteration");var a=a.n,b=a.length,c=++this.ea,d=this.gn;if(d!==n)for(;c<b;){var e=a[c];if(d(e))return this.key=this.ea=c,this.value=e,h;c++}else{if(c<b)return this.key=c,this.value=a[c],h;this.zg()}return q};
Ja.prototype.first=Ja.prototype.zb=function(){var a=this.ff;this.Ya=a.Jb;this.ea=0;var a=a.n,b=a.length,c=this.gn;if(c!==n){for(var d=0;d<b;){var e=a[d];if(c(e))return this.key=this.ea=d,this.value=e;d++}return n}return 0<b?(e=a[0],this.key=0,this.value=e):n};w.u(Ja,{count:"count"},function(){var a=this.gn;if(a!==n){for(var b=0,c=this.ff.n,d=c.length,e=0;e<d;e++)a(c[e])&&b++;return b}return this.ff.n.length});Ja.prototype.zg=function(){this.key=-1;this.value=n;this.Ya=-1;this.gn=n;this.ff.hh=this};
Ja.prototype.toString=function(){return"ListIterator@"+this.ea+"/"+this.ff.count};function Ka(a){this.ff=a;this.reset()}w.Nd(Ka,{key:h,value:h});w.u(Ka,{l:"iterator"},function(){return this});Ka.prototype.reset=Ka.prototype.reset=function(){var a=this.ff;a.Bx=n;this.Ya=a.Jb;this.ea=a.n.length};Ka.prototype.next=Ka.prototype.next=function(){var a=this.ff;a.Jb!==this.Ya&&w.m("the List has been modified during iteration");var b=--this.ea;if(0<=b)return this.key=b,this.value=a.n[b],h;this.zg();return q};
Ka.prototype.first=Ka.prototype.zb=function(){var a=this.ff;this.Ya=a.Jb;var b=a.n;this.ea=a=b.length-1;return 0<=a?(b=b[a],this.key=a,this.value=b):n};w.u(Ka,{count:"count"},function(){return this.ff.n.length});Ka.prototype.zg=function(){this.key=-1;this.value=n;this.Ya=-1;this.ff.Bx=this};Ka.prototype.toString=function(){return"ListIteratorBackwards("+this.ea+"/"+this.ff.count+")"};
function z(a){w.jc(this);this.ab=q;this.n=[];this.Jb=0;this.Bx=this.hh=n;a===f||a===n?this.T=n:"string"===typeof a?"object"===a||"string"===a||"number"===a||"boolean"===a||"function"===a?this.T=a:w.ra(a,"the string 'object', 'number', 'string', 'boolean', or 'function'","List constructor: type"):"function"===typeof a?this.T=a===Object?"object":a===String?"string":a===Number?"number":a===Boolean?"boolean":a===Function?"function":a:w.ra(a,"null, a primitive type name, or a class type","List constructor: type")}
w.Q("List",z);z.prototype.ug=function(a){this.T!==n&&("string"===typeof this.T?(typeof a!==this.T||a===n)&&w.ic(a,this.T):a instanceof this.T||w.ic(a,this.T))};z.prototype.sd=function(){var a=this.Jb;a++;999999999<a&&(a=0);this.Jb=a};z.prototype.freeze=z.prototype.freeze=function(){this.ab=h;return this};z.prototype.thaw=z.prototype.Ia=function(){this.ab=q;return this};z.prototype.toString=function(){return"List("+w.Ch(this.T)+")#"+w.ec(this)};
z.prototype.add=z.prototype.add=function(a){a!==n&&(u&&this.ug(a),w.H(this,a),this.n.push(a),this.sd())};z.prototype.addAll=z.prototype.Xf=function(a){if(a===n)return this;w.H(this);var b=this.n;if(w.isArray(a))for(var c=w.Sb(a),d=0;d<c;d++){var e=w.Eb(a,d);u&&this.ug(e);b.push(e)}else for(a=a.l;a.next();)e=a.value,u&&this.ug(e),b.push(e);this.sd();return this};z.prototype.clear=z.prototype.clear=function(){w.H(this);this.n=[];this.sd()};
z.prototype.contains=z.prototype.contains=function(a){if(a===n)return q;u&&this.ug(a);return-1!==this.n.indexOf(a)};z.prototype.indexOf=z.prototype.indexOf=function(a){if(a===n)return-1;u&&this.ug(a);return this.n.indexOf(a)};z.prototype.elt=z.prototype.oa=function(a){u&&w.o(a,z,"elt:i");var b=this.n;(0>a||a>=b.length)&&w.ra(a,"0 <= i < length",z,"elt:i");return b[a]};
z.prototype.setElt=z.prototype.aw=function(a,b){u&&(this.ug(b),w.o(a,z,"setElt:i"));var c=this.n;(0>a||a>=c.length)&&w.ra(a,"0 <= i < length",z,"setElt:i");w.H(this,a);c[a]=b};z.prototype.first=z.prototype.zb=function(){var a=this.n;return 0===a.length?n:a[0]};z.prototype.insertAt=z.prototype.yc=function(a,b){u&&(this.ug(b),w.o(a,z,"insertAt:i"));0>a&&w.ra(a,">= 0",z,"insertAt:i");w.H(this,a);var c=this.n;a>=c.length?c.push(b):c.splice(a,0,b);this.sd();return h};
z.prototype.remove=z.prototype.remove=function(a){if(a===n)return q;u&&this.ug(a);w.H(this,a);var b=this.n,a=b.indexOf(a);if(-1===a)return q;a===b.length-1?b.pop():b.splice(a,1);this.sd();return h};z.prototype.removeAt=z.prototype.Xe=function(a){u&&w.o(a,z,"removeAt:i");var b=this.n;(0>a||a>=b.length)&&w.ra(a,"0 <= i < length",z,"removeAt:i");w.H(this,a);a===b.length-1?b.pop():b.splice(a,1);this.sd()};
z.prototype.removeRange=z.prototype.removeRange=function(a,b){u&&(w.o(a,z,"removeRange:from"),w.o(b,z,"removeRange:to"));var c=this.n;(0>a||a>=c.length)&&w.ra(a,"0 <= from < length",z,"elt:from");(0>b||b>=c.length)&&w.ra(b,"0 <= to < length",z,"elt:to");w.H(this,a);var d=c.slice((b||a)+1||c.length);c.length=0>a?c.length+a:a;c.push.apply(c,d);this.sd()};z.prototype.copy=z.prototype.copy=function(){for(var a=new z(this.T),b=this.n,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};
z.prototype.toArray=z.prototype.sg=function(){for(var a=[],b=this.n,c=this.count,d=0;d<c;d++)a.push(b[d]);return a};z.prototype.toSet=z.prototype.mI=function(){for(var a=new ma(this.T),b=this.n,c=this.count,d=0;d<c;d++)a.add(b[d]);return a};z.prototype.sort=z.prototype.sort=function(a){u&&w.k(a,"function",z,"sort:sortfunc");w.H(this);this.n.sort(a);this.sd();return this};
z.prototype.sortRange=z.prototype.Ho=function(a,b,c){var d=this.n,e=d.length;b===f&&(b=0);c===f&&(c=e);u&&(w.k(a,"function",z,"sortRange:sortfunc"),w.o(b,z,"sortRange:from"),w.o(c,z,"sortRange:to"));w.H(this);var g=c-b;if(1>=g)return this;(0>b||b>=e-1)&&w.ra(b,"0 <= from < length",z,"sortRange:from");if(2===g)return c=d[b],e=d[b+1],0<a(c,e)&&(d[b]=e,d[b+1]=c,this.sd()),this;if(0===b)if(c>=e)d.sort(a);else{g=d.slice(0,c);g.sort(a);for(a=0;a<c;a++)d[a]=g[a]}else if(c>=e){g=d.slice(b);g.sort(a);for(a=
b;a<e;a++)d[a]=g[a-b]}else{g=d.slice(b,c);g.sort(a);for(a=b;a<c;a++)d[a]=g[a-b]}this.sd();return this};z.prototype.reverse=z.prototype.reverse=function(){w.H(this);this.n.reverse();this.sd();return this};w.u(z,{count:"count"},function(){return this.n.length});w.u(z,{length:"length"},function(){return this.n.length});w.u(z,{l:"iterator"},function(){if(0>=this.n.length)return w.Gf;var a=this.hh;return a!==n?(a.reset(),a):new Ja(this)});
w.u(z,{jo:"iteratorBackwards"},function(){if(0>=this.n.length)return w.Gf;var a=this.Bx;return a!==n?(a.reset(),a):new Ka(this)});function La(a){this.U=a;this.reset()}w.Nd(La,{key:h,value:h});w.u(La,{l:"iterator"},function(){return this});La.prototype.reset=La.prototype.reset=function(){var a=this.U;a.hh=n;this.Ya=a.Jb;this.Gd=n};
La.prototype.next=La.prototype.next=function(){var a=this.U;a.Jb!==this.Ya&&w.m("the Set has been modified during iteration");var b=this.Gd,b=b===n?a.ge:b.ij;if(b!==n)return this.Gd=b,this.value=b.value,this.key=b.key,h;this.zg();return q};La.prototype.first=La.prototype.zb=function(){var a=this.U;this.Ya=a.Jb;a=a.ge;if(a!==n){this.Gd=a;var b=a.value;this.key=a.key;return this.value=b}return n};w.u(La,{count:"count"},function(){return this.U.Be});
La.prototype.zg=function(){this.value=n;this.Ya=-1;this.U.hh=this};La.prototype.toString=function(){return this.Gd!==n?"SetIterator@"+this.Gd.value:"SetIterator"};
function ma(a){w.jc(this);this.ab=q;a===f||a===n?this.T=n:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.T=a:w.ra(a,"the string 'object', 'number' or 'string'","Set constructor: type"):"function"===typeof a?this.T=a===Object?"object":a===String?"string":a===Number?"number":a:w.ra(a,"null, a primitive type name, or a class type","Set constructor: type");this.Hc={};this.Be=0;this.hh=n;this.Jb=0;this.ih=this.ge=n}w.Q("Set",ma);
ma.prototype.ug=function(a){this.T!==n&&("string"===typeof this.T?(typeof a!==this.T||a===n)&&w.ic(a,this.T):a instanceof this.T||w.ic(a,this.T))};ma.prototype.sd=function(){var a=this.Jb;a++;999999999<a&&(a=0);this.Jb=a};ma.prototype.freeze=ma.prototype.freeze=function(){this.ab=h;return this};ma.prototype.thaw=ma.prototype.Ia=function(){this.ab=q;return this};ma.prototype.toString=function(){return"Set("+w.Ch(this.T)+")#"+w.ec(this)};
ma.prototype.add=ma.prototype.add=function(a){if(a===n)return q;u&&this.ug(a);w.H(this,a);var b=a;w.nb(a)&&(b=w.cs(a));return this.Hc[b]===f?(this.Be++,a=new Ma(a,a),this.Hc[b]=a,b=this.ih,b===n?this.ge=a:(a.hn=b,b.ij=a),this.ih=a,this.sd(),h):q};ma.prototype.addAll=ma.prototype.Xf=function(a){if(a===n)return this;w.H(this);if(w.isArray(a))for(var b=w.Sb(a),c=0;c<b;c++)this.add(w.Eb(a,c));else for(a=a.l;a.next();)this.add(a.value);return this};
ma.prototype.contains=ma.prototype.contains=function(a){if(a===n)return q;u&&this.ug(a);var b=a;return w.nb(a)&&(b=w.ec(a),b===f)?q:this.Hc[b]!==f};ma.prototype.containsAll=ma.prototype.BJ=function(a){if(a===n)return h;for(a=a.l;a.next();)if(!this.contains(a.value))return q;return h};ma.prototype.containsAny=ma.prototype.CJ=function(a){if(a===n)return h;for(a=a.l;a.next();)if(this.contains(a.value))return h;return q};ma.prototype.first=ma.prototype.zb=function(){var a=this.ge;return a===n?n:a.value};
ma.prototype.remove=ma.prototype.remove=function(a){if(a===n)return q;u&&this.ug(a);w.H(this,a);var b=a;if(w.nb(a)&&(b=w.ec(a),b===f))return q;a=this.Hc[b];if(a===f)return q;var c=a.ij,d=a.hn;c!==n&&(c.hn=d);d!==n&&(d.ij=c);this.ge===a&&(this.ge=c);this.ih===a&&(this.ih=d);delete this.Hc[b];this.Be--;this.sd();return h};ma.prototype.removeAll=ma.prototype.SL=function(a){if(a===n)return this;w.H(this);for(a=a.l;a.next();)this.remove(a.value);return this};
ma.prototype.retainAll=ma.prototype.ZL=function(a){if(a===n||0===this.count)return this;w.H(this);var b=new ma(this.T);b.Xf(a);for(var a=new z(this.T),c=this.l;c.next();)b.contains(c.value)||a.add(c.value);for(b=a.l;b.next();)this.remove(b.value);return this};ma.prototype.clear=ma.prototype.clear=function(){w.H(this);this.Hc={};this.Be=0;this.ih=this.ge=n;this.sd()};ma.prototype.copy=ma.prototype.copy=function(){var a=new ma(this.T),b=this.Hc,c;for(c in b)a.add(b[c].value);return a};
ma.prototype.toArray=ma.prototype.sg=function(){var a=[],b=this.Hc,c;for(c in b)a.push(b[c].value);return a};ma.prototype.toList=ma.prototype.lI=function(){var a=new z(this.T),b=this.Hc,c;for(c in b)a.add(b[c]);return a};w.u(ma,{count:"count"},t("Be"));w.u(ma,{l:"iterator"},function(){if(0>=this.Be)return w.Gf;var a=this.hh;return a!==n?(a.reset(),a):new La(this)});function Oa(a){this.Tc=a;this.reset()}w.Nd(Oa,{key:h,value:h});w.u(Oa,{l:"iterator"},function(){return this});
Oa.prototype.reset=Oa.prototype.reset=function(){this.Ya=this.Tc.Jb;this.Gd=n};Oa.prototype.next=Oa.prototype.next=function(){var a=this.Tc;a.Jb!==this.Ya&&w.m("the Map has been modified during iteration");var b=this.Gd,b=b===n?a.ge:b.ij;if(b!==n)return this.Gd=b,this.value=b.key,h;this.zg();return q};Oa.prototype.first=Oa.prototype.zb=function(){var a=this.Tc;this.Ya=a.Jb;a=a.ge;if(a!==n){this.Gd=a;var b=a.value;this.key=a.key;return this.value=b}return n};w.u(Oa,{count:"count"},function(){return this.Tc.Be});
Oa.prototype.zg=function(){this.value=n;this.Ya=-1};Oa.prototype.toString=function(){return this.Gd!==n?"MapKeySetIterator@"+this.Gd.value:"MapKeySetIterator"};function Qa(a){w.jc(this);this.Tc=a}w.Ea(Qa,ma);Qa.prototype.freeze=function(){return this};Qa.prototype.Ia=function(){return this};Qa.prototype.toString=function(){return"MapKeySet("+this.Tc.toString()+")"};Qa.prototype.add=Qa.prototype.add=function(){w.m("This Set is read-only: "+this.toString());return q};
Qa.prototype.contains=Qa.prototype.contains=function(a){return this.Tc.contains(a)};Qa.prototype.remove=Qa.prototype.remove=function(){w.m("This Set is read-only: "+this.toString());return q};Qa.prototype.clear=Qa.prototype.clear=function(){w.m("This Set is read-only: "+this.toString())};Qa.prototype.copy=Qa.prototype.copy=function(){return new Qa(this.Tc)};Qa.prototype.toSet=Qa.prototype.mI=function(){var a=new ma(this.Tc.T),b=this.Tc.Hc,c;for(c in b)a.add(b[c].key);return a};
Qa.prototype.toArray=Qa.prototype.sg=function(){var a=[],b=this.Tc.Hc,c;for(c in b)a.push(b[c].key);return a};Qa.prototype.toList=Qa.prototype.lI=function(){var a=new z(this.T),b=this.Tc.Hc,c;for(c in b)a.add(b[c].key);return a};w.u(Qa,{count:"count"},function(){return this.Tc.Be});w.u(Qa,{l:"iterator"},function(){return 0>=this.Tc.Be?w.Gf:new Oa(this.Tc)});function Ma(a,b){this.key=a;this.value=b;this.hn=this.ij=n}w.Nd(Ma,{key:h,value:h});
Ma.prototype.toString=function(){return"{"+this.key+":"+this.value+"}"};function Ra(a){this.Tc=a;this.reset()}w.Nd(Ra,{key:h,value:h});w.u(Ra,{l:"iterator"},function(){return this});Ra.prototype.reset=Ra.prototype.reset=function(){var a=this.Tc;a.hh=n;this.Ya=a.Jb;this.Gd=n};
Ra.prototype.next=Ra.prototype.next=function(){var a=this.Tc;a.Jb!==this.Ya&&w.m("the Map has been modified during iteration");var b=this.Gd,b=b===n?a.ge:b.ij;if(b!==n)return this.Gd=b,this.key=b.key,this.value=b.value,h;this.zg();return q};Ra.prototype.first=Ra.prototype.zb=function(){var a=this.Tc;this.Ya=a.Jb;a=a.ge;if(a!==n){this.Gd=a;var b=a.key;this.key=b;this.value=a.value;return b}return n};w.u(Ra,{count:"count"},function(){return this.Tc.Be});
Ra.prototype.zg=function(){this.value=this.key=n;this.Ya=-1;this.Tc.hh=this};Ra.prototype.toString=function(){return this.Gd!==n?"MapIterator@"+this.Gd:"MapIterator"};
function ka(a,b){w.jc(this);this.ab=q;a===f||a===n?this.ci=n:"string"===typeof a?"object"===a||"string"===a||"number"===a?this.ci=a:w.ra(a,"the string 'object', 'number' or 'string'","Map constructor: keytype"):"function"===typeof a?this.ci=a===Object?"object":a===String?"string":a===Number?"number":a:w.ra(a,"null, a primitive type name, or a class type","Map constructor: keytype");b===f||b===n?this.vi=n:"string"===typeof b?"object"===b||"string"===b||"boolean"===b||"number"===b||"function"===b?this.vi=
b:w.ra(b,"the string 'object', 'number', 'string', 'boolean', or 'function'","Map constructor: valtype"):"function"===typeof b?this.vi=b===Object?"object":b===String?"string":b===Number?"number":b===Boolean?"boolean":b===Function?"function":b:w.ra(b,"null, a primitive type name, or a class type","Map constructor: valtype");this.Hc={};this.Be=0;this.hh=n;this.Jb=0;this.ih=this.ge=n}w.Q("Map",ka);
function Sa(a,b){a.ci!==n&&("string"===typeof a.ci?(typeof b!==a.ci||b===n)&&w.ic(b,a.ci):b instanceof a.ci||w.ic(b,a.ci))}ka.prototype.sd=function(){var a=this.Jb;a++;999999999<a&&(a=0);this.Jb=a};ka.prototype.freeze=ka.prototype.freeze=function(){this.ab=h;return this};ka.prototype.thaw=ka.prototype.Ia=function(){this.ab=q;return this};ka.prototype.toString=function(){return"Map("+w.Ch(this.ci)+","+w.Ch(this.vi)+")#"+w.ec(this)};
ka.prototype.add=ka.prototype.add=function(a,b){u&&(Sa(this,a),this.vi!==n&&("string"===typeof this.vi?(typeof b!==this.vi||b===n)&&w.ic(b,this.vi):b instanceof this.vi||w.ic(b,this.vi)));w.H(this,a);var c=a;w.nb(a)&&(c=w.cs(a));var d=this.Hc[c];if(d===f)return this.Be++,d=new Ma(a,b),this.Hc[c]=d,c=this.ih,c===n?this.ge=d:(d.hn=c,c.ij=d),this.ih=d,this.sd(),h;d.value=b;return q};
ka.prototype.addAll=ka.prototype.Xf=function(a){if(a===n)return this;u&&w.i(a,ka,ka,"addAll:map");for(a=a.l;a.next();)this.add(a.key,a.value);return this};ka.prototype.contains=ka.prototype.contains=function(a){u&&Sa(this,a);var b=a;return w.nb(a)&&(b=w.ec(a),b===f)?q:this.Hc[b]!==f};ka.prototype.getValue=ka.prototype.qa=function(a){u&&Sa(this,a);var b=a;if(w.nb(a)&&(b=w.ec(a),b===f))return n;a=this.Hc[b];return a===f?n:a.value};
ka.prototype.remove=ka.prototype.remove=function(a){if(a===n)return q;u&&Sa(this,a);w.H(this,a);var b=a;if(w.nb(a)&&(b=w.ec(a),b===f))return q;a=this.Hc[b];if(a===f)return q;var c=a.ij,d=a.hn;c!==n&&(c.hn=d);d!==n&&(d.ij=c);this.ge===a&&(this.ge=c);this.ih===a&&(this.ih=d);delete this.Hc[b];this.Be--;this.sd();return h};ka.prototype.clear=ka.prototype.clear=function(){w.H(this);this.Hc={};this.Be=0;this.ih=this.ge=n;this.sd()};
ka.prototype.copy=ka.prototype.copy=function(){var a=new ka(this.ci,this.vi),b=this.Hc,c;for(c in b){var d=b[c];a.add(d.key,d.value)}return a};ka.prototype.toArray=ka.prototype.sg=function(){var a=[],b=this.Hc,c;for(c in b){var d=b[c];a.push(new Ma(d.key,d.value))}return a};ka.prototype.toKeySet=ka.prototype.Nj=function(){return new Qa(this)};w.u(ka,{count:"count"},t("Be"));w.u(ka,{l:"iterator"},function(){if(0>=this.count)return w.Gf;var a=this.hh;return a!==n?(a.reset(),a):new Ra(this)});
function F(a,b){a===f?this.y=this.x=0:"number"===typeof a&&"number"===typeof b?(this.x=a,this.y=b):w.m("Invalid arguments to Point constructor")}w.Q("Point",F);w.Nd(F,{x:h,y:h});F.prototype.Va=function(a){u&&w.i(a,F,F,"assign:p");this.x=a.x;this.y=a.y};F.prototype.U=function(a,b){this.x=a;this.y=b};F.prototype.setTo=F.prototype.Go=function(a,b){u&&(w.k(a,"number",F,"setTo:x"),w.k(b,"number",F,"setTo:y"));w.H(this);this.x=a;this.y=b;return this};
F.prototype.set=F.prototype.set=function(a){u&&w.i(a,F,F,"set:p");w.H(this);this.x=a.x;this.y=a.y;return this};F.prototype.copy=F.prototype.copy=function(){var a=new F;a.x=this.x;a.y=this.y;return a};F.prototype.Za=function(){this.ab=h;Object.freeze(this);return this};F.prototype.O=function(){return Object.isFrozen(this)?this:this.copy().freeze()};F.prototype.freeze=function(){this.ab=h;return this};F.prototype.Ia=function(){Object.isFrozen(this)&&w.m("cannot thaw constant: "+this);this.ab=q;return this};
F.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new F(c,e)}return new F};F.stringify=function(a){return a instanceof F?a.x.toString()+" "+a.y.toString():a.toString()};F.prototype.toString=function(){return"Point("+this.x+","+this.y+")"};F.prototype.equals=F.prototype.I=function(a){return!(a instanceof F)?q:this.x===a.x&&this.y===a.y};
F.prototype.equalTo=F.prototype.ez=function(a,b){return this.x===a&&this.y===b};F.prototype.Ej=function(a){return Ta(this.x,a.x)&&Ta(this.y,a.y)};F.prototype.Ei=function(a){return Ua(this.x,a.x)&&Ua(this.y,a.y)};F.prototype.add=F.prototype.add=function(a){u&&w.i(a,F,F,"add:p");w.H(this);this.x+=a.x;this.y+=a.y;return this};F.prototype.subtract=F.prototype.Js=function(a){u&&w.i(a,F,F,"subtract:p");w.H(this);this.x-=a.x;this.y-=a.y;return this};
F.prototype.offset=F.prototype.offset=function(a,b){u&&(w.o(a,F,"offset:dx"),w.o(b,F,"offset:dy"));w.H(this);this.x+=a;this.y+=b;return this};F.prototype.rotate=F.prototype.rotate=function(a){u&&w.o(a,F,"rotate:angle");w.H(this);if(0===a)return this;var b=this.x,c=this.y;if(0===b&&0===c)return this;var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d);this.x=a*b-d*c;this.y=d*b+a*c;return this};
F.prototype.scale=F.prototype.scale=function(a,b){u&&(w.o(a,F,"scale:sx"),w.o(b,F,"scale:sy"));this.x*=a;this.y*=b;return this};F.prototype.distanceSquaredPoint=F.prototype.Yl=function(a){u&&w.i(a,F,F,"distanceSquaredPoint:p");var b=a.x-this.x,a=a.y-this.y;return b*b+a*a};F.prototype.distanceSquared=F.prototype.QJ=function(a,b){u&&(w.o(a,F,"distanceSquared:px"),w.o(b,F,"distanceSquared:py"));var c=a-this.x,d=b-this.y;return c*c+d*d};
F.prototype.normalize=F.prototype.normalize=function(){w.H(this);var a=this.x,b=this.y,c=Math.sqrt(a*a+b*b);0<c&&(this.x=a/c,this.y=b/c);return this};F.prototype.directionPoint=F.prototype.Ai=function(a){u&&w.i(a,F,F,"directionPoint:p");return Va(a.x-this.x,a.y-this.y)};F.prototype.direction=F.prototype.direction=function(a,b){u&&(w.o(a,F,"direction:px"),w.o(b,F,"direction:py"));return Va(a-this.x,b-this.y)};
function Va(a,b){if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;var c=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?c=0>b?c+180:180-c:0>b&&(c=360-c);return c}F.prototype.setRectSpot=F.prototype.Fo=function(a,b){u&&(w.i(a,G,F,"setRectSpot:r"),w.i(b,H,F,"setRectSpot:spot"));w.H(this);this.x=a.x+b.x*a.width+b.offsetX;this.y=a.y+b.y*a.height+b.offsetY;return this};
F.prototype.setSpot=F.prototype.mm=function(a,b,c,d,e){u&&(w.o(a,F,"setSpot:x"),w.o(b,F,"setSpot:y"),w.o(c,F,"setSpot:w"),w.o(d,F,"setSpot:h"),(0>c||0>d)&&w.m("Point.setSpot:Width and height cannot be negative"),w.i(e,H,F,"setSpot:spot"));w.H(this);this.x=a+e.x*c+e.offsetX;this.y=b+e.y*d+e.offsetY;return this};F.prototype.transform=function(a){u&&w.i(a,Wa,F,"transform:t");a.Ta(this);return this};function Za(a,b){u&&w.i(b,Wa,F,"transformInverted:t");b.Ii(a);return a}var $a;
F.distanceLineSegmentSquared=$a=function(a,b,c,d,e,g){u&&(w.o(a,F,"distanceLineSegmentSquared:px"),w.o(b,F,"distanceLineSegmentSquared:py"),w.o(c,F,"distanceLineSegmentSquared:ax"),w.o(d,F,"distanceLineSegmentSquared:ay"),w.o(e,F,"distanceLineSegmentSquared:bx"),w.o(g,F,"distanceLineSegmentSquared:by"));var i=e-c,j=g-d,k=i*i+j*j,c=c-a,d=d-b,l=-c*i-d*j;if(0>=l||l>=k)return i=e-a,j=g-b,Math.min(c*c+d*d,i*i+j*j);a=i*d-j*c;return a*a/k};
F.distanceSquared=function(a,b,c,d){u&&(w.o(a,F,"distanceSquared:px"),w.o(b,F,"distanceSquared:py"),w.o(c,F,"distanceSquared:qx"),w.o(d,F,"distanceSquared:qy"));a=c-a;b=d-b;return a*a+b*b};var ab;
F.direction=ab=function(a,b,c,d){u&&(w.o(a,F,"direction:px"),w.o(b,F,"direction:py"),w.o(c,F,"direction:qx"),w.o(d,F,"direction:qy"));a=c-a;b=d-b;if(0===a)return 0<b?90:0>b?270:0;if(0===b)return 0<a?0:180;if(isNaN(a)||isNaN(b))return 0;d=180*Math.atan(Math.abs(b/a))/Math.PI;0>a?d=0>b?d+180:180-d:0>b&&(d=360-d);return d};F.prototype.isReal=F.prototype.P=function(){return isFinite(this.x)&&isFinite(this.y)};
function bb(a,b){a===f?this.height=this.width=0:"number"===typeof a&&(0<=a||isNaN(a))&&"number"===typeof b&&(0<=b||isNaN(b))?(this.width=a,this.height=b):w.m("Invalid arguments to Size constructor")}w.Q("Size",bb);w.Nd(bb,{width:h,height:h});bb.prototype.Va=function(a){u&&w.i(a,bb,bb,"assign:s");this.width=a.width;this.height=a.height};bb.prototype.U=function(a,b){this.width=a;this.height=b};
bb.prototype.setTo=bb.prototype.Go=function(a,b){u&&(w.k(a,"number",bb,"setTo:w"),w.k(b,"number",bb,"setTo:h"));0>a&&w.ra(a,">= 0",bb,"setTo:w");0>b&&w.ra(b,">= 0",bb,"setTo:h");w.H(this);this.width=a;this.height=b;return this};bb.prototype.set=bb.prototype.set=function(a){u&&w.i(a,bb,bb,"set:s");w.H(this);this.width=a.width;this.height=a.height;return this};bb.prototype.copy=bb.prototype.copy=function(){var a=new bb;a.width=this.width;a.height=this.height;return a};
bb.prototype.Za=function(){this.ab=h;Object.freeze(this);return this};bb.prototype.O=function(){return Object.isFrozen(this)?this:this.copy().freeze()};bb.prototype.freeze=function(){this.ab=h;return this};bb.prototype.Ia=function(){Object.isFrozen(this)&&w.m("cannot thaw constant: "+this);this.ab=q;return this};
bb.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));return new bb(c,e)}return new bb};bb.stringify=function(a){return a instanceof bb?a.width.toString()+" "+a.height.toString():a.toString()};bb.prototype.toString=function(){return"Size("+this.width+","+this.height+")"};
bb.prototype.equals=bb.prototype.I=function(a){return!(a instanceof bb)?q:this.width===a.width&&this.height===a.height};bb.prototype.equalTo=bb.prototype.ez=function(a,b){return this.width===a&&this.height===b};bb.prototype.Ej=function(a){return Ta(this.width,a.width)&&Ta(this.height,a.height)};bb.prototype.Ei=function(a){return Ua(this.width,a.width)&&Ua(this.height,a.height)};bb.prototype.isReal=bb.prototype.P=function(){return isFinite(this.width)&&isFinite(this.height)};
function G(a,b,c,d){a===f?this.height=this.width=this.y=this.x=0:a instanceof F?b instanceof F?(this.x=Math.min(a.x,b.x),this.y=Math.min(a.y,b.y),this.width=Math.abs(a.x-b.x),this.height=Math.abs(a.y-b.y)):b instanceof bb?(this.x=a.x,this.y=a.y,this.width=b.width,this.height=b.height):w.m("Incorrect arguments supplied"):!u||"number"===typeof a&&"number"===typeof b&&"number"===typeof c&&(0<=c||isNaN(c))&&"number"===typeof d&&(0<=d||isNaN(d))?(this.x=a,this.y=b,this.width=c,this.height=d):w.m("Invalid arguments to Rect constructor")}
w.Q("Rect",G);w.Nd(G,{x:h,y:h,width:h,height:h});G.prototype.Va=function(a){u&&w.i(a,G,G,"assign:r");this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height};G.prototype.U=function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d};function db(a,b,c){a.width=b;a.height=c}
G.prototype.setTo=G.prototype.Go=function(a,b,c,d){u&&(w.k(a,"number",G,"setTo:x"),w.k(b,"number",G,"setTo:y"),w.k(c,"number",G,"setTo:w"),w.k(d,"number",G,"setTo:h"));0>c&&w.ra(c,">= 0",G,"setTo:w");0>d&&w.ra(d,">= 0",G,"setTo:h");w.H(this);this.x=a;this.y=b;this.width=c;this.height=d;return this};G.prototype.set=G.prototype.set=function(a){u&&w.i(a,G,G,"set:r");w.H(this);this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height;return this};
G.prototype.setPoint=G.prototype.J=function(a){u&&w.i(a,F,G,"setPoint:p");w.H(this);this.x=a.x;this.y=a.y;return this};G.prototype.setSize=G.prototype.YH=function(a){u&&w.i(a,bb,G,"setSize:s");w.H(this);this.width=a.width;this.height=a.height;return this};G.prototype.copy=G.prototype.copy=function(){var a=new G;a.x=this.x;a.y=this.y;a.width=this.width;a.height=this.height;return a};G.prototype.Za=function(){this.ab=h;Object.freeze(this);return this};
G.prototype.O=function(){return Object.isFrozen(this)?this:this.copy().freeze()};G.prototype.freeze=function(){this.ab=h;return this};G.prototype.Ia=function(){Object.isFrozen(this)&&w.m("cannot thaw constant: "+this);this.ab=q;return this};
G.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new G(c,e,g,i)}return new G};G.stringify=function(a){return a instanceof G?a.x.toString()+" "+a.y.toString()+" "+a.width.toString()+" "+a.height.toString():a.toString()};
G.prototype.toString=function(){return"Rect("+this.x+","+this.y+","+this.width+","+this.height+")"};G.prototype.equals=G.prototype.I=function(a){return!(a instanceof G)?q:this.x===a.x&&this.y===a.y&&this.width===a.width&&this.height===a.height};G.prototype.equalTo=G.prototype.ez=function(a,b,c,d){return this.x===a&&this.y===b&&this.width===c&&this.height===d};G.prototype.Ej=function(a){return Ta(this.x,a.x)&&Ta(this.y,a.y)&&Ta(this.width,a.width)&&Ta(this.height,a.height)};
G.prototype.Ei=function(a){return Ua(this.x,a.x)&&Ua(this.y,a.y)&&Ua(this.width,a.width)&&Ua(this.height,a.height)};G.prototype.containsPoint=G.prototype.ua=function(a){u&&w.i(a,F,G,"containsPoint:p");return this.x<=a.x&&this.x+this.width>=a.x&&this.y<=a.y&&this.y+this.height>=a.y};G.prototype.containsRect=G.prototype.Ul=function(a){u&&w.i(a,G,G,"containsRect:r");return this.x<=a.x&&a.x+a.width<=this.x+this.width&&this.y<=a.y&&a.y+a.height<=this.y+this.height};
G.prototype.contains=G.prototype.contains=function(a,b,c,d){u?(w.o(a,G,"contains:x"),w.o(b,G,"contains:y"),c===f?c=0:w.o(c,G,"contains:w"),d===f?d=0:w.o(d,G,"contains:h"),(0>c||0>d)&&w.m("Rect.contains:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.x<=a&&a+c<=this.x+this.width&&this.y<=b&&b+d<=this.y+this.height};G.prototype.reset=function(){w.H(this);this.height=this.width=this.y=this.x=0};
G.prototype.offset=G.prototype.offset=function(a,b){u&&(w.o(a,G,"offset:dx"),w.o(b,G,"offset:dy"));w.H(this);this.x+=a;this.y+=b;return this};G.prototype.inflate=G.prototype.Pg=function(a,b){u&&(w.o(a,G,"inflate:w"),w.o(b,G,"inflate:h"));return fb(this,b,a,b,a)};G.prototype.addMargin=G.prototype.En=function(a){u&&w.i(a,hb,G,"addMargin:m");return fb(this,a.top,a.right,a.bottom,a.left)};
G.prototype.subtractMargin=G.prototype.gI=function(a){u&&w.i(a,hb,G,"subtractMargin:m");return fb(this,-a.top,-a.right,-a.bottom,-a.left)};G.prototype.grow=G.prototype.RK=function(a,b,c,d){u&&(w.o(a,G,"grow:t"),w.o(b,G,"grow:r"),w.o(c,G,"grow:b"),w.o(d,G,"grow:l"));return fb(this,a,b,c,d)};function fb(a,b,c,d,e){w.H(a);var g=a.width;c+e<=-g?(a.x+=g/2,a.width=0):(a.x-=e,a.width+=c+e);c=a.height;b+d<=-c?(a.y+=c/2,a.height=0):(a.y-=b,a.height+=b+d);return a}
G.prototype.intersectRect=G.prototype.dL=function(a){u&&w.i(a,G,G,"intersectRect:r");return ib(this,a.x,a.y,a.width,a.height)};G.prototype.intersect=G.prototype.cL=function(a,b,c,d){u&&(w.o(a,G,"intersect:x"),w.o(b,G,"intersect:y"),w.o(c,G,"intersect:w"),w.o(d,G,"intersect:h"),(0>c||0>d)&&w.m("Rect.intersect:Width and height cannot be negative"));return ib(this,a,b,c,d)};
function ib(a,b,c,d,e){w.H(a);var g=Math.max(a.x,b),i=Math.max(a.y,c),b=Math.min(a.x+a.width,b+d),c=Math.min(a.y+a.height,c+e);a.x=g;a.y=i;a.width=Math.max(0,b-g);a.height=Math.max(0,c-i);return a}G.prototype.intersectsRect=G.prototype.Qe=function(a){u&&w.i(a,G,G,"intersectsRect:r");return this.TG(a.x,a.y,a.width,a.height)};
G.prototype.intersects=G.prototype.TG=function(a,b,c,d){u&&(w.o(a,G,"intersects:x"),w.o(b,G,"intersects:y"),w.o(a,G,"intersects:w"),w.o(b,G,"intersects:h"),(0>c||0>d)&&w.m("Rect.intersects:Width and height cannot be negative"));var e=this.width,g=this.x;if(Infinity!==e&&Infinity!==c&&(e+=g,c+=a,isNaN(c)||isNaN(e)||g>c||a>e))return q;a=this.height;e=this.y;return Infinity!==a&&Infinity!==d&&(a+=e,d+=b,isNaN(d)||isNaN(a)||e>d||b>a)?q:h};
G.prototype.unionPoint=G.prototype.hw=function(a){u&&w.i(a,F,G,"unionPoint:p");return this.Wb(a.x,a.y,0,0)};G.prototype.unionRect=G.prototype.Ni=function(a){u&&w.i(a,G,G,"unionRect:r");return this.Wb(a.x,a.y,a.width,a.height)};
G.prototype.union=G.prototype.tM=function(a,b,c,d){w.H(this);u?(w.o(a,G,"union:x"),w.o(b,G,"union:y"),c===f?c=0:w.o(c,G,"union:w"),d===f?d=0:w.o(d,G,"union:h"),(0>c||0>d)&&w.m("Rect.union:Width and height cannot be negative")):(c===f&&(c=0),d===f&&(d=0));return this.Wb(a,b,c,d)};G.prototype.Wb=function(a,b,c,d){var e=Math.min(this.x,a),g=Math.min(this.y,b),a=Math.max(this.x+this.width,a+c),b=Math.max(this.y+this.height,b+d);this.x=e;this.y=g;this.width=a-e;this.height=b-g;return this};
G.prototype.setSpot=G.prototype.mm=function(a,b,c){u&&(w.o(a,G,"setSpot:x"),w.o(b,G,"setSpot:y"),w.i(c,H,G,"setSpot:spot"));w.H(this);this.x=a-c.offsetX-c.x*this.width;this.y=b-c.offsetY-c.y*this.height;return this};var jb;
G.contains=jb=function(a,b,c,d,e,g,i,j){u?(w.o(a,G,"contains:rx"),w.o(b,G,"contains:ry"),w.o(c,G,"contains:rw"),w.o(d,G,"contains:rh"),w.o(e,G,"contains:x"),w.o(g,G,"contains:y"),i===f?i=0:w.o(i,G,"contains:w"),j===f?j=0:w.o(j,G,"contains:h"),(0>c||0>d||0>i||0>j)&&w.m("Rect.contains:Width and height cannot be negative")):(i===f&&(i=0),j===f&&(j=0));return a<=e&&e+i<=a+c&&b<=g&&g+j<=b+d};
G.intersects=function(a,b,c,d,e,g,i,j){u&&(w.o(a,G,"intersects:rx"),w.o(b,G,"intersects:ry"),w.o(c,G,"intersects:rw"),w.o(d,G,"intersects:rh"),w.o(e,G,"intersects:x"),w.o(g,G,"intersects:y"),w.o(i,G,"intersects:w"),w.o(j,G,"intersects:h"),(0>c||0>d||0>i||0>j)&&w.m("Rect.intersects:Width and height cannot be negative"));c+=a;i+=e;if(a>i||e>c)return q;a=d+b;j+=g;return b>j||g>a?q:h};w.g(G,"left",G.prototype.left);
w.defineProperty(G,{left:"left"},t("x"),function(a){w.H(this,a);u&&w.k(a,"number",G,"left");this.x=a});w.g(G,"top",G.prototype.top);w.defineProperty(G,{top:"top"},t("y"),function(a){w.H(this,a);u&&w.k(a,"number",G,"top");this.y=a});w.g(G,"right",G.prototype.right);w.defineProperty(G,{right:"right"},function(){return this.x+this.width},function(a){w.H(this,a);u&&w.o(a,G,"right");this.x+=a-(this.x+this.width)});w.g(G,"bottom",G.prototype.bottom);
w.defineProperty(G,{bottom:"bottom"},function(){return this.y+this.height},function(a){w.H(this,a);u&&w.o(a,G,"top");this.y+=a-(this.y+this.height)});w.g(G,"position",G.prototype.position);w.defineProperty(G,{position:"position"},function(){return new F(this.x,this.y)},function(a){w.H(this,a);u&&w.i(a,F,G,"position");this.x=a.x;this.y=a.y});w.g(G,"size",G.prototype.size);
w.defineProperty(G,{size:"size"},function(){return new bb(this.width,this.height)},function(a){w.H(this,a);u&&w.i(a,bb,G,"size");this.width=a.width;this.height=a.height});w.g(G,"center",G.prototype.av);w.defineProperty(G,{av:"center"},function(){return new F(this.x+this.width/2,this.y+this.height/2)},function(a){w.H(this,a);u&&w.i(a,F,G,"center");this.x=a.x-this.width/2;this.y=a.y-this.height/2});w.g(G,"centerX",G.prototype.pa);
w.defineProperty(G,{pa:"centerX"},function(){return this.x+this.width/2},function(a){w.H(this,a);u&&w.o(a,G,"centerX");this.x=a-this.width/2});w.g(G,"centerY",G.prototype.ta);w.defineProperty(G,{ta:"centerY"},function(){return this.y+this.height/2},function(a){w.H(this,a);u&&w.o(a,G,"centerY");this.y=a-this.height/2});G.prototype.isReal=G.prototype.P=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)};
G.prototype.isEmpty=G.prototype.fL=function(){return 0===this.width&&0===this.height};function hb(a,b,c,d){a===f?this.left=this.bottom=this.right=this.top=0:b===f?this.left=this.bottom=this.right=this.top=a:c===f?(d=b,this.top=a,this.right=b,this.bottom=a,this.left=d):d!==f?(this.top=a,this.right=b,this.bottom=c,this.left=d):w.m("Invalid arguments to Margin constructor")}w.Q("Margin",hb);w.Nd(hb,{top:h,right:h,bottom:h,left:h});
hb.prototype.Va=function(a){u&&w.i(a,hb,hb,"assign:m");this.top=a.top;this.right=a.right;this.bottom=a.bottom;this.left=a.left};hb.prototype.setTo=hb.prototype.Go=function(a,b,c,d){u&&(w.k(a,"number",hb,"setTo:t"),w.k(b,"number",hb,"setTo:r"),w.k(c,"number",hb,"setTo:b"),w.k(d,"number",hb,"setTo:l"));w.H(this);this.top=a;this.right=b;this.bottom=c;this.left=d;return this};
hb.prototype.set=hb.prototype.set=function(a){u&&w.i(a,hb,hb,"assign:m");w.H(this);this.top=a.top;this.right=a.right;this.bottom=a.bottom;this.left=a.left;return this};hb.prototype.copy=hb.prototype.copy=function(){var a=new hb;a.top=this.top;a.right=this.right;a.bottom=this.bottom;a.left=this.left;return a};hb.prototype.Za=function(){this.ab=h;Object.freeze(this);return this};hb.prototype.O=function(){return Object.isFrozen(this)?this:this.copy().freeze()};
hb.prototype.freeze=function(){this.ab=h;return this};hb.prototype.Ia=function(){Object.isFrozen(this)&&w.m("cannot thaw constant: "+this);this.ab=q;return this};hb.parse=function(a){if("string"===typeof a){for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new hb(c,e,g,i)}return new hb};
hb.stringify=function(a){return a instanceof hb?a.top.toString()+" "+a.right.toString()+" "+a.bottom.toString()+" "+a.left.toString():a.toString()};hb.prototype.toString=function(){return"Margin("+this.top+","+this.right+","+this.bottom+","+this.left+")"};hb.prototype.equals=hb.prototype.I=function(a){return!(a instanceof hb)?q:this.top===a.top&&this.right===a.right&&this.bottom===a.bottom&&this.left===a.left};
hb.prototype.equalTo=hb.prototype.ez=function(a,b,c,d){return this.top===a&&this.right===b&&this.bottom===c&&this.left===d};hb.prototype.Ej=function(a){return Ta(this.top,a.top)&&Ta(this.right,a.right)&&Ta(this.bottom,a.bottom)&&Ta(this.left,a.left)};hb.prototype.Ei=function(a){return Ua(this.top,a.top)&&Ua(this.right,a.right)&&Ua(this.bottom,a.bottom)&&Ua(this.left,a.left)};hb.prototype.isReal=hb.prototype.P=function(){return isFinite(this.top)&&isFinite(this.right)&&isFinite(this.bottom)&&isFinite(this.left)};
function Wa(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0}w.Nd(Wa,{m11:h,m12:h,m21:h,m22:h,dx:h,dy:h});Wa.prototype.set=Wa.prototype.set=function(a){u&&w.i(a,Wa,Wa,"set:t");this.m11=a.m11;this.m12=a.m12;this.m21=a.m21;this.m22=a.m22;this.dx=a.dx;this.dy=a.dy;return this};Wa.prototype.copy=Wa.prototype.copy=function(){var a=new Wa;a.m11=this.m11;a.m12=this.m12;a.m21=this.m21;a.m22=this.m22;a.dx=this.dx;a.dy=this.dy;return a};
Wa.prototype.toString=function(){return"Transform("+this.m11+","+this.m12+","+this.m21+","+this.m22+","+this.dx+","+this.dy+")"};Wa.prototype.equals=Wa.prototype.I=function(a){return!(a instanceof Wa)?q:this.m11===a.m11&&this.m12===a.m12&&this.m21===a.m21&&this.m22===a.m22&&this.dx===a.dx&&this.dy===a.dy};Wa.prototype.reset=Wa.prototype.reset=function(){this.m11=1;this.m21=this.m12=0;this.m22=1;this.dy=this.dx=0};
Wa.prototype.multiply=Wa.prototype.multiply=function(a){u&&w.i(a,Wa,Wa,"multiply:matrix");var b=this.m12*a.m11+this.m22*a.m12,c=this.m11*a.m21+this.m21*a.m22,d=this.m12*a.m21+this.m22*a.m22,e=this.m11*a.dx+this.m21*a.dy+this.dx,g=this.m12*a.dx+this.m22*a.dy+this.dy;this.m11=this.m11*a.m11+this.m21*a.m12;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g;return this};
Wa.prototype.multiplyInverted=Wa.prototype.rH=function(a){u&&w.i(a,Wa,Wa,"multiplyInverted:matrix");var b=1/(a.m11*a.m22-a.m12*a.m21),c=a.m22*b,d=-a.m12*b,e=-a.m21*b,g=a.m11*b,i=b*(a.m21*a.dy-a.m22*a.dx),j=b*(a.m12*a.dx-a.m11*a.dy),a=this.m12*c+this.m22*d,b=this.m11*e+this.m21*g,e=this.m12*e+this.m22*g,g=this.m11*i+this.m21*j+this.dx,i=this.m12*i+this.m22*j+this.dy;this.m11=this.m11*c+this.m21*d;this.m12=a;this.m21=b;this.m22=e;this.dx=g;this.dy=i;return this};
Wa.prototype.invert=Wa.prototype.oD=function(){var a=1/(this.m11*this.m22-this.m12*this.m21),b=-this.m12*a,c=-this.m21*a,d=this.m11*a,e=a*(this.m21*this.dy-this.m22*this.dx),g=a*(this.m12*this.dx-this.m11*this.dy);this.m11=this.m22*a;this.m12=b;this.m21=c;this.m22=d;this.dx=e;this.dy=g};
Wa.prototype.rotate=Wa.prototype.rotate=function(a,b,c){u&&(w.o(a,Wa,"rotate:angle"),w.o(b,Wa,"rotate:rx"),w.o(c,Wa,"rotate:ry"));this.translate(b,c);var d=a*Math.PI/180,a=Math.cos(d),d=Math.sin(d),e=this.m12*a+this.m22*d,g=this.m11*-d+this.m21*a,i=this.m12*-d+this.m22*a;this.m11=this.m11*a+this.m21*d;this.m12=e;this.m21=g;this.m22=i;this.translate(-b,-c)};
Wa.prototype.translate=Wa.prototype.translate=function(a,b){u&&(w.o(a,Wa,"translate:x"),w.o(b,Wa,"translate:y"));this.dx+=this.m11*a+this.m21*b;this.dy+=this.m12*a+this.m22*b};Wa.prototype.scale=Wa.prototype.scale=function(a,b){b===f&&(b=a);u&&(w.o(a,Wa,"translate:sx"),w.o(b,Wa,"translate:sy"));this.m11*=a;this.m12*=a;this.m21*=b;this.m22*=b};
Wa.prototype.transformPoint=Wa.prototype.Ta=function(a){u&&w.i(a,F,Wa,"transformPoint:p");var b=a.x,c=a.y;a.x=b*this.m11+c*this.m21+this.dx;a.y=b*this.m12+c*this.m22+this.dy;return a};Wa.prototype.invertedTransformPoint=Wa.prototype.Ii=function(a){u&&w.i(a,F,Wa,"invertedTransformPoint:p");var b=1/(this.m11*this.m22-this.m12*this.m21),c=-this.m12*b,d=this.m11*b,e=b*(this.m12*this.dx-this.m11*this.dy),g=a.x,i=a.y;a.x=g*this.m22*b+i*-this.m21*b+b*(this.m21*this.dy-this.m22*this.dx);a.y=g*c+i*d+e;return a};
Wa.prototype.transformRect=Wa.prototype.OE=function(a){u&&w.i(a,G,Wa,"transformRect:rect");var b=a.x,c=a.y,d=b+a.width,e=c+a.height,g=this.m11,i=this.m12,j=this.m21,k=this.m22,l=this.dx,m=this.dy,p=b*g+c*j+l,r=b*i+c*k+m,s=d*g+c*j+l,c=d*i+c*k+m,v=b*g+e*j+l,b=b*i+e*k+m,g=d*g+e*j+l,d=d*i+e*k+m,e=p,i=r,p=Math.min(p,s),e=Math.max(e,s),i=Math.min(i,c),r=Math.max(r,c),p=Math.min(p,v),e=Math.max(e,v),i=Math.min(i,b),r=Math.max(r,b),p=Math.min(p,g),e=Math.max(e,g),i=Math.min(i,d),r=Math.max(r,d);a.x=p;a.y=
i;a.width=e-p;a.height=r-i};function kb(a,b){return new F(b.x*a.m11+b.y*a.m21+a.dx,b.x*a.m12+b.y*a.m22+a.dy)}Wa.prototype.isIdentity=Wa.prototype.gs=function(){return 1===this.m11&&0===this.m12&&0===this.m21&&1===this.m22&&0===this.dx&&0===this.dy};function H(a,b,c,d){a===f?this.offsetY=this.offsetX=this.y=this.x=0:(b===f&&(b=0),c===f&&(c=0),d===f&&(d=0),this.x=a,this.y=b,this.offsetX=c,this.offsetY=d)}w.Q("Spot",H);w.Nd(H,{x:h,y:h,offsetX:h,offsetY:h});
H.prototype.Va=function(a){u&&w.i(a,H,H,"assign:s");this.x=a.x;this.y=a.y;this.offsetX=a.offsetX;this.offsetY=a.offsetY};H.prototype.setTo=H.prototype.Go=function(a,b,c,d){u&&(mb(a,"setTo:x"),mb(b,"setTo:y"),ob(c,"setTo:offx"),ob(d,"setTo:offy"));w.H(this);this.x=a;this.y=b;this.offsetX=c;this.offsetY=d;return this};H.prototype.set=H.prototype.set=function(a){u&&w.i(a,H,H,"set:s");w.H(this);this.x=a.x;this.y=a.y;this.offsetX=a.offsetX;this.offsetY=a.offsetY;return this};
H.prototype.copy=H.prototype.copy=function(){var a=new H;a.x=this.x;a.y=this.y;a.offsetX=this.offsetX;a.offsetY=this.offsetY;return a};H.prototype.Za=function(){this.ab=h;Object.freeze(this);return this};H.prototype.O=function(){return Object.isFrozen(this)?this:this.copy().freeze()};H.prototype.freeze=function(){this.ab=h;return this};H.prototype.Ia=function(){Object.isFrozen(this)&&w.m("cannot thaw constant: "+this);this.ab=q;return this};function pb(a,b){a.x=NaN;a.y=NaN;a.offsetX=b;return a}
function mb(a,b){(isNaN(a)||1<a||0>a)&&w.ra(a,"0 <= "+b+" <= 1",H,b)}function ob(a,b){(isNaN(a)||Infinity===a||-Infinity===a)&&w.ra(a,"real number, not NaN or Infinity",H,b)}var qb;
H.parse=qb=function(a){if("string"===typeof a){a=a.trim();if("None"===a)return w.NONE;if("TopLeft"===a)return w.Ew;if("Top"===a||"TopCenter"===a||"MiddleTop"===a)return w.No;if("TopRight"===a)return w.Gw;if("Left"===a||"LeftCenter"===a||"MiddleLeft"===a)return w.Lo;if("Center"===a)return w.uw;if("Right"===a||"RightCenter"===a||"MiddleRight"===a)return w.Mo;if("BottomLeft"===a)return w.pw;if("Bottom"===a||"BottomCenter"===a||"MiddleBottom"===a)return w.Ko;if("BottomRight"===a)return w.rw;if("TopSide"===
a)return w.Iw;if("LeftSide"===a)return w.xw;if("RightSide"===a)return w.Cw;if("BottomSide"===a)return w.tw;if("TopBottomSides"===a)return w.Dw;if("LeftRightSides"===a)return w.ww;if("TopLeftSides"===a)return w.Fw;if("TopRightSides"===a)return w.Hw;if("BottomLeftSides"===a)return w.qw;if("BottomRightSides"===a)return w.sw;if("NotTopSide"===a)return w.Bw;if("NotLeftSide"===a)return w.zw;if("NotRightSide"===a)return w.Aw;if("NotBottomSide"===a)return w.yw;if("AllSides"===a)return w.ow;if("Default"===
a)return w.vw;for(var a=a.split(" "),b=0,c=0;""===a[b];)b++;var d=a[b++];d&&(c=parseFloat(d));for(var e=0;""===a[b];)b++;(d=a[b++])&&(e=parseFloat(d));for(var g=0;""===a[b];)b++;(d=a[b++])&&(g=parseFloat(d));for(var i=0;""===a[b];)b++;(d=a[b++])&&(i=parseFloat(d));return new H(c,e,g,i)}return new H};H.stringify=function(a){return a instanceof H?tb(a)?a.x.toString()+" "+a.y.toString()+" "+a.offsetX.toString()+" "+a.offsetY.toString():a.toString():a.toString()};
H.prototype.toString=function(){return tb(this)?0===this.offsetX&&0===this.offsetY?"Spot("+this.x+","+this.y+")":"Spot("+this.x+","+this.y+","+this.offsetX+","+this.offsetY+")":this.I(w.NONE)?"None":this.I(w.Ew)?"TopLeft":this.I(w.No)?"Top":this.I(w.Gw)?"TopRight":this.I(w.Lo)?"Left":this.I(w.uw)?"Center":this.I(w.Mo)?"Right":this.I(w.pw)?"BottomLeft":this.I(w.Ko)?"Bottom":this.I(w.rw)?"BottomRight":this.I(w.Iw)?"TopSide":this.I(w.xw)?"LeftSide":this.I(w.Cw)?"RightSide":this.I(w.tw)?"BottomSide":
this.I(w.Dw)?"TopBottomSides":this.I(w.ww)?"LeftRightSides":this.I(w.Fw)?"TopLeftSides":this.I(w.Hw)?"TopRightSides":this.I(w.qw)?"BottomLeftSides":this.I(w.sw)?"BottomRightSides":this.I(w.Bw)?"NotTopSide":this.I(w.zw)?"NotLeftSide":this.I(w.Aw)?"NotRightSide":this.I(w.yw)?"NotBottomSide":this.I(w.ow)?"AllSides":this.I(w.vw)?"Default":"None"};
H.prototype.equals=H.prototype.I=function(a){return!(a instanceof H)?q:(this.x===a.x||isNaN(this.x)&&isNaN(a.x))&&(this.y===a.y||isNaN(this.y)&&isNaN(a.y))&&this.offsetX===a.offsetX&&this.offsetY===a.offsetY};H.prototype.opposite=H.prototype.GL=function(){return new H(0.5-(this.x-0.5),0.5-(this.y-0.5),-this.offsetX,-this.offsetY)};H.prototype.includesSide=H.prototype.WK=function(a){if(!ub(this)||!ub(a))return q;a=a.offsetY;return(this.offsetY&a)===a};
function tb(a){return!isNaN(a.x)&&!isNaN(a.y)}function zb(a){return isNaN(a.x)||isNaN(a.y)}function ub(a){return zb(a)&&1===a.offsetX&&0!==a.offsetY}function Eb(a){return isNaN(a.x)&&isNaN(a.y)&&-1===a.offsetX&&0===a.offsetY}w.md=1;w.Rc=2;w.bd=4;w.ad=8;w.NONE=pb(new H(0,0,0,0),0).Za();w.vw=pb(new H(0,0,-1,0),-1).Za();w.Ew=(new H(0,0,0,0)).Za();w.No=(new H(0.5,0,0,0)).Za();w.Gw=(new H(1,0,0,0)).Za();w.Lo=(new H(0,0.5,0,0)).Za();w.uw=(new H(0.5,0.5,0,0)).Za();w.Mo=(new H(1,0.5,0,0)).Za();
w.pw=(new H(0,1,0,0)).Za();w.Ko=(new H(0.5,1,0,0)).Za();w.rw=(new H(1,1,0,0)).Za();w.Iw=pb(new H(0,0,1,w.md),1).Za();w.xw=pb(new H(0,0,1,w.Rc),1).Za();w.Cw=pb(new H(0,0,1,w.bd),1).Za();w.tw=pb(new H(0,0,1,w.ad),1).Za();w.Dw=pb(new H(0,0,1,w.md|w.ad),1).Za();w.ww=pb(new H(0,0,1,w.Rc|w.bd),1).Za();w.Fw=pb(new H(0,0,1,w.md|w.Rc),1).Za();w.Hw=pb(new H(0,0,1,w.md|w.bd),1).Za();w.qw=pb(new H(0,0,1,w.ad|w.Rc),1).Za();w.sw=pb(new H(0,0,1,w.ad|w.bd),1).Za();w.Bw=pb(new H(0,0,1,w.Rc|w.bd|w.ad),1).Za();
w.zw=pb(new H(0,0,1,w.md|w.bd|w.ad),1).Za();w.Aw=pb(new H(0,0,1,w.md|w.Rc|w.ad),1).Za();w.yw=pb(new H(0,0,1,w.md|w.Rc|w.bd),1).Za();w.ow=pb(new H(0,0,1,w.md|w.Rc|w.bd|w.ad),1).Za();var Gb;H.None=Gb=w.NONE;var Hb;H.Default=Hb=w.vw;var Jb;H.TopLeft=Jb=w.Ew;var Kb;H.TopCenter=Kb=w.No;var Lb;H.TopRight=Lb=w.Gw;H.LeftCenter=w.Lo;var Ob;H.Center=Ob=w.uw;H.RightCenter=w.Mo;var Pb;H.BottomLeft=Pb=w.pw;var Qb;H.BottomCenter=Qb=w.Ko;var Rb;H.BottomRight=Rb=w.rw;var Sb;H.MiddleTop=Sb=w.No;var Tb;
H.MiddleLeft=Tb=w.Lo;var Zb;H.MiddleRight=Zb=w.Mo;var $b;H.MiddleBottom=$b=w.Ko;H.Top=w.No;var ac;H.Left=ac=w.Lo;var bc;H.Right=bc=w.Mo;H.Bottom=w.Ko;var dc;H.TopSide=dc=w.Iw;var ec;H.LeftSide=ec=w.xw;var fc;H.RightSide=fc=w.Cw;var gc;H.BottomSide=gc=w.tw;H.TopBottomSides=w.Dw;H.LeftRightSides=w.ww;H.TopLeftSides=w.Fw;H.TopRightSides=w.Hw;H.BottomLeftSides=w.qw;H.BottomRightSides=w.sw;H.NotTopSide=w.Bw;H.NotLeftSide=w.zw;H.NotRightSide=w.Aw;H.NotBottomSide=w.yw;var hc;H.AllSides=hc=w.ow;
var ic=4*((Math.sqrt(2)-1)/3),jc=(new F(0,0)).Za(),kc=(new bb(Infinity,Infinity)).Za(),nc=(new F(-Infinity,-Infinity)).Za(),oc=(new F(Infinity,Infinity)).Za(),pc=(new bb(0,0)).Za(),qc=(new F(NaN,NaN)).Za(),rc=n;function sc(a){if(0>=a)return 0;var b=rc;if(b===n){for(var b=[],c=0;2E3>=c;c++)b[c]=Math.sqrt(c);rc=b}return 1>a?(c=1/a,2E3>=c?1/b[c|0]:Math.sqrt(a)):2E3>=a?b[a|0]:Math.sqrt(a)}function Ua(a,b){var c=a-b;return 0.5>c&&-0.5<c}function Ta(a,b){var c=a-b;return 5E-8>c&&-5E-8<c}
function uc(a,b,c,d,e,g,i){0>=e&&(e=1E-6);var j,k,l,m;a<c?(k=a,j=c):(k=c,j=a);b<d?(m=b,l=d):(m=d,l=b);if(a===c)return m<=i&&i<=l&&a-e<=g&&g<=a+e;if(b===d)return k<=g&&g<=j&&b-e<=i&&i<=b+e;j+=e;k-=e;if(k<=g&&g<=j&&(l+=e,m-=e,m<=i&&i<=l))if(j-k>l-m)if(a-c>e||c-a>e){if(g=(d-b)/(c-a)*(g-a)+b,g-e<=i&&i<=g+e)return h}else return h;else if(b-d>e||d-b>e){if(i=(c-a)/(d-b)*(i-b)+a,i-e<=g&&g<=i+e)return h}else return h;return q}
function vc(a,b,c,d,e,g,i,j,k,l,m,p){if(!uc(a,b,i,j,p,c,d)||!uc(a,b,i,j,p,e,g)){var r=(a+c)/2,s=(b+d)/2,v=(c+e)/2,y=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(r+v)/2,c=(s+y)/2,v=(v+e)/2,y=(y+g)/2,C=(d+v)/2,E=(c+y)/2;return vc(a,b,r,s,d,c,C,E,k,l,m,p)||vc(C,E,v,y,e,g,i,j,k,l,m,p)}return uc(a,b,i,j,p,l,m)}
function wc(a,b,c,d,e,g,i,j,k,l){if(!uc(a,b,i,j,k,c,d)||!uc(a,b,i,j,k,e,g)){var m=(a+c)/2,p=(b+d)/2,r=(c+e)/2,s=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(m+r)/2,c=(p+s)/2,r=(r+e)/2,s=(s+g)/2,v=(d+r)/2,y=(c+s)/2;wc(a,b,m,p,d,c,v,y,k,l);wc(v,y,r,s,e,g,i,j,k,l)}else l.Wb(a,b,0,0),l.Wb(i,j,0,0)}
function Cc(a,b,c,d,e,g,i,j,k,l){if(!uc(a,b,i,j,k,c,d)||!uc(a,b,i,j,k,e,g)){var m=(a+c)/2,p=(b+d)/2,r=(c+e)/2,s=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(m+r)/2,c=(p+s)/2,r=(r+e)/2,s=(s+g)/2,v=(d+r)/2,y=(c+s)/2;Cc(a,b,m,p,d,c,v,y,k,l);Cc(v,y,r,s,e,g,i,j,k,l)}else 0===l.length&&l.push([a,b]),l.push([i,j])}function Dc(a,b,c,d,e,g,i,j,k,l){if(uc(a,b,e,g,l,c,d))return uc(a,b,e,g,l,j,k);var m=(a+c)/2,p=(b+d)/2,c=(c+e)/2,d=(d+g)/2,r=(m+c)/2,s=(p+d)/2;return Dc(a,b,m,p,r,s,i,j,k,l)||Dc(r,s,c,d,e,g,i,j,k,l)}
function Ec(a,b,c,d,e,g,i,j){if(uc(a,b,e,g,i,c,d))j.Wb(a,b,0,0),j.Wb(e,g,0,0);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,m=(k+c)/2,p=(l+d)/2;Ec(a,b,k,l,m,p,i,j);Ec(m,p,c,d,e,g,i,j)}}function Hc(a,b,c,d,e,g,i,j){if(uc(a,b,e,g,i,c,d))0===j.length&&j.push([a,b]),j.push([e,g]);else{var k=(a+c)/2,l=(b+d)/2,c=(c+e)/2,d=(d+g)/2,m=(k+c)/2,p=(l+d)/2;Hc(a,b,k,l,m,p,i,j);Hc(m,p,c,d,e,g,i,j)}}
function Ic(a,b,c,d,e,g,i,j,k,l,m,p,r,s){0>=r&&(r=1E-6);if(!uc(a,b,i,j,r,c,d)||!uc(a,b,i,j,r,e,g)){var v=(a+c)/2,y=(b+d)/2,c=(c+e)/2,d=(d+g)/2,e=(e+i)/2,g=(g+j)/2,C=(v+c)/2,E=(y+d)/2,c=(c+e)/2,d=(d+g)/2,I=(C+c)/2,D=(E+d)/2,M=(m-k)*(m-k)+(p-l)*(p-l),N=q;Ic(a,b,v,y,C,E,I,D,k,l,m,p,r,s)&&(a=(s.x-k)*(s.x-k)+(s.y-l)*(s.y-l),a<M&&(M=a,N=h));b=s.x;v=s.y;Ic(I,D,c,d,e,g,i,j,k,l,m,p,r,s)&&(a=(s.x-k)*(s.x-k)+(s.y-l)*(s.y-l),a<M?N=h:(s.x=b,s.y=v));return N}v=(a-i)*(l-p)-(b-j)*(k-m);if(!v)return q;r=((a*j-b*i)*
(k-m)-(a-i)*(k*p-l*m))/v;v=((a*j-b*i)*(l-p)-(b-j)*(k*p-l*m))/v;if((k>m?k-m:m-k)<(l>p?l-p:p-l)){if(b<j?(k=b,i=j):(k=j,i=b),v<k||v>i)return q}else if(a<i?k=a:(k=i,i=a),r<k||r>i)return q;s.x=r;s.y=v;return h}
function Jc(a,b,c,d,e,g,i,j,k,l,m,p,r){var s=0;0>=r&&(r=1E-6);if(!uc(a,b,i,j,r,c,d)||!uc(a,b,i,j,r,e,g))var v=(a+c)/2,y=(b+d)/2,C=(c+e)/2,E=(d+g)/2,e=(e+i)/2,g=(g+j)/2,d=(v+C)/2,c=(y+E)/2,C=(C+e)/2,E=(E+g)/2,I=(d+C)/2,D=(c+E)/2,s=s+Jc(a,b,v,y,d,c,I,D,k,l,m,p,r),s=s+Jc(I,D,C,E,e,g,i,j,k,l,m,p,r);else{r=(a-i)*(l-p)-(b-j)*(k-m);if(!r)return s;v=((a*j-b*i)*(k-m)-(a-i)*(k*p-l*m))/r;y=((a*j-b*i)*(l-p)-(b-j)*(k*p-l*m))/r;if(v>=m)return s;if((k>m?k-m:m-k)<(l>p?l-p:p-l)){if(b<j?(k=b,a=j):(k=j,a=b),y<k||y>
a)return s}else if(a<i?(k=a,a=i):k=i,v<k||v>a)return s;0<r?s++:0>r&&s--}return s}function Kc(a,b,c,d,e,g,i){if(Ta(a,c)){var j;b<d?(j=b,c=d):(j=d,c=b);d=g;if(d<j)return i.x=a,i.y=j,q;if(d>c)return i.x=a,i.y=c,q;i.x=a;i.y=d;return h}if(Ta(b,d)){a<c?j=a:(j=c,c=a);d=e;if(d<j)return i.x=j,i.y=b,q;if(d>c)return i.x=c,i.y=b,q;i.x=d;i.y=b;return h}j=((a-e)*(a-c)+(b-g)*(b-d))/((c-a)*(c-a)+(d-b)*(d-b));if(-5E-6>j)return i.x=a,i.y=b,q;if(1.000005<j)return i.x=c,i.y=d,q;i.x=a+j*(c-a);i.y=b+j*(d-b);return h}
function Lc(a,b,c,d,e,g,i,j,k){if(Ua(a,c)&&Ua(b,d))return k.x=a,k.y=b,q;if(Ta(e,i)){if(Ta(a,c))return Kc(a,b,c,d,e,g,k),q;g=(d-b)/(c-a)*(e-a)+b;return Kc(a,b,c,d,e,g,k)}j=(j-g)/(i-e);if(Ta(a,c)){g=j*(a-e)+g;b<d?(i=b,c=d):(i=d,c=b);if(g<i)return k.x=a,k.y=i,q;if(g>c)return k.x=a,k.y=c,q;k.x=a;k.y=g;return h}i=(d-b)/(c-a);if(Ta(j,i))return Kc(a,b,c,d,e,g,k),q;e=(i*a-j*e+g-b)/(i-j);if(Ta(i,0)){a<c?i=a:(i=c,c=a);if(e<i)return k.x=i,k.y=b,q;if(e>c)return k.x=c,k.y=b,q;k.x=e;k.y=b;return h}g=i*(e-a)+b;
return Kc(a,b,c,d,e,g,k)}
function Rc(a,b,c,d,e,g,i,j,k){function l(c,d){var e=(c-a)*(c-a)+(d-b)*(d-b);e<m&&(m=e,k.x=c,k.y=d)}var m=Infinity;l(k.x,k.y);var p,r,s,v;e<i?(p=e,r=i):(p=i,r=e);g<j?(s=e,v=i):(s=i,v=e);p=(r-p)/2+0;s=(v-s)/2+0;e=(e+i)/2;g=(g+j)/2;0===p||0===s||(0.5>(c>a?c-a:a-c)?(p=1-(c-e)*(c-e)/(p*p),0>p||(p=Math.sqrt(p),d=-s*p+g,l(c,s*p+g),l(c,d))):(c=(d-b)/(c-a),d=1/(p*p)+c*c/(s*s),j=2*c*(b-c*a)/(s*s)-2*c*g/(s*s)-2*e/(p*p),s=j*j-4*d*(2*c*a*g/(s*s)-2*b*g/(s*s)+g*g/(s*s)+e*e/(p*p)-1+(b-c*a)*(b-c*a)/(s*s)),0>s||(p=
Math.sqrt(s),s=(-j+p)/(2*d),l(s,c*s-c*a+b),s=(-j-p)/(2*d),l(s,c*s-c*a+b))))}function Sc(a,b,c,d,e,g,i,j,k){var l=1E21,m=a,p=b;if(Lc(a,b,a,d,e,g,i,j,k)){var r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g);r<l&&(l=r,m=k.x,p=k.y)}Lc(c,b,c,d,e,g,i,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,p=k.y));Lc(a,b,c,b,e,g,i,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,p=k.y));Lc(a,d,c,d,e,g,i,j,k)&&(r=(k.x-e)*(k.x-e)+(k.y-g)*(k.y-g),r<l&&(l=r,m=k.x,p=k.y));k.x=m;k.y=p;return 1E21>l}
function Tc(a,b,c){var d=b.x,e=b.y,g=c.x,i=c.y,j=a.left,k=a.right,l=a.top,m=a.bottom;return d===g?(e<i?(a=e,g=i):(a=i,g=e),j<=d&&d<=k&&a<=m&&g>=l):e===i?(d<g?a=d:(a=g,g=d),l<=e&&e<=m&&a<=k&&g>=j):a.ua(b)||a.ua(c)||Uc(j,l,k,l,d,e,g,i)||Uc(k,l,k,m,d,e,g,i)||Uc(k,m,j,m,d,e,g,i)||Uc(j,m,j,l,d,e,g,i)?h:q}function Uc(a,b,c,d,e,g,i,j){return 0>=cd(a,b,c,d,e,g)*cd(a,b,c,d,i,j)&&0>=cd(e,g,i,j,a,b)*cd(e,g,i,j,c,d)}
function cd(a,b,c,d,e,g){c-=a;d-=b;a=e-a;b=g-b;g=a*d-b*c;0===g&&(g=a*c+b*d,0<g&&(g=(a-c)*c+(b-d)*d,0>g&&(g=0)));return 0>g?-1:0<g?1:0}function dd(a){0>a&&(a+=360);360<=a&&(a-=360);return a}
function ed(a,b,c,d,e,g){var i=Math.PI;g||(d*=i/180,e*=i/180);for(var g=d<e?1:-1,j=[],k=i/2,l=d,d=Math.min(2*i+1E-5,Math.abs(e-d));1E-5<d;){var e=l+g*Math.min(d,k),m=(e-l)/2,p=c*Math.cos(m),r=c*Math.sin(m),s=0.5522847498*Math.tan(m),i=p+s*r,p=-r+s*p,r=-p,s=m+l,m=Math.cos(s),s=Math.sin(s);j.push({x1:a+c*Math.cos(l),y1:b+c*Math.sin(l),x2:a+i*m-p*s,y2:b+i*s+p*m,Ef:a+i*m-r*s,Ff:b+i*s+r*m,Zc:a+c*Math.cos(e),$c:b+c*Math.sin(e)});d-=Math.abs(e-l);l=e}return j}
function fd(a,b,c,d,e,g){var c=Math.floor((a-c)/e)*e+c,d=Math.floor((b-d)/g)*g+d,i=c;c+e-a<e/2&&(i=c+e);a=d;d+g-b<g/2&&(a=d+g);return new F(i,a)}function gd(a,b){var c=Math.max(a,b),d=Math.min(a,b),e=1,g=1;do e=c%d,c=g=d,d=e;while(0<e);return g}
function hd(a){w.jc(this);a===f?a=id:u&&w.kb(a,hd,hd,"constructor:type");this.T=a;this.Ic=this.Bc=this.Ob=this.Cb=0;this.kk=new z(jd);this.wt=this.kk.Jb;this.it=(new G).freeze();this.Ma=h;this.rF=new F;this.qi=Jb;this.ri=Rb;this.Ht=this.It=NaN;this.Sd=pc;this.Zb=kd}w.Q("Geometry",hd);
hd.prototype.copy=hd.prototype.copy=function(){var a=new hd;a.T=this.T;a.Cb=this.Cb;a.Ob=this.Ob;a.Bc=this.Bc;a.Ic=this.Ic;for(var b=this.kk,c=b.length,d=a.kk,e=0;e<c;e++){var g=b.n[e].copy();d.add(g)}a.wt=this.wt;a.it.Va(this.it);a.Ma=this.Ma;a.qi=this.qi.O();a.ri=this.ri.O();a.It=this.It;a.Ht=this.Ht;a.Sd=this.Sd.O();a.Zb=this.Zb;return a};var md;hd.Line=md=w.s(hd,"Line",0);var qd;hd.Rectangle=qd=w.s(hd,"Rectangle",1);var rd;hd.Ellipse=rd=w.s(hd,"Ellipse",2);var id;hd.Path=id=w.s(hd,"Path",3);
hd.prototype.Za=function(){this.freeze();Object.freeze(this);return this};hd.prototype.freeze=function(){this.ab=h;var a=this.sb;a.freeze();for(var b=a.length,c=0;c<b;c++)a.n[c].freeze();return this};hd.prototype.Ia=function(){Object.isFrozen(this)&&w.m("cannot thaw constant: "+this);this.ab=q;var a=this.sb;a.Ia();for(var b=a.length,c=0;c<b;c++)a.n[c].Ia();return this};
hd.prototype.equalsApprox=hd.prototype.Ej=function(a){if(!(a instanceof hd))return q;if(this.type!==a.type)return this.type===md&&a.type===id?sd(this,a):a.type===md&&this.type===id?sd(a,this):q;if(this.type===id){var b=this.sb,a=a.sb,c=b.length;if(c!==a.length)return q;for(var d=0;d<c;d++)if(!b.n[d].Ej(a.n[d]))return q;return h}return Ua(this.ma,a.ma)&&Ua(this.na,a.na)&&Ua(this.C,a.C)&&Ua(this.D,a.D)};
function sd(a,b){if(a.type!==md||b.type!==id)return q;if(1===b.sb.count){var c=b.sb.oa(0);if(1===c.za.count&&(Ua(a.ma,c.ma)&&Ua(a.na,c.na))&&(c=c.za.oa(0),c.type===td&&Ua(a.C,c.C)&&Ua(a.D,c.D)))return h}return q}var ud;hd.stringify=ud=function(a){return a.toString()};
hd.prototype.toString=function(a){switch(this.type){case md:return a===f?"M"+this.ma.toString()+" "+this.na.toString()+"L"+this.C.toString()+" "+this.D.toString():"M"+this.ma.toFixed(a)+" "+this.na.toFixed(a)+"L"+this.C.toFixed(a)+" "+this.D.toFixed(a);case qd:var b=new G(this.ma,this.na,0,0);b.Wb(this.C,this.D,0,0);return a===f?"M"+b.x.toString()+" "+b.y.toString()+"H"+b.right.toString()+"V"+b.bottom.toString()+"H"+b.left.toString()+"z":"M"+b.x.toFixed(a)+" "+b.y.toFixed(a)+"H"+b.right.toFixed(a)+
"V"+b.bottom.toFixed(a)+"H"+b.left.toFixed(a)+"z";case rd:b=new G(this.ma,this.na,0,0);b.Wb(this.C,this.D,0,0);if(a===f){var c=b.left.toString()+" "+(b.y+b.height/2).toString(),d=b.right.toString()+" "+(b.y+b.height/2).toString();return"M"+c+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+d+"A"+(b.width/2).toString()+" "+(b.height/2).toString()+" 0 0 1 "+c}c=b.left.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);d=b.right.toFixed(a)+" "+(b.y+b.height/2).toFixed(a);return"M"+c+"A"+(b.width/
2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+d+"A"+(b.width/2).toFixed(a)+" "+(b.height/2).toFixed(a)+" 0 0 1 "+c;case id:for(var b="",c=this.sb,d=c.length,e=0;e<d;e++){var g=c.n[e];0<e&&(b+=" x ");g.fo&&(b+="F ");b+=g.toString(a)}return b;default:return this.type.toString()}};var wd;
hd.fillPath=wd=function(a){"string"!==typeof a&&w.ic(a,"string",hd,"fillPath:str");for(var a=a.split(/[Xx]/),b=a.length,c="",d=0;d<b;d++)var e=a[d],c=e.match(/[Ff]/)!==n?0===d?c+e:c+("X"+(" "===e[0]?"":" ")+e):c+((0===d?"":"X ")+"F"+(" "===e[0]?"":" ")+e);return c};var xd;
hd.parse=xd=function(a,b){function c(){return l>=y-1?h:k[l+1].match(/[A-Za-z]/)!==n}function d(){l++;return k[l]}function e(){var a=new F(parseFloat(d()),parseFloat(d()));m===m.toLowerCase()&&(a.x=v.x+a.x,a.y=v.y+a.y);return a}function g(){return v=e()}function i(){return s=e()}function j(){return"c"!==p.toLowerCase()&&"s"!==p.toLowerCase()?v:new F(2*v.x-s.x,2*v.y-s.y)}b===f&&(b=q);"string"!==typeof a&&w.ic(a,"string",hd,"parse:str");for(var a=a.replace(/,/gm," "),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,
"$1 $2"),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([UuBbMmZzLlHhVvCcSsQqTtAaFf])([^\s])/gm,"$1 $2"),a=a.replace(/([^\s])([UuBbMmZzLlHhVvCcSsQqTtAaFf])/gm,"$1 $2"),a=a.replace(/([0-9])([+\-])/gm,"$1 $2"),a=a.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),a=a.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),a=a.replace(/[\s\r\t\n]+/gm," "),a=a.replace(/^\s+|\s+$/g,""),k=a.split(" "),l=-1,m="",p="",r=new F(0,0),s=new F(0,0),v=new F(0,0),y=
k.length,C=new J,E,I=q,D=q,M=h;!(l>=y-1);)if(p=m,m=d(),""!==m)switch(m.toUpperCase()){case "X":M=h;D=I=q;break;case "M":E=g();C.Mb===n||M===h?(K(C,E.x,E.y,I,q,!D),M=q):C.moveTo(E.x,E.y);for(r=v;!c();)E=g(),C.lineTo(E.x,E.y);break;case "L":for(;!c();)E=g(),C.lineTo(E.x,E.y);break;case "H":for(;!c();)v=E=new F((m===m.toLowerCase()?v.x:0)+parseFloat(d()),v.y),C.lineTo(v.x,v.y);break;case "V":for(;!c();)v=E=new F(v.x,(m===m.toLowerCase()?v.y:0)+parseFloat(d())),C.lineTo(v.x,v.y);break;case "C":for(;!c();){var N=
e(),Z=i();E=g();L(C,N.x,N.y,Z.x,Z.y,E.x,E.y)}break;case "S":for(;!c();)N=j(),Z=i(),E=g(),L(C,N.x,N.y,Z.x,Z.y,E.x,E.y);break;case "Q":for(;!c();)Z=i(),E=g(),Dd(C,Z.x,Z.y,E.x,E.y);break;case "T":for(;!c();)s=Z=j(),E=g(),Dd(C,Z.x,Z.y,E.x,E.y);break;case "B":for(;!c();)E=[parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d()),parseFloat(d())],c()||(E.push(parseFloat(d())),c()||E.push(parseFloat(d()))),m===m.toLowerCase()&&(E[2]+=v.x,E[3]+=v.y),C.arcTo(E[0],E[1],E[2],E[3],E[4],E[5],E[6]);break;
case "A":for(;!c();){var Z=Math.abs(parseFloat(d())),va=Math.abs(parseFloat(d())),la=parseFloat(d()),ta=!!parseFloat(d()),Ea=!!parseFloat(d());E=g();var N=C,Ha=E.x;E=E.y;N.q===n&&w.m("StreamGeometryContext has been closed");N.Mb===n&&w.m("Need to call beginFigure first");E=new Ed(Fd,Ha,E,Z,va,la,ta,Ea);N.Mb.za.add(E)}break;case "Z":Gd(C);v=r;break;case "F":E=n;for(N=1;k[l+N];)if(k[l+N].match(/[Uu]/)!==n)N++;else if(k[l+N].match(/[A-Za-z]/)===n)N++;else{E=k[l+N];break}E.match(/[Mm]/)?I=h:(E=C,E.q===
n&&w.m("StreamGeometryContext has been closed"),E.Mb===n&&w.m("Need to call beginFigure first"),0<E.Mb.za.length&&(E.Mb.fo=h));break;case "U":E=n;for(N=1;k[l+N];)if(k[l+N].match(/[Ff]/)!==n)N++;else if(k[l+N].match(/[A-Za-z]/)===n)N++;else{E=k[l+N];break}E.match(/[Mm]/)?D=h:Hd(C)}r=C.q;if(b)for(C=r.sb.l;C.next();)C.value.fo=h;return r};hd.prototype.pz=function(){if(this.Ma)return h;var a=this.sb;if(this.wt!==a.Jb)return h;for(var b=a.length,c=0;c<b;c++)if(a.n[c].pz())return h;return q};
hd.prototype.hA=function(){this.Ma=q;var a=this.sb;this.wt=a.Jb;for(var b=a.length,c=0;c<b;c++)a.n[c].hA()};hd.prototype.oe=function(){var a=this.it;a.Ia();a.reset();a.YH(this.Sd);Id(this,a,q);a.Wb(0,0,0,0);a.freeze()};hd.prototype.computeBoundsWithoutOrigin=hd.prototype.iG=function(){var a=new G;Id(this,a,h);return a};
function Id(a,b,c){switch(a.type){case md:case qd:case rd:c?b.U(a.Cb,a.Ob,0,0):b.Wb(a.Cb,a.Ob,0,0);b.Wb(a.Bc,a.Ic,0,0);break;case id:for(var a=a.sb,d=a.length,e=0;e<d;e++){var g=a.n[e];c&&0===e?b.U(g.ma,g.na,0,0):b.Wb(g.ma,g.na,0,0);for(var i=g.za,j=i.length,k=g.ma,l=g.na,m=0;m<j;m++){var p=i.n[m];switch(p.type){case td:case Jd:k=p.C;l=p.D;b.Wb(k,l,0,0);break;case Kd:wc(k,l,p.Ub,p.Ac,p.lg,p.mg,p.C,p.D,0.5,b);k=p.C;l=p.D;break;case Ld:Ec(k,l,p.Ub,p.Ac,p.C,p.D,0.5,b);k=p.C;l=p.D;break;case Md:case Fd:for(var p=
p.type===Md?Od(p,g):Pd(p,g,k,l),r=p.length,s=n,v=0;v<r;v++)s=p[v],wc(s.x1,s.y1,s.x2,s.y2,s.Ef,s.Ff,s.Zc,s.$c,0.5,b);s!==n&&(k=s.Zc,l=s.$c);break;default:w.m("Unknown Segment type: "+p.type)}}}break;default:w.m("Unknown Geometry type: "+a.type)}}hd.prototype.normalize=hd.prototype.normalize=function(){w.H(this);var a=this.iG();this.offset(-a.x,-a.y);return new F(-a.x,-a.y)};
hd.prototype.offset=hd.prototype.offset=function(a,b){w.H(this);u&&(w.o(a,hd,"offset"),w.o(b,hd,"offset"));var c=new Wa;c.translate(a,b);this.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy)};hd.prototype.scale=hd.prototype.scale=function(a,b){w.H(this);u&&(w.o(a,hd,"scale:x"),w.o(b,hd,"scale:y"),0>=a&&w.ra(a,"scale must be greater than zero",hd,"scale:x"),0>=b&&w.ra(b,"scale must be greater than zero",hd,"scale:y"));var c=new Wa;c.scale(a,b);this.transform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy)};
hd.prototype.rotate=hd.prototype.rotate=function(a,b,c){w.H(this);b===f&&(b=0);c===f&&(c=0);u&&(w.o(a,hd,"rotate:angle"),w.o(b,hd,"rotate:x"),w.o(c,hd,"rotate:y"));var d=new Wa;d.rotate(a,b,c);this.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy)};
hd.prototype.transform=hd.prototype.transform=function(a,b,c,d,e,g){var i,j;switch(this.type){case md:case qd:case rd:i=this.Cb;j=this.Ob;this.Cb=i*a+j*c+e;this.Ob=i*b+j*d+g;i=this.Bc;j=this.Ic;this.Bc=i*a+j*c+e;this.Ic=i*b+j*d+g;break;case id:for(var k=this.sb,l=k.length,m=0;m<l;m++){var p=k.n[m];i=p.ma;j=p.na;p.ma=i*a+j*c+e;p.na=i*b+j*d+g;for(var p=p.za,r=p.length,s=0;s<r;s++){var v=p.n[s];switch(v.type){case td:case Jd:i=v.C;j=v.D;v.C=i*a+j*c+e;v.D=i*b+j*d+g;break;case Kd:i=v.kf;j=v.lf;v.kf=i*
a+j*c+e;v.lf=i*b+j*d+g;i=v.ni;j=v.oi;v.ni=i*a+j*c+e;v.oi=i*b+j*d+g;i=v.C;j=v.D;v.C=i*a+j*c+e;v.D=i*b+j*d+g;break;case Ld:i=v.kf;j=v.lf;v.kf=i*a+j*c+e;v.lf=i*b+j*d+g;i=v.C;j=v.D;v.C=i*a+j*c+e;v.D=i*b+j*d+g;break;case Md:i=v.pa;j=v.ta;v.pa=i*a+j*c+e;v.ta=i*b+j*d+g;v.radiusX*=Math.sqrt(a*a+c*c);v.radiusY!==f&&(v.radiusY*=Math.sqrt(b*b+d*d));break;case Fd:i=v.C;j=v.D;v.C=i*a+j*c+e;v.D=i*b+j*d+g;v.radiusX*=Math.sqrt(a*a+c*c);v.radiusY*=Math.sqrt(b*b+d*d);break;default:w.m("Unknown Segment type: "+v.type)}}}}this.Ma=
h};hd.prototype.ur=function(a,b){var c=this.Cb,d=this.Ob,e=this.Bc,g=this.Ic,i=Math.min(c,e),j=Math.min(d,g),c=Math.abs(e-c),d=Math.abs(g-d),g=this.rF;g.x=i;g.y=j;b.Ta(g);e=new jd(g.x,g.y);g.x=i+c;g.y=j;b.Ta(g);e.za.add(new Ed(td,g.x,g.y));g.x=i+c;g.y=j+d;b.Ta(g);e.za.add(new Ed(td,g.x,g.y));g.x=i;g.y=j+d;b.Ta(g);e.za.add((new Ed(td,g.x,g.y)).close());a.type=id;a.sb.add(e);return a};
hd.prototype.ua=function(a,b,c,d){for(var e=a.x,g=a.y,i=this.Fb.x-20,a=a.y,j=0,k,l,m,p,r,s,v,y=this.sb.n,C=y.length,E=0;E<C;E++){var I=y[E];if(I.fo){if(c&&I.ua(e,g,b))return h;var D=I.za;k=I.ma;l=I.na;for(var M=k,N=l,Z=0;Z<=D.length;Z++){Z!==D.length?(m=D.n[Z],p=m.type,s=m.C,v=m.D):(p=td,s=M,v=N);switch(p){case Jd:r=Yd(e,g,i,a,k,l,M,N);if(r===h)return h;j+=r;M=s;N=v;break;case td:r=Yd(e,g,i,a,k,l,s,v);if(r===h)return h;j+=r;break;case Kd:r=Jc(k,l,m.Ub,m.Ac,m.lg,m.mg,s,v,i,a,e,g,0.5);j+=r;break;case Ld:r=
Jc(k,l,(k+2*m.Ub)/3,(l+2*m.Ac)/3,(m.Ub+2*s)/3,(m.Ub+2*s)/3,s,v,i,a,e,g,0.5);j+=r;break;case Md:case Fd:p=m.type===Md?Od(m,I):Pd(m,I,k,l);for(var va=p.length,la=n,ta=0;ta<va;ta++){la=p[ta];if(0===ta){r=Yd(e,g,i,a,k,l,la.x1,la.y1);if(r===h)return h;j+=r}r=Jc(la.x1,la.y1,la.x2,la.y2,la.Ef,la.Ff,la.Zc,la.$c,i,a,e,g,0.5);j+=r}la!==n&&(s=la.Zc,v=la.$c);break;default:w.m("Unknown Segment type: "+m.type)}k=s;l=v}if(0!==j)return h;j=0}else if(I.ua(e,g,d?b:b+2))return h}return 0!==j};
function Yd(a,b,c,d,e,g,i,j){if(uc(e,g,i,j,0.05,a,b))return h;var k=(a-c)*(g-j);if(0===k)return 0;var l=((a*d-b*c)*(e-i)-(a-c)*(e*j-g*i))/k,b=(a*d-b*c)*(g-j)/k;if(l>=a)return 0;if((e>i?e-i:i-e)<(g>j?g-j:j-g)){if(g<j?(a=g,e=j):(a=j,e=g),b<a||b>e)return 0}else if(e<i?(a=e,e=i):a=i,l<a||l>e)return 0;return 0<k?1:-1}function Zd(a,b,c,d){for(var e=a.sb.length,g=0;g<e;g++)if(a.sb.n[g].ua(b,c,d))return h;return q}w.g(hd,"type",hd.prototype.type);
w.defineProperty(hd,{type:"type"},t("T"),function(a){this.T!==a&&(u&&w.kb(a,hd,hd,"type"),w.H(this,a),this.T=a,this.Ma=h)});w.g(hd,"startX",hd.prototype.ma);w.defineProperty(hd,{ma:"startX"},t("Cb"),function(a){this.Cb!==a&&(u&&w.o(a,hd,"startX"),w.H(this,a),this.Cb=a,this.Ma=h)});w.g(hd,"startY",hd.prototype.na);w.defineProperty(hd,{na:"startY"},t("Ob"),function(a){this.Ob!==a&&(u&&w.o(a,hd,"startY"),w.H(this,a),this.Ob=a,this.Ma=h)});w.g(hd,"endX",hd.prototype.C);
w.defineProperty(hd,{C:"endX"},t("Bc"),function(a){this.Bc!==a&&(u&&w.o(a,hd,"endX"),w.H(this,a),this.Bc=a,this.Ma=h)});w.g(hd,"endY",hd.prototype.D);w.defineProperty(hd,{D:"endY"},t("Ic"),function(a){this.Ic!==a&&(u&&w.o(a,hd,"endY"),w.H(this,a),this.Ic=a,this.Ma=h)});w.g(hd,"figures",hd.prototype.sb);w.defineProperty(hd,{sb:"figures"},t("kk"),function(a){this.kk!==a&&(u&&w.i(a,z,hd,"figures"),w.H(this,a),this.kk=a,this.Ma=h)});
w.defineProperty(hd,{v:"spot1"},t("qi"),function(a){u&&w.i(a,H,hd,"spot1");w.H(this,a);this.qi=a.O()});w.defineProperty(hd,{w:"spot2"},t("ri"),function(a){u&&w.i(a,H,hd,"spot2");w.H(this,a);this.ri=a.O()});w.u(hd,{Fb:"bounds"},function(){this.pz()&&(this.hA(),this.oe());return this.it});w.g(hd,"minSize",hd.prototype.we);
w.defineProperty(hd,{we:"minSize"},t("Sd"),function(a){this.Sd.I(a)||(u&&w.i(a,bb,hd,"minSize"),a=a.O(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Sd=a)});function jd(a,b,c){w.jc(this);c===f&&(c=h);this.tl=c;this.Jf=h;a!==f?(u&&w.o(a,jd,"sx"),this.Cb=a):this.Cb=0;b!==f?(u&&w.o(b,jd,"sy"),this.Ob=b):this.Ob=0;this.Zq=new z(Ed);this.zu=this.Zq.Jb;this.Ma=h}w.Q("PathFigure",jd);
jd.prototype.copy=jd.prototype.copy=function(){var a=new jd;a.tl=this.tl;a.Jf=this.Jf;a.Cb=this.Cb;a.Ob=this.Ob;for(var b=this.Zq,c=b.length,d=a.Zq,e=0;e<c;e++){var g=b.n[e].copy();d.add(g)}a.zu=this.zu;a.Ma=this.Ma;return a};jd.prototype.equalsApprox=jd.prototype.Ej=function(a){if(!(a instanceof jd)||!Ua(this.ma,a.ma)||!Ua(this.na,a.na))return q;var b=this.za,a=a.za,c=b.length;if(c!==a.length)return q;for(var d=0;d<c;d++)if(!b.n[d].Ej(a.n[d]))return q;return h};da=jd.prototype;
da.toString=function(a){for(var b=a===f?"M"+this.ma.toString()+" "+this.na.toString():"M"+this.ma.toFixed(a)+" "+this.na.toFixed(a),c=this.za,d=c.length,e=0;e<d;e++)b+=" "+c.n[e].toString(a);return b};da.freeze=function(){this.ab=h;var a=this.za;a.freeze();for(var b=a.length,c=0;c<b;c++)a.n[c].freeze();return this};da.Ia=function(){this.ab=q;var a=this.za;a.Ia();for(var b=a.length,c=0;c<b;c++)a.n[c].Ia();return this};
da.pz=function(){if(this.Ma)return h;var a=this.za;if(this.zu!==a.Jb)return h;for(var b=a.length,c=0;c<b;c++)if(a.n[c].Ma)return h;return q};da.hA=function(){this.Ma=q;var a=this.za;this.zu=a.Jb;for(var b=a.length,c=0;c<b;c++){var d=a.n[c];d.Ma=q;d.Qi&&(d.Qi=n)}};w.g(jd,"isFilled",jd.prototype.fo);w.defineProperty(jd,{fo:"isFilled"},t("tl"),function(a){u&&w.k(a,"boolean",jd,"isFilled");w.H(this,a);this.tl=a});w.g(jd,"isShadowed",jd.prototype.io);
w.defineProperty(jd,{io:"isShadowed"},t("Jf"),function(a){u&&w.k(a,"boolean",jd,"isShadowed");w.H(this,a);this.Jf=a});w.g(jd,"startX",jd.prototype.ma);w.defineProperty(jd,{ma:"startX"},t("Cb"),function(a){u&&w.o(a,jd,"startX");w.H(this,a);this.Cb=a;this.Ma=h});w.g(jd,"startY",jd.prototype.na);w.defineProperty(jd,{na:"startY"},t("Ob"),function(a){u&&w.o(a,jd,"startY");w.H(this,a);this.Ob=a;this.Ma=h});w.g(jd,"segments",jd.prototype.za);
w.defineProperty(jd,{za:"segments"},t("Zq"),function(a){u&&w.i(a,z,jd,"segments");w.H(this,a);this.Zq=a;this.Ma=h});
jd.prototype.ua=function(a,b,c){for(var d=this.ma,e=this.na,g=d,i=e,j=this.za.n,k=j.length,l=0;l<k;l++){var m=j[l];switch(m.type){case Jd:g=m.C;i=m.D;d=m.C;e=m.D;break;case td:if(uc(d,e,m.C,m.D,c,a,b))return h;d=m.C;e=m.D;break;case Kd:if(vc(d,e,m.Ub,m.Ac,m.lg,m.mg,m.C,m.D,0.5,a,b,c))return h;d=m.C;e=m.D;break;case Ld:if(Dc(d,e,m.Ub,m.Ac,m.C,m.D,0.5,a,b,c))return h;d=m.C;e=m.D;break;case Md:case Fd:for(var p=m.type===Md?Od(m,this):Pd(m,this,d,e),r=p.length,s=n,v=0;v<r;v++)if(s=p[v],0===v&&uc(d,e,
s.x1,s.y1,c,a,b)||vc(s.x1,s.y1,s.x2,s.y2,s.Ef,s.Ff,s.Zc,s.$c,0.5,a,b,c))return h;s!==n&&(d=s.Zc,e=s.$c);break;default:w.m("Unknown Segment type: "+m.type)}if(m.$h&&(d!==g||e!==i)&&uc(d,e,g,i,c,a,b))return h}return q};
function Ed(a,b,c,d,e,g,i,j){w.jc(this);a===f?a=td:u&&w.kb(a,Ed,Ed,"constructor:type");this.T=a;a===Md?(b!==f?(u&&w.o(b,Ed,"ex"),this.Ud=b):this.Ud=0,c!==f?(u&&w.o(c,Ed,"ey"),this.Vd=c):this.Vd=0,d!==f&&(u&&w.o(d,Ed,"x1"),this.zm=d),e!==f&&(u&&w.o(e,Ed,"y1"),this.Am=e),g!==f&&(u&&w.o(g,Ed,"x2"),this.mj=Math.max(g||0,0)),i!==f&&"number"===typeof i?(u&&w.o(i,Ed,"y2"),this.nj=Math.max(i||0,0)):this.nj=this.mj):a===Fd?(b!==f&&u&&w.o(b,Ed,"ex"),c!==f&&u&&w.o(c,Ed,"ey"),d!==f&&u&&w.o(d,Ed,"x1"),e!==f&&
u&&w.o(e,Ed,"y1"),this.Pf=b||0,this.Qf=c||0,this.mj=Math.max(d||0,0),this.nj=Math.max(e||0,0),this.Ud=i?1:0,this.Vd=j?1:0,a=(g||0)%360,0>a&&(a+=360),this.Bn=a):(b!==f?(u&&w.o(b,Ed,"ex"),this.Pf=b):this.Pf=0,c!==f?(u&&w.o(c,Ed,"ey"),this.Qf=c):this.Qf=0,d!==f&&(u&&w.o(d,Ed,"x1"),this.kf=d),e!==f&&(u&&w.o(e,Ed,"y1"),this.lf=e),g!==f&&(u&&w.o(g,Ed,"x2"),this.ni=g),i!==f&&"number"===typeof i&&(u&&w.o(i,Ed,"y2"),this.oi=i));this.Ma=h;this.$h=q}w.Q("PathSegment",Ed);
Ed.prototype.copy=Ed.prototype.copy=function(){var a=new Ed;a.T=this.T;this.T===Md?(a.Ud=this.Ud,a.Vd=this.Vd,a.zm=this.zm,a.Am=this.Am,a.mj=this.mj,a.nj=this.nj):this.T===Fd?(a.Ud=this.Ud,a.Vd=this.Vd,a.Pf=this.Pf,a.Qf=this.Qf,a.mj=this.mj,a.nj=this.nj,a.Bn=this.Bn):(a.Pf=this.Pf,a.Qf=this.Qf,a.kf=this.kf,a.lf=this.lf,a.ni=this.ni,a.oi=this.oi);a.Ma=this.Ma;a.$h=this.$h;return a};
Ed.prototype.equalsApprox=Ed.prototype.Ej=function(a){if(!(a instanceof Ed)||this.type!==a.type||this.Ev!==a.Ev)return q;switch(this.type){case Jd:case td:return Ua(this.C,a.C)&&Ua(this.D,a.D);case Kd:return Ua(this.C,a.C)&&Ua(this.D,a.D)&&Ua(this.Ub,a.Ub)&&Ua(this.Ac,a.Ac)&&Ua(this.lg,a.lg)&&Ua(this.mg,a.mg);case Ld:return Ua(this.C,a.C)&&Ua(this.D,a.D)&&Ua(this.Ub,a.Ub)&&Ua(this.Ac,a.Ac);case Md:return Ua(this.og,a.og)&&Ua(this.Jh,a.Jh)&&Ua(this.pa,a.pa)&&Ua(this.ta,a.ta)&&Ua(this.radiusX,a.radiusX)&&
Ua(this.radiusY,a.radiusY);case Fd:return this.Dv===a.Dv&&this.Gv===a.Gv&&Ua(this.nw,a.nw)&&Ua(this.C,a.C)&&Ua(this.D,a.D)&&Ua(this.radiusX,a.radiusX)&&Ua(this.radiusY,a.radiusY);default:return q}};
Ed.prototype.toString=function(a){switch(this.type){case Jd:a=a===f?"M"+this.C.toString()+" "+this.D.toString():"M"+this.C.toFixed(a)+" "+this.D.toFixed(a);break;case td:a=a===f?"L"+this.C.toString()+" "+this.D.toString():"L"+this.C.toFixed(a)+" "+this.D.toFixed(a);break;case Kd:a=a===f?"C"+this.Ub.toString()+" "+this.Ac.toString()+" "+this.lg.toString()+" "+this.mg.toString()+" "+this.C.toString()+" "+this.D.toString():"C"+this.Ub.toFixed(a)+" "+this.Ac.toFixed(a)+" "+this.lg.toFixed(a)+" "+this.mg.toFixed(a)+
" "+this.C.toFixed(a)+" "+this.D.toFixed(a);break;case Ld:a=a===f?"Q"+this.Ub.toString()+" "+this.Ac.toString()+" "+this.C.toString()+" "+this.D.toString():"Q"+this.Ub.toFixed(a)+" "+this.Ac.toFixed(a)+" "+this.C.toFixed(a)+" "+this.D.toFixed(a);break;case Md:a=a===f?"B"+this.og.toString()+" "+this.Jh.toString()+" "+this.pa.toString()+" "+this.ta.toString()+" "+this.radiusX:"B"+this.og.toFixed(a)+" "+this.Jh.toFixed(a)+" "+this.pa.toFixed(a)+" "+this.ta.toFixed(a)+" "+this.radiusX;break;case Fd:a=
a===f?"A"+this.radiusX.toString()+" "+this.radiusY.toString()+" "+this.nw.toString()+" "+(this.Gv?1:0)+" "+(this.Dv?1:0)+" "+this.C.toString()+" "+this.D.toString():"A"+this.radiusX.toFixed(a)+" "+this.radiusY.toFixed(a)+" "+this.nw.toFixed(a)+" "+(this.Gv?1:0)+" "+(this.Dv?1:0)+" "+this.C.toFixed(a)+" "+this.D.toFixed(a);break;default:a=this.type.toString()}return a+(this.$h?"z":"")};var Jd;Ed.Move=Jd=w.s(Ed,"Move",0);var td;Ed.Line=td=w.s(Ed,"Line",1);var Kd;Ed.Bezier=Kd=w.s(Ed,"Bezier",2);var Ld;
Ed.QuadraticBezier=Ld=w.s(Ed,"QuadraticBezier",3);var Md;Ed.Arc=Md=w.s(Ed,"Arc",4);var Fd;Ed.SvgArc=Fd=w.s(Ed,"SvgArc",4);Ed.prototype.freeze=function(){this.ab=h;return this};Ed.prototype.Ia=function(){this.ab=q;return this};Ed.prototype.close=Ed.prototype.close=function(){this.$h=h;return this};
function Od(a,b){if(a.Qi&&b.Ma===q)return a.Qi;var c=a.radiusX,d=a.radiusY;d===f&&(d=c);var e=ed(a.zm,a.Am,c<d?c:d,a.og,a.og+a.Jh);if(c!==d){var g=new Wa;c<d?g.scale(1,d/c):g.scale(c/d,1);for(var c=e.length,d=new F,i=0,j=0,k=0;k<c;k++){var l=e[k];0===k&&(i=l.x1,j=l.y1);l.x1-=i;l.y1-=j;l.x2-=i;l.y2-=j;l.Ef-=i;l.Ff-=j;l.Zc-=i;l.$c-=j}for(k=0;k<c;k++)l=e[k],d.x=l.x1,d.y=l.y1,g.Ta(d),l.x1=d.x+i,l.y1=d.y+j,d.x=l.x2,d.y=l.y2,g.Ta(d),l.x2=d.x+i,l.y2=d.y+j,d.x=l.Ef,d.y=l.Ff,g.Ta(d),l.Ef=d.x+i,l.Ff=d.y+j,
d.x=l.Zc,d.y=l.$c,g.Ta(d),l.Zc=d.x+i,l.$c=d.y+j}a.Qi=e;return a.Qi}
function Pd(a,b,c,d){function e(a,b){return(a[0]*b[1]<a[1]*b[0]?-1:1)*Math.acos(g(a,b))}function g(a,b){return(a[0]*b[0]+a[1]*b[1])/(Math.sqrt(Math.pow(a[0],2)+Math.pow(a[1],2))*Math.sqrt(Math.pow(b[0],2)+Math.pow(b[1],2)))}if(a.Qi&&b.Ma===q)return a.Qi;var b=a.mj,i=a.nj,j=a.Bn*(Math.PI/180),k=a.og,l=a.Vd,m=a.Pf,p=a.Qf,r=new F(Math.cos(j)*(c-m)/2+Math.sin(j)*(d-p)/2,-Math.sin(j)*(c-m)/2+Math.cos(j)*(d-p)/2),s=Math.pow(r.x,2)/Math.pow(b,2)+Math.pow(r.y,2)/Math.pow(i,2);1<s&&(b*=Math.sqrt(s),i*=Math.sqrt(s));
k=(k==l?-1:1)*Math.sqrt((Math.pow(b,2)*Math.pow(i,2)-Math.pow(b,2)*Math.pow(r.y,2)-Math.pow(i,2)*Math.pow(r.x,2))/(Math.pow(b,2)*Math.pow(r.y,2)+Math.pow(i,2)*Math.pow(r.x,2)));isNaN(k)&&(k=0);k=new F(k*b*r.y/i,k*-i*r.x/b);c=new F((c+m)/2+Math.cos(j)*k.x-Math.sin(j)*k.y,(d+p)/2+Math.sin(j)*k.x+Math.cos(j)*k.y);d=e([1,0],[(r.x-k.x)/b,(r.y-k.y)/i]);j=[(r.x-k.x)/b,(r.y-k.y)/i];m=[(-r.x-k.x)/b,(-r.y-k.y)/i];r=e(j,m);-1>=g(j,m)&&(r=Math.PI);1<=g(j,m)&&(r=0);0==l&&0<r&&(r-=2*Math.PI);1==l&&0>r&&(r+=2*Math.PI);
l=b>i?1:b/i;j=b>i?i/b:1;b=ed(0,0,b>i?b:i,d,d+r,h);i=new Wa;i.translate(c.x,c.y);i.rotate(a.Bn,0,0);i.scale(l,j);l=b.length;r=new F;for(c=0;c<l;c++)d=b[c],r.x=d.x1,r.y=d.y1,i.Ta(r),d.x1=r.x,d.y1=r.y,r.x=d.x2,r.y=d.y2,i.Ta(r),d.x2=r.x,d.y2=r.y,r.x=d.Ef,r.y=d.Ff,i.Ta(r),d.Ef=r.x,d.Ff=r.y,r.x=d.Zc,r.y=d.$c,i.Ta(r),d.Zc=r.x,d.$c=r.y;a.Qi=b;return a.Qi}w.g(Ed,"isClosed",Ed.prototype.Ev);w.defineProperty(Ed,{Ev:"isClosed"},t("$h"),function(a){this.$h!==a&&(this.$h=a,this.Ma=h)});w.g(Ed,"type",Ed.prototype.type);
w.defineProperty(Ed,{type:"type"},t("T"),function(a){u&&w.kb(a,Ed,Ed,"type");w.H(this,a);this.T=a;this.Ma=h});w.g(Ed,"endX",Ed.prototype.C);w.defineProperty(Ed,{C:"endX"},t("Pf"),function(a){u&&w.o(a,Ed,"endX");w.H(this,a);this.Pf=a;this.Ma=h});w.g(Ed,"endY",Ed.prototype.D);w.defineProperty(Ed,{D:"endY"},t("Qf"),function(a){u&&w.o(a,Ed,"endY");w.H(this,a);this.Qf=a;this.Ma=h});w.defineProperty(Ed,{Ub:"point1X"},t("kf"),function(a){u&&w.o(a,Ed,"point1X");w.H(this,a);this.kf=a;this.Ma=h});
w.defineProperty(Ed,{Ac:"point1Y"},t("lf"),function(a){u&&w.o(a,Ed,"point1Y");w.H(this,a);this.lf=a;this.Ma=h});w.defineProperty(Ed,{lg:"point2X"},t("ni"),function(a){u&&w.o(a,Ed,"point2X");w.H(this,a);this.ni=a;this.Ma=h});w.defineProperty(Ed,{mg:"point2Y"},t("oi"),function(a){u&&w.o(a,Ed,"point2Y");w.H(this,a);this.oi=a;this.Ma=h});w.defineProperty(Ed,{pa:"centerX"},t("zm"),function(a){u&&w.o(a,Ed,"centerX");w.H(this,a);this.zm=a;this.Ma=h});
w.defineProperty(Ed,{ta:"centerY"},t("Am"),function(a){u&&w.o(a,Ed,"centerY");w.H(this,a);this.Am=a;this.Ma=h});w.defineProperty(Ed,{radiusX:"radiusX"},t("mj"),function(a){u&&w.o(a,Ed,"radiusX");0>a&&w.ra(a,">= zero",Ed,"radiusX");w.H(this,a);this.mj=a;this.Ma=h});w.defineProperty(Ed,{radiusY:"radiusY"},t("nj"),function(a){u&&w.o(a,Ed,"radiusY");0>a&&w.ra(a,">= zero",Ed,"radiusY");w.H(this,a);this.nj=a;this.Ma=h});
w.defineProperty(Ed,{og:"startAngle"},t("Ud"),function(a){this.Ud!==a&&(w.H(this,a),u&&w.o(a,Ed,"startAngle"),a%=360,0>a&&(a+=360),this.Ud=a,this.Ma=h)});w.defineProperty(Ed,{Jh:"sweepAngle"},t("Vd"),function(a){u&&w.o(a,Ed,"sweepAngle");w.H(this,a);360<a&&(a=360);-360>a&&(a=-360);this.Vd=a;this.Ma=h});w.defineProperty(Ed,{Dv:"isClockwiseArc"},function(){return!!this.Vd},function(a){w.H(this,a);this.Vd=a?1:0;this.Ma=h});
w.defineProperty(Ed,{Gv:"isLargeArc"},function(){return!!this.Ud},function(a){w.H(this,a);this.Ud=a?1:0;this.Ma=h});w.defineProperty(Ed,{nw:"xAxisRotation"},t("Bn"),function(a){u&&w.o(a,Ed,"xAxisRotation");a%=360;0>a&&(a+=360);w.H(this,a);this.Bn=a;this.Ma=h});function $d(){this.ba=n;this.yy=(new F(0,0)).freeze();this.bx=(new F(0,0)).freeze();this.ct=this.au=0;this.Nt="";this.Qu=this.tt=q;this.qt=this.ft=0;this.Si=this.zt=q;this.Yi=n;this.Ou=0;this.Tf=this.Lu=n}w.Q("InputEvent",$d);
$d.prototype.copy=$d.prototype.copy=function(){var a=new $d;a.ba=this.ba;a.yy=this.Yc.copy().freeze();a.bx=this.M.copy().freeze();a.au=this.au;a.ct=this.ct;a.Nt=this.Nt;a.tt=this.tt;a.Qu=this.Qu;a.ft=this.ft;a.qt=this.qt;a.zt=this.zt;a.Si=this.Si;a.Yi=this.Yi;a.Ou=this.Ou;a.Lu=this.Lu;a.Tf=this.Tf;return a};
$d.prototype.toString=function(){var a="^";this.Eh&&(a+="M:"+this.Eh);this.button&&(a+="B:"+this.button);this.key&&(a+="K:"+this.key);this.Wd&&(a+="C:"+this.Wd);this.Bj&&(a+="D:"+this.Bj);this.$d&&(a+="h");this.bubbles&&(a+="b");this.M!==n&&(a+="@"+this.M.toString());return a};w.g($d,"diagram",$d.prototype.h);w.defineProperty($d,{h:"diagram"},t("ba"),ba("ba"));w.g($d,"viewPoint",$d.prototype.Yc);w.defineProperty($d,{Yc:"viewPoint"},t("yy"),function(a){w.i(a,F,$d,"viewPoint");this.yy.Va(a)});
w.g($d,"documentPoint",$d.prototype.M);w.defineProperty($d,{M:"documentPoint"},t("bx"),function(a){w.i(a,F,$d,"documentPoint");this.bx.Va(a)});w.g($d,"modifiers",$d.prototype.Eh);w.defineProperty($d,{Eh:"modifiers"},t("au"),ba("au"));w.g($d,"button",$d.prototype.button);w.defineProperty($d,{button:"button"},t("ct"),ba("ct"));w.g($d,"key",$d.prototype.key);w.defineProperty($d,{key:"key"},t("Nt"),ba("Nt"));w.g($d,"down",$d.prototype.Dj);w.defineProperty($d,{Dj:"down"},t("tt"),ba("tt"));
w.g($d,"up",$d.prototype.Oi);w.defineProperty($d,{Oi:"up"},t("Qu"),ba("Qu"));w.g($d,"clickCount",$d.prototype.Wd);w.defineProperty($d,{Wd:"clickCount"},t("ft"),ba("ft"));w.g($d,"delta",$d.prototype.Bj);w.defineProperty($d,{Bj:"delta"},t("qt"),ba("qt"));w.g($d,"handled",$d.prototype.$d);w.defineProperty($d,{$d:"handled"},t("zt"),ba("zt"));w.g($d,"bubbles",$d.prototype.bubbles);w.defineProperty($d,{bubbles:"bubbles"},t("Si"),ba("Si"));w.g($d,"event",$d.prototype.event);
w.defineProperty($d,{event:"event"},t("Yi"),ba("Yi"));w.g($d,"timestamp",$d.prototype.timestamp);w.defineProperty($d,{timestamp:"timestamp"},t("Ou"),ba("Ou"));w.g($d,"targetDiagram",$d.prototype.pg);w.defineProperty($d,{pg:"targetDiagram"},t("Lu"),ba("Lu"));w.g($d,"targetObject",$d.prototype.Ad);w.defineProperty($d,{Ad:"targetObject"},t("Tf"),ba("Tf"));w.u($d,{Pk:"control"},function(){return 0!==(this.Eh&1)});w.u($d,{shift:"shift"},function(){return 0!==(this.Eh&4)});
w.u($d,{alt:"alt"},function(){return 0!==(this.Eh&2)});w.u($d,{CL:"meta"},function(){return 0!==(this.Eh&8)});w.u($d,{left:"left"},function(){return 0===this.button});w.u($d,{DL:"middle"},function(){return 1===this.button});w.u($d,{right:"right"},function(){return 2===this.button});function be(){this.ba=n;this.Bb="";this.qu=this.Gu=n;this.dt=q}w.Q("DiagramEvent",be);be.prototype.copy=be.prototype.copy=function(){var a=new be;a.ba=this.ba;a.Bb=this.Bb;a.Gu=this.Gu;a.qu=this.qu;a.dt=this.dt;return a};
be.prototype.toString=function(){var a="*"+this.name;this.cancel&&(a+="x");this.fw!==n&&(a+=":"+this.fw.toString());this.Rv!==n&&(a+="("+this.Rv.toString()+")");return a};w.g(be,"diagram",be.prototype.h);w.defineProperty(be,{h:"diagram"},t("ba"),ba("ba"));w.g(be,"name",be.prototype.name);w.defineProperty(be,{name:"name"},t("Bb"),ba("Bb"));w.g(be,"subject",be.prototype.fw);w.defineProperty(be,{fw:"subject"},t("Gu"),ba("Gu"));w.g(be,"parameter",be.prototype.Rv);
w.defineProperty(be,{Rv:"parameter"},t("qu"),ba("qu"));w.g(be,"cancel",be.prototype.cancel);w.defineProperty(be,{cancel:"cancel"},t("dt"),ba("dt"));function fe(){this.clear()}w.Q("ChangedEvent",fe);var ge;fe.Transaction=ge=w.s(fe,"Transaction",-1);var he;fe.Property=he=w.s(fe,"Property",0);var ie;fe.Insert=ie=w.s(fe,"Insert",1);var je;fe.Remove=je=w.s(fe,"Remove",2);
fe.prototype.clear=fe.prototype.clear=function(){this.et=he;this.uu=this.$t="";this.du=this.eu=this.lu=this.mu=this.ku=this.ba=this.Jd=n};
fe.prototype.copy=fe.prototype.copy=function(){var a=new fe;a.Jd=this.Jd;a.ba=this.ba;a.et=this.et;a.$t=this.$t;a.uu=this.uu;a.ku=this.ku;var b=this.mu;a.mu=w.nb(b)&&"function"===typeof b.O?b.O():b;b=this.lu;a.lu=w.nb(b)&&"function"===typeof b.O?b.O():b;b=this.eu;a.eu=w.nb(b)&&"function"===typeof b.O?b.O():b;b=this.du;a.du=w.nb(b)&&"function"===typeof b.O?b.O():b;return a};
fe.prototype.toString=function(){var a="",a=this.ld===ge?a+"* ":this.ld===he?a+(this.V!==n?"!m":"!d"):a+((this.V!==n?"!m":"!d")+this.ld);this.propertyName&&"string"===typeof this.propertyName&&(a+=" "+this.propertyName);this.Ue&&this.Ue!==this.propertyName&&(a+=" "+this.Ue);a+=": ";this.ld===ge?this.oldValue!==n&&(a+=" "+this.oldValue):(this.object!==n&&(a+=ke(this.object)),this.oldValue!==n&&(a+="  old: "+ke(this.oldValue)),this.Cf!==n&&(a+=" "+this.Cf),this.newValue!==n&&(a+="  new: "+ke(this.newValue)),
this.Bf!==n&&(a+=" "+this.Bf));return a};fe.prototype.getValue=fe.prototype.qa=function(a){return a?this.oldValue:this.newValue};fe.prototype.getParam=fe.prototype.MK=function(a){return a?this.Cf:this.Bf};fe.prototype.canUndo=fe.prototype.Nk=function(){return this.V!==n||this.h!==n?h:q};fe.prototype.undo=fe.prototype.hl=function(){this.Nk()&&(this.V!==n?this.V.Ir(this,h):this.h!==n&&this.h.Ir(this,h))};fe.prototype.canRedo=fe.prototype.Lk=function(){return this.V!==n||this.h!==n?h:q};
fe.prototype.redo=fe.prototype.Bo=function(){this.Lk()&&(this.V!==n?this.V.Ir(this,q):this.h!==n&&this.h.Ir(this,q))};w.g(fe,"model",fe.prototype.V);w.defineProperty(fe,{V:"model"},t("Jd"),ba("Jd"));w.g(fe,"diagram",fe.prototype.h);w.defineProperty(fe,{h:"diagram"},t("ba"),ba("ba"));w.g(fe,"change",fe.prototype.ld);w.defineProperty(fe,{ld:"change"},t("et"),function(a){u&&w.kb(a,fe,fe,"change");this.et=a});w.g(fe,"modelChange",fe.prototype.Ue);
w.defineProperty(fe,{Ue:"modelChange"},t("$t"),function(a){u&&w.k(a,"string",fe,"modelChange");this.$t=a});w.g(fe,"propertyName",fe.prototype.propertyName);w.defineProperty(fe,{propertyName:"propertyName"},t("uu"),function(a){u&&"string"!==typeof a&&w.i(a,Function,fe,"propertyName");this.uu=a});w.g(fe,"object",fe.prototype.object);w.defineProperty(fe,{object:"object"},t("ku"),ba("ku"));w.g(fe,"oldValue",fe.prototype.oldValue);w.defineProperty(fe,{oldValue:"oldValue"},t("mu"),ba("mu"));
w.g(fe,"oldParam",fe.prototype.Cf);w.defineProperty(fe,{Cf:"oldParam"},t("lu"),ba("lu"));w.g(fe,"newValue",fe.prototype.newValue);w.defineProperty(fe,{newValue:"newValue"},t("eu"),ba("eu"));w.g(fe,"newParam",fe.prototype.Bf);w.defineProperty(fe,{Bf:"newParam"},t("du"),ba("du"));
function B(a){1<arguments.length&&w.m("Model constructor can only take one optional argument, the Array of node data.");w.jc(this);this.Ww=this.Bb="";this.tk=q;this.hf=[];this.kc=new ka(n,Object);this.Gl="key";this.lt=this.St=n;this.zq="category";this.yg=new ka(n,ma);this.dj=n;this.sl=this.pi=q;this.uy=n;this.sa=new le;a!==f&&(this.gg=a)}w.Q("Model",B);B.prototype.clear=B.prototype.clear=function(){this.hf=[];this.kc.clear();this.yg.clear();this.sa.clear()};
B.prototype.writeJsonProtected=B.prototype.lw=function(){var a="";""!==this.name&&(a+=',\n  "name": '+this.quote(this.name));""!==this.Wl&&(a+=',\n  "dataFormat": '+this.quote(this.Wl));this.eb&&(a+=',\n  "isReadOnly": '+this.eb);"key"!==this.$k&&"string"===typeof this.$k&&(a+=',\n  "nodeKeyProperty": '+this.quote(this.$k));"category"!==this.Zk&&"string"===typeof this.Zk&&(a+=',\n  "nodeCategoryProperty": '+this.quote(this.Zk));return a};
B.prototype.kA=function(){return',\n  "nodeDataArray": '+ne(this,this.gg,h)};B.prototype.readJsonProtected=B.prototype.Tv=function(a){a.name&&(this.name=a.name);a.dataFormat&&(this.Wl=a.dataFormat);a.isReadOnly&&(this.eb=a.isReadOnly);a.nodeKeyProperty&&(this.$k=a.nodeKeyProperty);a.nodeCategoryProperty&&(this.Zk=a.nodeCategoryProperty)};B.prototype.Lz=function(a){a.nodeDataArray&&(a=a.nodeDataArray,Ce(this,a),this.gg=a)};
B.prototype.toString=function(a){a===f&&(a=0);if(1<a)return this.bA();var b=(""!==this.name?this.name:"")+" Model";if(0<a){var b=b+"\n node data:",a=this.gg,c=w.Sb(a),d;for(d=0;d<c;d++)var e=w.Eb(a,d),b=b+(" "+this.mb(e)+":"+ke(e))}return b};B.prototype.toJson=B.prototype.bA=function(a){a===f&&(a=this.constructor===B?"go.Model":this.constructor===O?"go.GraphLinksModel":this.constructor===De?"go.TreeModel":w.Tk(this));return'{ "class": '+this.quote(a)+this.writeJsonProtected()+this.kA()+"}"};
B.fromJson=function(a,b){b===f&&(b=n);b&&w.i(b,B,B,"fromJson:model");var c=n;if("string"===typeof a)if(window&&window.JSON&&window.JSON.parse)try{c=window.JSON.parse(a)}catch(d){u&&w.trace("JSON.parse error: "+d.toString())}else w.trace("WARNING: no JSON.parse available");else"object"==typeof a?c=a:w.m("Unable to construct a Model from: "+a);if(b===n){var e;e=n;var g=c["class"];if("string"===typeof g)try{var i=n;0===g.indexOf("go.")?(g=g.substr(3),i=ea[g]):(i=ea[g])||(i=window[g]);"function"===typeof i&&
(e=new i)}catch(j){}e===n||e instanceof B?b=e:w.m("Unable to construct a Model of declared class: "+c["class"])}b===n&&(b=new O);b.readJsonProtected(c);b.Lz(c);return b};
function Ce(a,b){if(w.isArray(b))for(var c=w.Sb(b),d=0;d<c;d++){var e=w.Eb(b,d);w.nb(e)&&w.fC(b,d,Ce(a,e))}else if(w.nb(b)){for(d in b)if(e=b[d],w.nb(e)&&(e=Ce(a,e),b[d]=e,"points"===d&&Array.isArray(e))){for(var g=h,i=0;i<e.length;i++)if("number"!==typeof e[i]){g=q;break}if(g){g=new z(F);for(i=0;i<e.length/2;i++){var j=new F(e[2*i],e[2*i+1]);g.add(j)}g.freeze();b[d]=g}}if("object"!==typeof b)c=b;else{d=b;e=b["class"];if("NaN"===e)d=NaN;else if("go.Point"===e)d=new F(Ee(b.x),Ee(b.y));else if("go.Size"===
e)d=new bb(Ee(b.width),Ee(b.height));else if("go.Rect"===e)d=new G(Ee(b.x),Ee(b.y),Ee(b.width),Ee(b.height));else if("go.Margin"===e)d=new hb(Ee(b.top),Ee(b.right),Ee(b.bottom),Ee(b.left));else if("go.Spot"===e)d="string"===typeof b["enum"]?qb(b["enum"]):new H(Ee(b.x),Ee(b.y),Ee(b.offsetX),Ee(b.offsetY));else if("go.Brush"===e){if(d=new Fe,d.type=w.am(Fe,b.type),b.start instanceof H&&(d.start=b.start),b.end instanceof H&&(d.end=b.end),"number"===typeof b.startRadius&&(d.Io=Ee(b.startRadius)),"number"===
typeof b.endRadius&&(d.Xn=Ee(b.endRadius)),e=b.colorStops)for(c in e)d.addColorStop(parseFloat(c),e[c])}else"go.Geometry"===e&&(d="string"===typeof b.path?xd(b.path):new hd,d.type=w.am(hd,b.type),"number"===typeof b.startX&&(d.ma=Ee(b.startX)),"number"===typeof b.startY&&(d.na=Ee(b.startY)),"number"===typeof b.endX&&(d.C=Ee(b.endX)),"number"===typeof b.endY&&(d.D=Ee(b.endY)),b.spot1 instanceof H&&(d.v=b.spot1),b.spot2 instanceof H&&(d.w=b.spot2));c=d}return c}return b}
B.prototype.quote=function(a){for(var b="",c=a.length,d=0;d<c;d++)var e=a[d],b='"'===e||"\\"===e?b+("\\"+e):"\b"===e?b+"\\b":"\f"===e?b+"\\f":"\n"===e?b+"\\n":"\r"===e?b+"\\r":"\t"===e?b+"\\t":b+e;return'"'+b+'"'};
B.prototype.writeJsonValue=B.prototype.mw=function(a){var b;if(a===f)b="undefined";else if(a===n)b="null";else if(a===h)b="true";else if(a===q)b="false";else if("string"===typeof a)b=this.quote(a);else if("number"===typeof a)b=Infinity===a?"9e9999":-Infinity===a?"-9e9999":isNaN(a)?'{"class":"NaN"}':a.toString();else if(w.isArray(a))b=ne(this,a);else if(w.nb(a)){var c=a;if(c instanceof F)a={"class":"go.Point",x:Ge(c.x),y:Ge(c.y)};else if(c instanceof bb)a={"class":"go.Size",width:Ge(c.width),height:Ge(c.height)};
else if(c instanceof G)a={"class":"go.Rect",x:Ge(c.x),y:Ge(c.y),width:Ge(c.width),height:Ge(c.height)};else if(c instanceof hb)a={"class":"go.Margin",top:Ge(c.top),right:Ge(c.right),bottom:Ge(c.bottom),left:Ge(c.left)};else if(c instanceof H)a=tb(c)?{"class":"go.Spot",x:Ge(c.x),y:Ge(c.y),offsetX:Ge(c.offsetX),offsetY:Ge(c.offsetY)}:{"class":"go.Spot","enum":c.toString()};else if(c instanceof Fe){a={"class":"go.Brush",type:c.type.name};if(c.type===He)a.color=c.color;else if(c.type===Ie||c.type===Je)a.start=
c.start,a.end=c.end,c.type===Je&&(0!==c.Io&&(a.startRadius=Ge(c.Io)),isNaN(c.Xn)||(a.endRadius=Ge(c.Xn)));if(c.Rn!==n){for(var d={},c=c.Rn.l;c.next();)d[c.key.toString()]=c.value;a.colorStops=d}}else c instanceof hd&&(a={"class":"go.Geometry",type:c.type.name},0!==c.ma&&(a.startX=Ge(c.ma)),0!==c.na&&(a.startY=Ge(c.na)),0!==c.C&&(a.endX=Ge(c.C)),0!==c.D&&(a.endY=Ge(c.D)),c.v.I(Jb)||(a.spot1=c.v),c.w.I(Rb)||(a.spot2=c.w),c.type===id&&(a.path=ud(c)));var d="{",e=h;for(b in a)if(c=w.Wa(a,b),!(c===f||
"__gohashid"===b||"_"===b[0]||"function"===typeof c))if(e?e=q:d+=", ",d+='"'+b+'":',"points"===b&&c instanceof z&&c.T===F){for(var g="[",c=c.l;c.next();){var i=c.value;1<g.length&&(g+=",");g+=this.mw(i.x);g+=",";g+=this.mw(i.y)}g+="]";d+=g}else d+=this.mw(c);b=d+"}"}else b="function"===typeof a?"null":a.toString();return b};function ne(a,b,c){var d=w.Sb(b),e="[ ";c&&1<d&&(e+="\n");for(var g=0;g<d;g++){var i=w.Eb(b,g);i!==f&&(0<g&&(e+=",",c&&(e+="\n")),e+=a.mw(i))}c&&1<d&&(e+="\n");return e+" ]"}
function Ge(a){return isNaN(a)?"NaN":Infinity===a?"9e9999":-Infinity===a?"-9e9999":a}function Ee(a){return"number"===typeof a?a:"NaN"===a?NaN:"9e9999"===a?Infinity:"-9e9999"===a?-Infinity:parseFloat(a)}w.g(B,"name",B.prototype.name);w.defineProperty(B,{name:"name"},t("Bb"),function(a){var b=this.Bb;b!==a&&(w.k(a,"string",B,"name"),this.Bb=a,this.j("name",b,a))});w.g(B,"dataFormat",B.prototype.Wl);
w.defineProperty(B,{Wl:"dataFormat"},t("Ww"),function(a){var b=this.Ww;b!==a&&(w.k(a,"string",B,"dataFormat"),this.Ww=a,this.j("dataFormat",b,a))});w.g(B,"isReadOnly",B.prototype.eb);w.defineProperty(B,{eb:"isReadOnly"},t("tk"),function(a){var b=this.tk;b!==a&&(w.k(a,"boolean",B,"isReadOnly"),this.tk=a,this.j("isReadOnly",b,a))});B.prototype.addChangedListener=B.prototype.Ey=function(a){w.k(a,"function",B,"addChangedListener:listener");this.dj===n&&(this.dj=new z("function"));this.dj.add(a)};
B.prototype.removeChangedListener=B.prototype.Nz=function(a){w.k(a,"function",B,"removeChangedListener:listener");this.dj!==n&&(this.dj.remove(a),0===this.dj.count&&(this.dj=n))};B.prototype.$u=function(a){this.ub||this.sa.eD(a);if(this.dj!==n)for(var b=this.dj.l;b.next();){var c=b.value;c(a)}};B.prototype.raiseChangedEvent=B.prototype.Qc=function(a,b,c,d,e,g,i){Ke(this,"",a,b,c,d,e,g,i)};B.prototype.raiseChanged=B.prototype.j=function(a,b,c,d,e){Ke(this,"",he,a,this,b,c,d,e)};
B.prototype.raiseDataChanged=B.prototype.Kz=function(a,b,c,d,e,g){Ke(this,"",he,b,a,c,d,e,g)};function Ke(a,b,c,d,e,g,i,j,k){j===f&&(j=n);k===f&&(k=n);var l=new fe;l.V=a;l.ld=c;l.Ue=b;l.propertyName=d;l.object=e;l.oldValue=g;l.Cf=j;l.newValue=i;l.Bf=k;a.$u(l)}w.g(B,"undoManager",B.prototype.sa);w.defineProperty(B,{sa:"undoManager"},t("uy"),function(a){var b=this.uy;b!==a&&(w.i(a,le,B,"undoManager"),b!==n&&b.NH(this),this.uy=a,a!==n&&a.FF(this))});w.g(B,"skipsUndoManager",B.prototype.ub);
w.defineProperty(B,{ub:"skipsUndoManager"},t("pi"),function(a){w.k(a,"boolean",B,"skipsUndoManager");this.pi=a});B.prototype.Ir=function(a,b){if(a!==n&&a.V===this){var c=this.sl;try{this.sl=h,this.Ly(a,b)}finally{this.sl=c}}};
B.prototype.Ly=function(a,b){if(a.ld===he){var c=a.object,d=a.propertyName,e=a.qa(b);w.Ka(c,d,e)}else a.ld===ie?"nodeDataArray"===a.Ue?(c=a.newValue,w.nb(c)&&(d=this.mb(c),d!==f&&(b?(w.xi(this.hf,a.Bf),this.kc.remove(d)):(w.wi(this.hf,a.Bf,c),this.kc.add(d,c))))):""===a.Ue?(c=a.object,!w.isArray(c)&&a.propertyName&&(c=w.Wa(a.object,a.propertyName)),w.isArray(c)&&(d=a.newValue,e=a.Bf,b?w.xi(c,e):w.wi(c,e,d))):w.m("unknown ChangedEvent.Insert object: "+a.toString()):a.ld===je?"nodeDataArray"===a.Ue?
(c=a.oldValue,w.nb(c)&&(d=this.mb(c),d!==f&&(b?(w.wi(this.hf,a.Cf,c),this.kc.add(d,c)):(w.xi(this.hf,a.Cf),this.kc.remove(d))))):""===a.Ue?(c=a.object,!w.isArray(c)&&a.propertyName&&(c=w.Wa(a.object,a.propertyName)),w.isArray(c)&&(d=a.oldValue,e=a.Cf,b?w.wi(c,e,d):w.xi(c,e))):w.m("unknown ChangedEvent.Remove object: "+a.toString()):a.ld!==ge&&w.m("unknown ChangedEvent: "+a.toString())};B.prototype.startTransaction=B.prototype.hc=function(a){return this.sa.hc(a)};
B.prototype.commitTransaction=B.prototype.ne=function(a){return this.sa.ne(a)};B.prototype.rollbackTransaction=B.prototype.zs=function(){return this.sa.zs()};B.prototype.updateTargetBindings=B.prototype.vb=function(a,b){b===f&&(b="");Ke(this,"SourceChanged",ge,b,a,n,n)};w.g(B,"nodeKeyProperty",B.prototype.$k);
w.defineProperty(B,{$k:"nodeKeyProperty"},t("Gl"),function(a){var b=this.Gl;b!==a&&(Le(a,B,"nodeKeyProperty"),0<this.kc.count&&w.m("Cannot set Model.nodeKeyProperty when there is existing node data"),this.Gl=a,this.j("nodeKeyProperty",b,a))});function Le(a,b,c){"string"!==typeof a&&"function"!==typeof a&&w.ic(a,"string or function",b,c)}
B.prototype.getKeyForNodeData=B.prototype.mb=function(a){if(a!==n){var b=this.Gl;if(""!==b&&(b=w.Wa(a,b),b!==f)){if(Me(b))return b;u&&w.trace("Key value for node data "+a+" is not a number or a string: "+b)}}};
B.prototype.setKeyForNodeData=B.prototype.Wz=function(a,b){b===n&&(b=f);b!==f&&!Me(b)&&w.ic(b,"number or string",B,"setKeyForNodeData:key");if(a!==n){var c=this.Gl;if(""!==c)if(this.pe(a)){var d=w.Wa(a,c);d!==b&&this.Me(b)===n&&(w.Ka(a,c,b),this.kc.remove(d),this.kc.add(b,a),Ke(this,"nodeKey",he,c,a,d,b),"string"===typeof c&&this.vb(a,c),this.ys(d,b))}else w.Ka(a,c,b)}};w.g(B,"makeUniqueKeyFunction",B.prototype.lH);
w.defineProperty(B,{lH:"makeUniqueKeyFunction"},t("St"),function(a){var b=this.St;b!==a&&(a!==n&&w.k(a,"function",B,"makeUniqueKeyFunction"),this.St=a,this.j("makeUniqueKeyFunction",b,a))});function Me(a){return"number"===typeof a||"string"===typeof a}B.prototype.containsNodeData=B.prototype.pe=function(a){a=this.mb(a);return a===f?q:this.kc.contains(a)};B.prototype.findNodeDataForKey=B.prototype.Me=function(a){a===n&&w.m("Model.findNodeDataForKey:key must not be null");return a===f||!Me(a)?n:this.kc.qa(a)};
w.g(B,"nodeDataArray",B.prototype.gg);
w.defineProperty(B,{gg:"nodeDataArray"},t("hf"),function(a){var b=this.hf;if(b!==a){w.Jr(a,B,"nodeDataArray");this.kc.clear();this.fA();for(var c=w.Sb(a),d=0;d<c;d++){var e=w.Eb(a,d);if(!w.nb(e)){w.m("Model.nodeDataArray must only contain Objects, not: "+e);return}w.cs(e)}this.hf=a;for(var g=new z(Object),d=0;d<c;d++){var e=w.Eb(a,d),i=this.mb(e);i===f?g.add(e):this.kc.qa(i)!==n?g.add(e):this.kc.add(i,e)}for(d=g.l;d.next();)e=d.value,this.DD(e),g=this.mb(e),this.kc.add(g,e);Ke(this,"nodeDataArray",
he,"nodeDataArray",this,b,a);for(d=0;d<c;d++)e=w.Eb(a,d),this.Eo(e),this.Do(e);this.yg.clear();Array.isArray(a)||(this.eb=h)}});
B.prototype.makeNodeDataKeyUnique=B.prototype.DD=function(a){if(a!==n){var b=this.Gl;if(""!==b){var c=this.mb(a);if(c===f||this.kc.contains(c)){var d=this.St;if(d!==n&&(c=d(this,a),c!==f&&c!==n&&!this.kc.contains(c))){w.Ka(a,b,c);return}if("string"===typeof c){for(d=2;this.kc.contains(c+d);)d++;w.Ka(a,b,c+d)}else if(c===f||"number"===typeof c){for(d=-this.kc.count-1;this.kc.contains(d);)d--;w.Ka(a,b,d)}else w.m("Model.getKeyForNodeData returned something other than a string or a number: "+c)}}}};
B.prototype.addNodeData=B.prototype.Cr=function(a){if(a!==n){w.cs(a);var b=this.mb(a);b!==f&&this.kc.qa(b)===a||(this.DD(a),b=this.mb(a),this.kc.add(b,a),b=w.Sb(this.hf),w.wi(this.hf,b,a),Ke(this,"nodeDataArray",ie,"nodeDataArray",this,n,a,n,b),this.Eo(a),this.Do(a))}};B.prototype.removeNodeData=B.prototype.dE=function(a){if(a!==n){var b=this.mb(a);b!==f&&this.kc.contains(b)&&(this.kc.remove(b),b=w.Iy(this.hf,a),0>b||(w.xi(this.hf,b),Ke(this,"nodeDataArray",je,"nodeDataArray",this,a,n,b,n),this.Ps(a)))}};
da=B.prototype;da.ys=function(a,b){var c=Ne(this,a);c instanceof ma&&this.yg.add(b,c)};da.fA=aa();da.Eo=aa();da.Do=aa();da.Ps=aa();function Oe(a,b,c){if(b!==f){var d=a.yg.qa(b);d===n&&(d=new ma,a.yg.add(b,d));d.add(c)}}function bf(a,b,c){if(b!==f){var d=a.yg.qa(b);d instanceof ma&&(c===f||c===n?a.yg.remove(b):(d.remove(c),0===d.count&&a.yg.remove(b)))}}
B.prototype.dumpDelayedReferences=B.prototype.kK=function(){w.trace("DelayedReferences ("+this.yg.count+")");for(var a=this.yg.l;a.next();){for(var b="",c=a.value.l;c.next();)b+=ke(c.value)+", ";w.trace("  "+a.key+": "+b)}};function Ne(a,b){if(b===f)return n;var c=a.yg.qa(b);return c instanceof ma?c:n}w.g(B,"copyNodeDataFunction",B.prototype.mG);
w.defineProperty(B,{mG:"copyNodeDataFunction"},t("lt"),function(a){var b=this.lt;b!==a&&(a!==n&&w.k(a,"function",B,"copyNodeDataFunction"),this.lt=a,this.j("copyNodeDataFunction",b,a))});B.prototype.copyNodeData=B.prototype.yj=function(a){if(a===n)return n;var b=n,b=this.lt;if(b!==n)b=b(a,this);else{var b=new a.constructor,c;for(c in a)w.Ka(b,c,w.Wa(a,c))}b&&w.jc(b);return b};
B.prototype.setDataProperty=B.prototype.$v=function(a,b,c){u&&(w.k(a,"object",B,"setDataProperty:data"),w.k(b,"string",B,"setDataProperty:propname"),""===b&&w.m("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.pe(a))if(b===this.$k)this.Wz(a,c);else if(b===this.Zk){this.Zv(a,c);return}var d=w.Wa(a,b);d!==c&&(w.Ka(a,b,c),this.Kz(a,b,d,c))};B.prototype.addArrayItem=B.prototype.zI=function(a,b){this.SG(a,-1,b)};
B.prototype.insertArrayItem=B.prototype.SG=function(a,b,c){u&&(w.Jr(a,B,"insertArrayItem:arr"),w.o(b,B,"insertArrayItem:idx"));a===this.hf&&w.m("Model.insertArrayItem or Model.addArrayItem should not be called on the Model.nodeDataArray");0>b&&(b=w.Sb(a));w.wi(a,b,c);Ke(this,"",ie,"",a,n,c,n,b)};
B.prototype.removeArrayItem=B.prototype.TL=function(a,b){b===f&&(b=-1);u&&(w.Jr(a,B,"removeArrayItem:arr"),w.o(b,B,"removeArrayItem:idx"));a===this.hf&&w.m("Model.removeArrayItem should not be called on the Model.nodeDataArray");-1===b&&(b=w.Sb(a)-1);var c=w.Eb(a,b);w.xi(a,b);Ke(this,"",je,"",a,c,n,b,n)};w.g(B,"nodeCategoryProperty",B.prototype.Zk);
w.defineProperty(B,{Zk:"nodeCategoryProperty"},t("zq"),function(a){var b=this.zq;b!==a&&(Le(a,B,"nodeCategoryProperty"),this.zq=a,this.j("nodeCategoryProperty",b,a))});B.prototype.getCategoryForNodeData=B.prototype.XC=function(a){if(a===n)return"";var b=this.zq;if(""===b)return"";b=w.Wa(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&w.trace("getCategoryForNodeData found a non-string category for "+a+": "+b);return""};
B.prototype.setCategoryForNodeData=B.prototype.Zv=function(a,b){w.k(b,"string",B,"setCategoryForNodeData:cat");if(a!==n){var c=this.zq;if(""!==c)if(this.pe(a)){var d=w.Wa(a,c);d===f&&(d="");d!==b&&(w.Ka(a,c,b),Ke(this,"nodeCategory",he,c,a,d,b))}else w.Ka(a,c,b)}};
function O(a,b){2<arguments.length&&w.m("GraphLinksModel constructor can only take two optional arguments, the Array of node data and the Array of link data.");B.call(this);this.vk=[];this.$m=new ma(Object);this.bk=this.kt=n;this.aj="from";this.cj="to";this.gq=this.fq="";this.cq="category";this.kh=this.gu="";this.fu="isGroup";this.jj="group";a!==f&&(this.gg=a);b!==f&&(this.Rg=b)}w.Q("GraphLinksModel",O);w.Ea(O,B);
O.prototype.clear=O.prototype.clear=function(){B.prototype.clear.call(this);this.vk=[];this.$m.clear()};O.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.bA();var b=(""!==this.name?this.name:"")+" GraphLinksModel";if(0<a){var b=b+"\n node data:",a=this.gg,c=w.Sb(a),d;for(d=0;d<c;d++)var e=w.Eb(a,d),b=b+(" "+this.mb(e)+":"+ke(e));b+="\n link data:";a=this.Rg;c=w.Sb(a);for(d=0;d<c;d++)e=w.Eb(a,d),b+=" "+this.cm(e)+"--\>"+this.dm(e)}return b};
O.prototype.writeJsonProtected=O.prototype.lw=function(){var a=B.prototype.lw.call(this),b="";"category"!==this.lo&&"string"===typeof this.lo&&(b+=',\n  "linkCategoryProperty": '+this.quote(this.lo));"from"!==this.mo&&"string"===typeof this.mo&&(b+=',\n "linkFromKeyProperty": '+this.quote(this.mo));"to"!==this.qo&&"string"===typeof this.qo&&(b+=',\n  "linkToKeyProperty": '+this.quote(this.qo));""!==this.no&&"string"===typeof this.no&&(b+=',\n  "linkFromPortIdProperty": '+this.quote(this.no));""!==
this.ro&&"string"===typeof this.ro&&(b+=',\n  "linkToPortIdProperty": '+this.quote(this.ro));""!==this.zo&&"string"===typeof this.zo&&(b+=',\n "nodeIsLinkLabelProperty": '+this.quote(this.zo));""!==this.oo&&"string"===typeof this.oo&&(b+=',\n  "linkLabelKeysProperty": '+this.quote(this.oo));"isGroup"!==this.yo&&"string"===typeof this.yo&&(b+=',\n "nodeIsGroupProperty": '+this.quote(this.yo));"group"!==this.xo&&"string"===typeof this.xo&&(b+=',\n  "nodeGroupKeyProperty": '+this.quote(this.xo));return a+
b};O.prototype.kA=function(){var a=B.prototype.kA.call(this),b=',\n  "linkDataArray": '+ne(this,this.Rg,h);return a+b};
O.prototype.readJsonProtected=O.prototype.Tv=function(a){B.prototype.Tv.call(this,a);a.linkFromKeyProperty&&(this.mo=a.linkFromKeyProperty);a.linkToKeyProperty&&(this.qo=a.linkToKeyProperty);a.linkFromPortIdProperty&&(this.no=a.linkFromPortIdProperty);a.linkToPortIdProperty&&(this.ro=a.linkToPortIdProperty);a.linkCategoryProperty&&(this.lo=a.linkCategoryProperty);a.nodeIsLinkLabelProperty&&(this.zo=a.nodeIsLinkLabelProperty);a.linkLabelKeysProperty&&(this.oo=a.linkLabelKeysProperty);a.nodeIsGroupProperty&&
(this.yo=a.nodeIsGroupProperty);a.nodeGroupKeyProperty&&(this.xo=a.nodeGroupKeyProperty)};O.prototype.Lz=function(a){B.prototype.Lz.call(this,a);a.linkDataArray&&(a=a.linkDataArray,Ce(this,a),this.Rg=a)};
O.prototype.Ly=function(a,b){if(a.ld===ie){var c=n;"linkDataArray"===a.Ue?c=this.Rg:"linkLabelKeys"===a.Ue&&(c=this.Vk(a.object));if(w.isArray(c)){b?w.xi(c,a.Bf):w.wi(c,a.Bf,a.newValue);return}}else if(a.ld===je&&(c=n,"linkDataArray"===a.Ue?c=this.Rg:"linkLabelKeys"===a.Ue&&(c=this.Vk(a.object)),w.isArray(c))){b?w.wi(c,a.Cf,a.oldValue):w.xi(c,a.Cf);return}B.prototype.Ly.call(this,a,b)};w.g(O,"archetypeNodeData",O.prototype.Gr);
w.defineProperty(O,{Gr:"archetypeNodeData"},t("bk"),function(a){var b=this.bk;b!==a&&(a!==n&&w.i(a,Object,O,"archetypeNodeData"),this.bk=a,this.j("archetypeNodeData",b,a))});O.prototype.im=function(a){if(a!==f){var b=this.bk;if(b!==n){var c=this.Me(a);c===n&&(c=this.yj(b),w.Ka(c,this.Gl,a),this.Cr(c))}return a}};w.g(O,"linkFromKeyProperty",O.prototype.mo);
w.defineProperty(O,{mo:"linkFromKeyProperty"},t("aj"),function(a){var b=this.aj;b!==a&&(Le(a,O,"linkFromKeyProperty"),this.aj=a,this.j("linkFromKeyProperty",b,a))});O.prototype.getFromKeyForLinkData=O.prototype.cm=function(a){if(a!==n){var b=this.aj;if(""!==b&&(b=w.Wa(a,b),b!==f)){if(Me(b))return b;u&&w.trace("FromKey value for link data "+a+" is not a number or a string: "+b)}}};
O.prototype.setFromKeyForLinkData=O.prototype.bw=function(a,b){b===n&&(b=f);b!==f&&!Me(b)&&w.ic(b,"number or string",O,"setFromKeyForLinkData:key");if(a!==n){var c=this.aj;if(""!==c)if(b=this.im(b),this.zi(a)){var d=w.Wa(a,c);d!==b&&(bf(this,d,a),w.Ka(a,c,b),this.Me(b)===n&&Oe(this,b,a),Ke(this,"linkFromKey",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};w.g(O,"linkToKeyProperty",O.prototype.qo);
w.defineProperty(O,{qo:"linkToKeyProperty"},t("cj"),function(a){var b=this.cj;b!==a&&(Le(a,O,"linkToKeyProperty"),this.cj=a,this.j("linkToKeyProperty",b,a))});O.prototype.getToKeyForLinkData=O.prototype.dm=function(a){if(a!==n){var b=this.cj;if(""!==b&&(b=w.Wa(a,b),b!==f)){if(Me(b))return b;u&&w.trace("ToKey value for link data "+a+" is not a number or a string: "+b)}}};
O.prototype.setToKeyForLinkData=O.prototype.cw=function(a,b){b===n&&(b=f);b!==f&&!Me(b)&&w.ic(b,"number or string",O,"setToKeyForLinkData:key");if(a!==n){var c=this.cj;if(""!==c)if(b=this.im(b),this.zi(a)){var d=w.Wa(a,c);d!==b&&(bf(this,d,a),w.Ka(a,c,b),this.Me(b)===n&&Oe(this,b,a),Ke(this,"linkToKey",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};w.g(O,"linkFromPortIdProperty",O.prototype.no);
w.defineProperty(O,{no:"linkFromPortIdProperty"},t("fq"),function(a){var b=this.fq;b!==a&&(Le(a,O,"linkFromPortIdProperty"),this.fq=a,this.j("linkFromPortIdProperty",b,a))});O.prototype.getFromPortIdForLinkData=O.prototype.GG=function(a){if(a===n)return"";var b=this.fq;if(""===b)return"";a=w.Wa(a,b);return a===f?"":a};
O.prototype.setFromPortIdForLinkData=O.prototype.Es=function(a,b){w.k(b,"string",O,"setFromPortIdForLinkData:portname");if(a!==n){var c=this.fq;if(""!==c)if(this.zi(a)){var d=w.Wa(a,c);d===f&&(d="");d!==b&&(w.Ka(a,c,b),Ke(this,"linkFromPortId",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};w.g(O,"linkToPortIdProperty",O.prototype.ro);
w.defineProperty(O,{ro:"linkToPortIdProperty"},t("gq"),function(a){var b=this.gq;b!==a&&(Le(a,O,"linkToPortIdProperty"),this.gq=a,this.j("linkToPortIdProperty",b,a))});O.prototype.getToPortIdForLinkData=O.prototype.JG=function(a){if(a===n)return"";var b=this.gq;if(""===b)return"";a=w.Wa(a,b);return a===f?"":a};
O.prototype.setToPortIdForLinkData=O.prototype.Fs=function(a,b){w.k(b,"string",O,"setToPortIdForLinkData:portname");if(a!==n){var c=this.gq;if(""!==c)if(this.zi(a)){var d=w.Wa(a,c);d===f&&(d="");d!==b&&(w.Ka(a,c,b),Ke(this,"linkToPortId",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};w.g(O,"nodeIsLinkLabelProperty",O.prototype.zo);
w.defineProperty(O,{zo:"nodeIsLinkLabelProperty"},t("gu"),function(a){var b=this.gu;b!==a&&(Le(a,O,"nodeIsLinkLabelProperty"),this.gu=a,this.j("nodeIsLinkLabelProperty",b,a))});O.prototype.isLinkLabelForNodeData=O.prototype.rz=function(a){if(a===n)return q;var b=this.gu;return""===b?q:w.Wa(a,b)?h:q};w.g(O,"linkLabelKeysProperty",O.prototype.oo);
w.defineProperty(O,{oo:"linkLabelKeysProperty"},t("kh"),function(a){var b=this.kh;b!==a&&(Le(a,O,"linkLabelKeysProperty"),this.kh=a,this.j("linkLabelKeysProperty",b,a))});O.prototype.getLabelKeysForLinkData=O.prototype.Vk=function(a){if(a===n)return[];var b=this.kh;if(""===b)return[];a=w.Wa(a,b);return a===f?[]:a};
O.prototype.setLabelKeysForLinkData=O.prototype.wE=function(a,b){w.Jr(b,O,"setLabelKeysForLinkData:arr");if(a!==n){var c=this.kh;if(""!==c)if(this.zi(a)){var d=w.Wa(a,c);d===f&&(d=[]);if(d!==b){for(var e=w.Sb(d),g=0;g<e;g++){var i=w.Eb(d,g);bf(this,i,a)}w.Ka(a,c,b);e=w.Sb(b);for(g=0;g<e;g++)i=w.Eb(b,g),this.Me(i)===n&&Oe(this,i,a);Ke(this,"linkLabelKeys",he,c,a,d,b);"string"===typeof c&&this.vb(a,c)}}else w.Ka(a,c,b)}};
O.prototype.addLabelKeyForLinkData=O.prototype.YB=function(a,b){if(!(b===n||b===f))if(Me(b)||w.ic(b,"number or string",O,"addLabelKeyForLinkData:key"),a!==n){var c=this.kh;if(""!==c){var d=w.Wa(a,c);d===f?this.wE(a,[b]):w.isArray(d)?0<=w.Iy(d,b)||(w.wi(d,Infinity,b),this.zi(a)&&(this.Me(b)===n&&Oe(this,b,a),Ke(this,"linkLabelKeys",ie,c,a,n,b))):w.m(c+" property is not an Array; cannot addLabelKeyForLinkData: "+a)}}};
O.prototype.removeLabelKeyForLinkData=O.prototype.LH=function(a,b){if(!(b===n||b===f))if(Me(b)||w.ic(b,"number or string",O,"removeLabelKeyForLinkData:key"),a!==n){var c=this.kh;if(""!==c){var d=w.Wa(a,c);if(w.isArray(d)){var e=w.Iy(d,b);0>e||(w.xi(d,e),this.zi(a)&&(bf(this,b,a),Ke(this,"linkLabelKeys",je,c,a,b,n)))}else d!==f&&w.m(c+" property is not an Array; cannot removeLabelKeyforLinkData: "+a)}}};w.g(O,"linkDataArray",O.prototype.Rg);
w.defineProperty(O,{Rg:"linkDataArray"},t("vk"),function(a){var b=this.vk;if(b!==a){w.Jr(a,O,"linkDataArray");for(var c=w.Sb(a),d=0;d<c;d++){var e=w.Eb(a,d);if(!w.nb(e)){w.m("GraphLinksModel.linkDataArray must only contain Objects, not: "+e);return}w.cs(e)}this.vk=a;for(var g=new ma(Object),d=0;d<c;d++)e=w.Eb(a,d),g.add(e);this.$m=g;Ke(this,"linkDataArray",he,"linkDataArray",this,b,a);for(d=0;d<c;d++)e=w.Eb(a,d),cf(this,e)}});
O.prototype.containsLinkData=O.prototype.zi=function(a){return a===n?q:this.$m.contains(a)};O.prototype.addLinkData=O.prototype.ZB=function(a){if(a!==n){if(w.ec(a)===f)w.jc(a);else if(this.zi(a))return;this.$m.add(a);var b=w.Sb(this.vk);w.wi(this.vk,b,a);Ke(this,"linkDataArray",ie,"linkDataArray",this,n,a,n,b);cf(this,a)}};
O.prototype.removeLinkData=O.prototype.MH=function(a){if(a!==n){this.$m.remove(a);var b=this.vk.indexOf(a);if(!(0>b)){w.xi(this.vk,b);Ke(this,"linkDataArray",je,"linkDataArray",this,a,n,b,n);b=this.cm(a);bf(this,b,a);b=this.dm(a);bf(this,b,a);for(var c=this.Vk(a),d=w.Sb(c),e=0;e<d;e++)b=w.Eb(c,e),bf(this,b,a)}}};function cf(a,b){var c=a.cm(b),c=a.im(c);a.Me(c)===n&&Oe(a,c,b);c=a.dm(b);c=a.im(c);a.Me(c)===n&&Oe(a,c,b);for(var d=a.Vk(b),e=w.Sb(d),g=0;g<e;g++)c=w.Eb(d,g),a.Me(c)===n&&Oe(a,c,b)}
w.g(O,"copyLinkDataFunction",O.prototype.lG);w.defineProperty(O,{lG:"copyLinkDataFunction"},t("kt"),function(a){var b=this.kt;b!==a&&(a!==n&&w.k(a,"function",O,"copyLinkDataFunction"),this.kt=a,this.j("copyLinkDataFunction",b,a))});
O.prototype.copyLinkData=O.prototype.vC=function(a){if(a===n)return n;var b=n,b=this.kt;if(b!==n)b=b(a,this);else{var b=new a.constructor,c;for(c in a)w.Ka(b,c,w.Wa(a,c))}b&&(w.jc(b),""!==this.aj&&w.Ka(b,this.aj,f),""!==this.cj&&w.Ka(b,this.cj,f),""!==this.kh&&w.Ka(b,this.kh,[]));return b};w.g(O,"nodeIsGroupProperty",O.prototype.yo);w.defineProperty(O,{yo:"nodeIsGroupProperty"},t("fu"),function(a){var b=this.fu;b!==a&&(Le(a,O,"nodeIsGroupProperty"),this.fu=a,this.j("nodeIsGroupProperty",b,a))});
O.prototype.isGroupForNodeData=O.prototype.oz=function(a){if(a===n)return q;var b=this.fu;return""===b?q:w.Wa(a,b)?h:q};w.g(O,"nodeGroupKeyProperty",O.prototype.xo);w.defineProperty(O,{xo:"nodeGroupKeyProperty"},t("jj"),function(a){var b=this.jj;b!==a&&(Le(a,O,"nodeGroupKeyProperty"),this.jj=a,this.j("nodeGroupKeyProperty",b,a))});
O.prototype.getGroupKeyForNodeData=O.prototype.bo=function(a){if(a!==n){var b=this.jj;if(""!==b&&(b=w.Wa(a,b),b!==f)){if(Me(b))return b;u&&w.trace("GroupKey value for node data "+a+" is not a number or a string: "+b)}}};
O.prototype.setGroupKeyForNodeData=O.prototype.Vz=function(a,b){b===n&&(b=f);b!==f&&!Me(b)&&w.ic(b,"number or string",O,"setGroupKeyForNodeData:key");if(a!==n){var c=this.jj;if(""!==c)if(this.pe(a)){var d=w.Wa(a,c);d!==b&&(bf(this,d,a),w.Ka(a,c,b),this.Me(b)===n&&Oe(this,b,a),Ke(this,"nodeGroupKey",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};O.prototype.copyNodeData=O.prototype.yj=function(a){if(a===n)return n;a=B.prototype.yj.call(this,a);""!==this.jj&&w.Ka(a,this.jj,f);return a};
O.prototype.setDataProperty=O.prototype.$v=function(a,b,c){u&&(w.k(a,"object",O,"setDataProperty:data"),w.k(b,"string",O,"setDataProperty:propname"),""===b&&w.m("GraphLinksModel.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.pe(a))if(b===this.$k)this.Wz(a,c);else{if(b===this.Zk){this.Zv(a,c);return}if(b===this.xo){this.Vz(a,c);return}b===this.yo?w.m("GraphLinksModel.setDataProperty: property name must not be the nodeIsGroupProperty: "+b):b===this.zo&&
w.m("GraphLinksModel.setDataProperty: property name must not be the nodeIsLinkLabelProperty: "+b)}else if(this.zi(a)){if(b===this.mo){this.bw(a,c);return}if(b===this.qo){this.cw(a,c);return}if(b===this.no){this.Es(a,c);return}if(b===this.ro){this.Fs(a,c);return}if(b===this.lo){this.vE(a,c);return}if(b===this.oo){this.wE(a,c);return}}var d=w.Wa(a,b);d!==c&&(w.Ka(a,b,c),this.Kz(a,b,d,c))};da=O.prototype;
da.ys=function(a,b){B.prototype.ys.call(this,a,b);for(var c=this.kc.l;c.next();)this.Pz(c.value,a,b);for(c=this.$m.l;c.next();){var d=c.value,e=a,g=b;if(this.cm(d)===e){var i=this.aj;w.Ka(d,i,g);Ke(this,"linkFromKey",he,i,d,e,g);"string"===typeof i&&this.vb(d,i)}this.dm(d)===e&&(i=this.cj,w.Ka(d,i,g),Ke(this,"linkToKey",he,i,d,e,g),"string"===typeof i&&this.vb(d,i));for(var j=this.Vk(d),k=w.Sb(j),i=this.kh,l=0;l<k;l++)w.Eb(j,l)===e&&(w.fC(j,l,g),Ke(this,"linkLabelKeys",ie,i,d,e,g))}};
da.Pz=function(a,b,c){if(this.bo(a)===b){var d=this.jj;w.Ka(a,d,c);Ke(this,"nodeGroupKey",he,d,a,b,c);"string"===typeof d&&this.vb(a,d)}};da.fA=function(){B.prototype.fA.call(this);for(var a=this.Rg,b=w.Sb(a),c=0;c<b;c++)cf(this,w.Eb(a,c))};
da.Eo=function(a){B.prototype.Eo.call(this,a);var a=this.mb(a),b=Ne(this,a);if(b!==n){for(var c=new z(Object),b=b.l;b.next();){var d=b.value;if(this.pe(d)){if(this.bo(d)===a){var e=this.jj;Ke(this,"nodeGroupKey",he,e,d,a,a);"string"===typeof e&&this.vb(d,e);c.add(d)}}else{this.cm(d)===a&&(e=this.aj,Ke(this,"linkFromKey",he,e,d,a,a),"string"===typeof e&&this.vb(d,e),c.add(d));this.dm(d)===a&&(e=this.cj,Ke(this,"linkToKey",he,e,d,a,a),"string"===typeof e&&this.vb(d,e),c.add(d));for(var g=this.Vk(d),
i=w.Sb(g),e=this.kh,j=0;j<i;j++)w.Eb(g,j)===a&&(Ke(this,"linkLabelKeys",ie,e,d,a,a),c.add(d))}}for(c=c.l;c.next();)bf(this,a,c.value)}};da.Do=function(a){B.prototype.Do.call(this,a);var b=this.bo(a);this.Me(b)===n&&Oe(this,b,a)};da.Ps=function(a){B.prototype.Ps.call(this,a);var b=this.bo(a);bf(this,b,a)};w.g(O,"linkCategoryProperty",O.prototype.lo);
w.defineProperty(O,{lo:"linkCategoryProperty"},t("cq"),function(a){var b=this.cq;b!==a&&(Le(a,O,"linkCategoryProperty"),this.cq=a,this.j("linkCategoryProperty",b,a))});O.prototype.getCategoryForLinkData=O.prototype.WC=function(a){if(a===n)return"";var b=this.cq;if(""===b)return"";b=w.Wa(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&w.trace("getCategoryForLinkData found a non-string category for "+a+": "+b);return b};
O.prototype.setCategoryForLinkData=O.prototype.vE=function(a,b){w.k(b,"string",O,"setCategoryForLinkData:cat");if(a!==n){var c=this.cq;if(""===c)return"";if(this.zi(a)){var d=w.Wa(a,c);d===f&&(d="");d!==b&&(w.Ka(a,c,b),Ke(this,"linkCategory",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};
function De(a){1<arguments.length&&w.m("TreeModel constructor can only take one optional argument, the Array of node data.");B.call(this);this.kj="parent";this.Dq="parentLinkCategory";a!==f&&(this.gg=a)}w.Q("TreeModel",De);w.Ea(De,B);De.prototype.toString=function(a){a===f&&(a=0);if(2<=a)return this.bA();var b=(""!==this.name?this.name:"")+" TreeModel";if(0<a){var b=b+"\n node data:",a=this.gg,c=w.Sb(a),d;for(d=0;d<c;d++)var e=w.Eb(a,d),b=b+(" "+this.mb(e)+":"+ke(e))}return b};
De.prototype.writeJsonProtected=De.prototype.lw=function(){var a=B.prototype.lw.call(this),b="";"parent"!==this.Ao&&"string"===typeof this.Ao&&(b+=',\n  "nodeParentKeyProperty": '+this.quote(this.Ao));return a+b};De.prototype.readJsonProtected=De.prototype.Tv=function(a){B.prototype.Tv.call(this,a);a.nodeParentKeyProperty&&(this.Ao=a.nodeParentKeyProperty)};De.prototype.im=function(a){return a};w.g(De,"nodeParentKeyProperty",De.prototype.Ao);
w.defineProperty(De,{Ao:"nodeParentKeyProperty"},t("kj"),function(a){var b=this.kj;b!==a&&(Le(a,De,"nodeParentKeyProperty"),this.kj=a,this.j("nodeParentKeyProperty",b,a))});De.prototype.getParentKeyForNodeData=De.prototype.co=function(a){if(a!==n){var b=this.kj;if(""!==b&&(b=w.Wa(a,b),b!==f)){if(Me(b))return b;u&&w.trace("ParentKey value for node data "+a+" is not a number or a string: "+b)}}};
De.prototype.setParentKeyForNodeData=De.prototype.Df=function(a,b){b===n&&(b=f);b!==f&&!Me(b)&&w.ic(b,"number or string",De,"setParentKeyForNodeData:key");if(a!==n){var c=this.kj;if(""!==c)if(b=this.im(b),this.pe(a)){var d=w.Wa(a,c);d!==b&&(bf(this,d,a),w.Ka(a,c,b),this.Me(b)===n&&Oe(this,b,a),Ke(this,"nodeParentKey",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};w.g(De,"parentLinkCategoryProperty",De.prototype.DH);
w.defineProperty(De,{DH:"parentLinkCategoryProperty"},t("Dq"),function(a){var b=this.Dq;b!==a&&(Le(a,De,"parentLinkCategoryProperty"),this.Dq=a,this.j("parentLinkCategoryProperty",b,a))});De.prototype.getParentLinkCategoryForNodeData=De.prototype.IG=function(a){if(a===n)return"";var b=this.Dq;if(""===b)return"";b=w.Wa(a,b);if(b===f)return"";if("string"===typeof b)return b;u&&w.trace("getParentLinkCategoryForNodeData found a non-string category for "+a+": "+b);return b};
De.prototype.setParentLinkCategoryForNodeData=De.prototype.XH=function(a,b){w.k(b,"string",De,"setParentLinkCategoryForNodeData:cat");if(a!==n){var c=this.Dq;if(""===c)return"";if(this.pe(a)){var d=w.Wa(a,c);d===f&&(d="");d!==b&&(w.Ka(a,c,b),Ke(this,"parentLinkCategory",he,c,a,d,b),"string"===typeof c&&this.vb(a,c))}else w.Ka(a,c,b)}};De.prototype.copyNodeData=De.prototype.yj=function(a){if(a===n)return n;a=B.prototype.yj.call(this,a);""!==this.kj&&w.Ka(a,this.kj,f);return a};
De.prototype.setDataProperty=De.prototype.$v=function(a,b,c){u&&(w.k(a,"object",B,"setDataProperty:data"),w.k(b,"string",B,"setDataProperty:propname"),""===b&&w.m("Model.setDataProperty: property name must not be an empty string when setting "+a+" to "+c));if(this.pe(a))if(b===this.$k)this.Wz(a,c);else{if(b===this.Zk){this.Zv(a,c);return}if(b===this.Ao){this.Df(a,c);return}}var d=w.Wa(a,b);d!==c&&(w.Ka(a,b,c),this.Kz(a,b,d,c))};da=De.prototype;
da.ys=function(a,b){B.prototype.ys.call(this,a,b);for(var c=this.kc.l;c.next();)this.Pz(c.value,a,b)};da.Pz=function(a,b,c){if(this.co(a)===b){var d=this.kj;w.Ka(a,d,c);Ke(this,"nodeParentKey",he,d,a,b,c);"string"===typeof d&&this.vb(a,d)}};
da.Eo=function(a){B.prototype.Eo.call(this,a);var a=this.mb(a),b=Ne(this,a);if(b!==n){for(var c=new z(Object),b=b.l;b.next();){var d=b.value;if(this.pe(d)&&this.co(d)===a){var e=this.kj;Ke(this,"nodeParentKey",he,e,d,a,a);"string"===typeof e&&this.vb(d,e);c.add(d)}}for(c=c.l;c.next();)bf(this,a,c.value)}};da.Do=function(a){B.prototype.Do.call(this,a);var b=this.co(a),b=this.im(b);this.Me(b)===n&&Oe(this,b,a)};da.Ps=function(a){B.prototype.Ps.call(this,a);var b=this.co(a);bf(this,b,a)};
function df(a,b,c){w.jc(this);a===f?a="":w.k(a,"string",df,"constructor:targetprop");b===f?b=a:w.k(b,"string",df,"constructor:sourceprop");c===f?c=n:c!==n&&w.k(c,"function",df,"constructor:conv");this.IB="";this.Tf=n;this.Mu=a;this.Ku=this.ky=0;this.zB=n;this.Eu=b;this.Tw=c;this.Gx=ef;this.Pw=n}w.Q("Binding",df);var ef;df.OneWay=ef=w.s(df,"OneWay",1);var ff;df.TwoWay=ff=w.s(df,"TwoWay",2);
df.parseEnum=function(a,b){w.k(a,"function",df,"parseEnum:ctor");w.kb(b,a,df,"parseEnum:defval");return function(c){return w.am(a,c)||b}};var ke;df.toString=ke=function(a){var b=a;w.nb(a)&&(a.text?b=a.text:a.Text?b=a.Text:a.name?b=a.name:a.Name?b=a.Name:a.key!==f?b=a.key:a.Key!==f?b=a.Key:a.id!==f?b=a.id:a.Id!==f?b=a.Id:a.ID!==f&&(b=a.ID));return b===f?"undefined":b===n?"null":b.toString()};df.prototype.toString=function(){return"Binding("+this.om+" "+this.$z+":"+this.Yz+")"};
df.prototype.freeze=function(){this.ab=h;return this};df.prototype.Ia=function(){this.ab=q;return this};w.g(df,"targetId",df.prototype.om);w.defineProperty(df,{om:n},t("IB"),function(a){w.H(this);w.k(a,"string",df,"targetId");this.IB=a});w.g(df,"targetProperty",df.prototype.$z);w.defineProperty(df,{$z:"targetProperty"},t("Mu"),function(a){w.H(this);w.k(a,"string",df,"targetProperty");this.Mu=a});w.g(df,"sourceName",df.prototype.Is);
w.defineProperty(df,{Is:"sourceName"},t("zB"),function(a){w.H(this);w.k(a,"string",df,"sourceName");this.zB=a});w.g(df,"sourceProperty",df.prototype.Yz);w.defineProperty(df,{Yz:"sourceProperty"},t("Eu"),function(a){w.H(this);w.k(a,"string",df,"sourceProperty");this.Eu=a});w.g(df,"converter",df.prototype.sC);w.defineProperty(df,{sC:"converter"},t("Tw"),function(a){w.H(this);a!==n&&w.k(a,"function",df,"converter");this.Tw=a});w.g(df,"backConverter",df.prototype.jC);
w.defineProperty(df,{jC:"backConverter"},t("Pw"),function(a){w.H(this);a!==n&&w.k(a,"function",df,"backConverter");this.Pw=a});w.g(df,"mode",df.prototype.mode);w.defineProperty(df,{mode:"mode"},t("Gx"),function(a){w.H(this);w.kb(a,df,df,"mode");this.Gx=a});df.prototype.makeTwoWay=df.prototype.uL=function(a){a===f&&(a=n);this.mode=ff;this.jC=a;return this};df.prototype.ofObject=df.prototype.Iz=function(a){a===f&&(a="");u&&w.k(a,"string",df,"ofObject:srcname");this.Is=a;return this};
df.prototype.updateTarget=df.prototype.UE=function(a,b,c){var d=this.Eu;if(!(c&&d!==c)){var c=this.Mu,e=this.Tw;if(!(e===n&&""===c)){u&&("string"===typeof c&&"function"!==typeof a.setAttribute&&!w.lz(a,c))&&w.trace("Binding error: undefined target property: "+c+" on "+a.toString());var g=b;""!==d&&(g=w.Wa(b,d));if(g!==f)if(e===n)""!==c&&w.Ka(a,c,g);else try{if(""!==c){var i=e(g,a);w.Ka(a,c,i)}else e(g,a)}catch(j){u&&w.trace("Binding error: "+j.toString())}}}};
df.prototype.updateSource=df.prototype.TE=function(a,b,c,d){if(this.Gx===ff){var e=this.Mu;if(!(c&&e!==c)){var c=this.Eu,g=this.Pw;if(!(g===n&&""===c)){var i=a;""!==e&&(i=w.Wa(a,e));if(i!==f)if(g===n)d&&d.V?d.V.$v(b,c,i):w.Ka(b,c,i);else try{if(""!==c){var j=g(i,b);d&&d.V?d.V.$v(b,c,j):w.Ka(b,c,j)}else g(i,b)}catch(k){u&&w.trace("Binding error: "+k.toString())}}}}};function gf(){this.dF=(new z(fe)).freeze();this.Bb="";this.$A=q}w.Q("Transaction",gf);
gf.prototype.toString=function(a){var b="Transaction: "+this.name+" "+this.xh.count.toString()+(this.eo?"":", incomplete");if(a!==f&&0<a)for(var c=this.xh.count,d=0;d<c;d++){var e=this.xh.oa(d);e!==n&&(b+="\n  "+e.toString(a-1))}return b};gf.prototype.clear=gf.prototype.clear=function(){var a=this.xh;a.Ia();for(var b=a.count-1;0<=b;b--){var c=a.oa(b);c!==n&&c.clear()}a.clear();a.freeze()};gf.prototype.canUndo=gf.prototype.Nk=t("eo");
gf.prototype.undo=gf.prototype.hl=function(){if(this.Nk())for(var a=this.xh.count-1;0<=a;a--){var b=this.xh.oa(a);b!==n&&b.hl()}};gf.prototype.canRedo=gf.prototype.Lk=t("eo");gf.prototype.redo=gf.prototype.Bo=function(){if(this.Lk())for(var a=this.xh.count,b=0;b<a;b++){var c=this.xh.oa(b);c!==n&&c.Bo()}};w.u(gf,{xh:"changes"},t("dF"));w.g(gf,"name",gf.prototype.name);w.defineProperty(gf,{name:"name"},t("Bb"),ba("Bb"));w.g(gf,"isComplete",gf.prototype.eo);
w.defineProperty(gf,{eo:"isComplete"},t("$A"),ba("$A"));function le(){this.Hx=new ma(B);this.ai=q;this.gF=(new z(gf)).freeze();this.ok=-1;this.gB=999;this.bi=q;this.pt=n;this.Ek=0;this.Qw=q;u&&(this.Qw=h);this.Gg=(new z("string")).freeze();this.en=new z("number");this.kx=h}w.Q("UndoManager",le);
le.prototype.toString=function(a){for(var b="UndoManager "+this.Gj+"<"+this.history.count+"<="+this.zz,b=b+"[",c=this.PD.count,d=0;d<c;d++)0<d&&(b+=" "),b+=this.PD.oa(d);b+="]";if(a!==f&&0<a){c=this.history.count;for(d=0;d<c;d++)b+="\n "+this.history.oa(d).toString(a-1)}return b};
le.prototype.clear=le.prototype.clear=function(){var a=this.history;a.Ia();for(var b=a.count-1;0<=b;b--){var c=a.oa(b);c!==n&&c.clear()}a.clear();this.ok=-1;a.freeze();this.bi=q;this.pt=n;this.Ek=0;this.Gg.Ia();this.Gg.clear();this.Gg.freeze();this.en.clear()};le.prototype.addModel=le.prototype.FF=function(a){this.Hx.add(a)};le.prototype.removeModel=le.prototype.NH=function(a){this.Hx.remove(a)};
le.prototype.startTransaction=le.prototype.hc=function(a){a===n&&(a="");if(this.tb)return q;this.kx===h&&(this.kx=q,this.Ek++,this.Td("StartingFirstTransaction",a,this.Vl),0<this.Ek&&this.Ek--);this.isEnabled&&(this.Gg.Ia(),this.Gg.add(a),this.Gg.freeze(),this.Vl===n?this.en.add(0):this.en.add(this.Vl.xh.count));this.Ek++;var b=1===this.gl;b&&this.Td("StartedTransaction",a);return b};le.prototype.commitTransaction=le.prototype.ne=function(a){return hf(this,h,a)};
le.prototype.rollbackTransaction=le.prototype.zs=function(){return hf(this,q,"")};
function hf(a,b,c){if(a.tb)return q;a.My&&1>a.gl&&w.trace("Ending transaction without having started a transaction: "+c);var d=1===a.gl;d&&(b&&a.isEnabled)&&a.Td("CommittingTransaction",c,a.Vl);var e=0;if(0<a.gl&&(a.Ek--,a.isEnabled)){var g=a.Gg.count;0<g&&(""===c&&(c=a.Gg.oa(0)),a.Gg.Ia(),a.Gg.Xe(g-1),a.Gg.freeze());g=a.en.count;0<g&&(e=a.en.oa(g-1),a.en.Xe(g-1))}g=a.Vl;if(d){if(b){if(a.isEnabled&&g!==n){b=g;b.eo=h;b.name=c;d=a.history;d.Ia();for(e=d.count-1;e>a.Gj;e--)g=d.oa(e),g!==n&&g.clear(),
d.Xe(e);e=a.zz;0===e&&(e=1);0<e&&d.count>=e&&(g=d.oa(0),g!==n&&g.clear(),d.Xe(0),a.ok--);d.add(b);a.ok++;d.freeze();g=b}a.Td("CommittedTransaction",c,g)}else{a.bi=h;try{a.isEnabled&&g!==n&&(g.eo=h,g.hl())}finally{a.Td("RolledBackTransaction",c,g),a.bi=q}g!==n&&g.clear()}a.pt=n;return h}if(a.isEnabled&&!b&&g!==n){a=e;c=g.xh;for(b=c.count-1;b>=a;b--)d=c.oa(b),d!==n&&d.hl(),c.Ia(),c.Xe(b);c.freeze()}return q}
le.prototype.canUndo=le.prototype.Nk=function(){if(!this.isEnabled||0<this.gl||this.tb)return q;var a=this.NE;return a!==n&&a.Nk()?h:q};le.prototype.undo=le.prototype.hl=function(){if(this.Nk()){var a=this.NE;try{this.Td("StartingUndo","Undo",a),this.bi=h,this.ok--,a.hl()}catch(b){w.trace("undo error: "+b.toString())}finally{this.bi=q,this.Td("FinishedUndo","Undo",a)}}};
le.prototype.canRedo=le.prototype.Lk=function(){if(!this.isEnabled||0<this.gl||this.tb)return q;var a=this.ME;return a!==n&&a.Lk()?h:q};le.prototype.redo=le.prototype.Bo=function(){if(this.Lk()){var a=this.ME;try{this.Td("StartingRedo","Redo",a),this.bi=h,this.ok++,a.Bo()}catch(b){w.trace("redo error: "+b.toString())}finally{this.bi=q,this.Td("FinishedRedo","Redo",a)}}};
le.prototype.Td=function(a,b,c){c===f&&(c=n);var d=new fe;d.ld=ge;d.propertyName=a;d.object=c;d.oldValue=b;for(a=this.pH;a.next();)b=a.value,d.V=b,b.$u(d)};le.prototype.handleChanged=le.prototype.eD=function(a){if(this.isEnabled&&!this.tb&&!this.skipsEvent(a)){var b=this.Vl;b===n&&(this.pt=b=new gf);var c=a.copy(),b=b.xh;b.Ia();b.add(c);b.freeze();this.My&&(0>=this.gl&&!this.kx)&&(a=a.h,a!==n&&a.Bg===q||w.trace("Change not within a transaction: "+c.toString()))}};
le.prototype.skipsEvent=le.prototype.gM=function(a){if(a===n||0>a.ld.value)return h;a=a.object;if(a instanceof P){if(a=a.Oa,a!==n&&a.zc)return h}else if(a instanceof jf&&a.zc)return h;return q};w.u(le,{pH:"models"},function(){return this.Hx.l});w.g(le,"isEnabled",le.prototype.isEnabled);w.defineProperty(le,{isEnabled:"isEnabled"},t("ai"),ba("ai"));w.u(le,{NE:"transactionToUndo"},function(){return 0<=this.Gj&&this.Gj<=this.history.count-1?this.history.oa(this.Gj):n});
w.u(le,{ME:"transactionToRedo"},function(){return this.Gj<this.history.count-1?this.history.oa(this.Gj+1):n});w.u(le,{tb:"isUndoingRedoing"},t("bi"));w.u(le,{history:"history"},t("gF"));w.g(le,"maxHistoryLength",le.prototype.zz);w.defineProperty(le,{zz:"maxHistoryLength"},t("gB"),ba("gB"));w.u(le,{Gj:"historyIndex"},t("ok"));w.u(le,{Vl:"currentTransaction"},t("pt"));w.u(le,{gl:"transactionLevel"},t("Ek"));w.u(le,{VG:"isInTransaction"},function(){return 0<this.Ek});
w.defineProperty(le,{My:"checksTransactionLevel"},t("Qw"),ba("Qw"));w.u(le,{PD:"nestedTransactionNames"},t("Gg"));function pa(){this.ba=n;this.KA=this.CA=q;this.xk=this.uA=n;this.SB=1.05;this.Cx=NaN;this.dB=n;this.TB=NaN;this.zF=n}w.Q("CommandHandler",pa);var kf=n,lf="";pa.prototype.toString=ca("CommandHandler");w.u(pa,{h:"diagram"},t("ba"));pa.prototype.ee=function(a){u&&a!==n&&w.i(a,A,pa,"setDiagram");this.ba=a};
pa.prototype.doKeyDown=pa.prototype.Zy=function(){var a=this.h;if(a!==n){var b=a.N,c=b.Pk,d=b.shift,e=b.alt,g=b.key;c&&("C"===g||"Insert"===g)?this.canCopySelection()&&this.copySelection():c&&"X"===g||d&&"Del"===g?this.canCutSelection()&&this.cutSelection():"Del"===g?this.canDeleteSelection()&&this.deleteSelection():c&&"V"===g||d&&"Insert"===g?this.canPasteSelection()&&this.pasteSelection():c&&"Y"===g||e&&d&&"Backspace"===g?this.canRedo()&&this.redo():c&&"Z"===g||e&&"Backspace"===g?this.canUndo()&&
this.undo():c&&"A"===g?this.canSelectAll()&&this.selectAll():"Esc"===g?this.canStopCommand()&&this.stopCommand():"Up"===g?a.uf&&(c?a.scroll("pixel","up"):a.scroll("line","up")):"Down"===g?a.uf&&(c?a.scroll("pixel","down"):a.scroll("line","down")):"Left"===g?a.tf&&(c?a.scroll("pixel","left"):a.scroll("line","left")):"Right"===g?a.tf&&(c?a.scroll("pixel","right"):a.scroll("line","right")):"PageUp"===g?d&&a.tf?a.scroll("page","left"):a.uf&&a.scroll("page","up"):"PageDown"===g?d&&a.tf?a.scroll("page",
"right"):a.uf&&a.scroll("page","down"):"Home"===g?(b=a.wc,c&&a.uf?a.position=new F(a.position.x,b.y):!c&&a.tf&&(a.position=new F(b.x,a.position.y))):"End"===g?(b=a.wc,d=a.Ua,c&&a.uf?a.position=new F(d.x,b.bottom-d.height):!c&&a.tf&&(a.position=new F(b.right-d.width,d.y))):"Subtract"===g?this.canDecreaseZoom()&&this.decreaseZoom():"Add"===g?this.canIncreaseZoom()&&this.increaseZoom():c&&"0"===g?this.canResetZoom()&&this.resetZoom():d&&"Z"===g?this.canZoomToFit()&&this.zoomToFit():c&&!d&&"G"===g?this.canGroupSelection()&&
this.groupSelection():c&&d&&"G"===g?this.canUngroupSelection()&&this.ungroupSelection():b.event&&113===b.event.which?this.canEditTextBlock()&&this.editTextBlock():b.bubbles=h}};pa.prototype.doKeyUp=pa.prototype.$y=function(){var a=this.h;a!==n&&(a.N.bubbles=h)};pa.prototype.stopCommand=pa.prototype.nM=function(){var a=this.h;if(a!==n){var b=a.Fa;b instanceof mf&&a.ke&&a.Oy();b!==n&&b.doCancel()}};pa.prototype.canStopCommand=pa.prototype.iJ=ca(h);
pa.prototype.selectAll=pa.prototype.aM=function(){var a=this.h;if(a!==n)try{a.vc="wait";a.ya("ChangingSelection");for(var b=a.bl;b.next();)b.value.Qa=h;for(b=a.al;b.next();)b.value.Qa=h;for(b=a.links;b.next();)b.value.Qa=h}finally{a.ya("ChangedSelection"),a.vc=""}};pa.prototype.canSelectAll=pa.prototype.hJ=function(){var a=this.h;return a!==n&&a.ke};
pa.prototype.deleteSelection=pa.prototype.OJ=function(){var a=this.h;if(a!==n&&!a.ya("SelectionDeleting",a.selection))try{a.vc="wait";a.hc("Delete");a.ya("ChangingSelection");for(var b=new ma(S),c=a.selection.l;c.next();)nf(b,c.value,h,this.KC,function(a){return a.canDelete()});a.Oz(b,h);a.ya("SelectionDeleted",b)}finally{a.ya("ChangedSelection"),a.ne("Delete"),a.vc=""}};
pa.prototype.canDeleteSelection=pa.prototype.RI=function(){var a=this.h;return a===n||(a.eb||a.ue)||!a.Ik||0===a.selection.count?q:h};
function nf(a,b,c,d,e){if(!a.contains(b)&&(e===f&&(e=n),(e===n||e(b))&&!(b instanceof of)))if(a.add(b),b instanceof T){if(c&&b instanceof vf)for(var g=b.Gc;g.next();){var i=g.value;nf(a,i,c,d,e)}for(i=b.ve;i.next();)if(g=i.value,!a.contains(g)){var j=g.ga,k=g.la;j!==n&&a.contains(j)&&k!==n&&a.contains(k)?nf(a,g,c,d,e):(j===n||k===n)&&nf(a,g,c,d,e)}if(d){i=h;g=b.h;g!==n&&(i=g.Xc);for(b=i?b.PC():b.OC();b.next();)i=b.value,nf(a,i,c,d,e)}}else if(b instanceof U)for(i=b.Ij;i.next();)nf(a,i.value,c,d,e)}
pa.prototype.copyParts=pa.prototype.Sn=function(a,b,c){for(var d=new ka(S,S),a=a.l;a.next();){var e=a.value;wf(this,e,b,d,c)}if(b!==n){for(var c=b.V,a=new ma(U),g=new ka(U,U),i=d.l;i.next();)if(e=i.value,e instanceof U)(e.ga===n||e.la===n)&&a.add(e);else if(c instanceof De&&e instanceof T&&e.data!==n){var j=e,e=i.key,k=e.RC();k!==n&&((k=d.qa(k))?(c.Df(j.data,c.mb(k.data)),j=b.zf(j.data),e=e.xv(),e!==n&&j!==n&&g.add(e,j)):c.Df(j.data,f))}0<a.count&&b.Oz(a,q);if(0<g.count)for(b=g.l;b.next();)d.add(b.key,
b.value)}for(b=d.l;b.next();)b.value.vb();return d};
function wf(a,b,c,d,e){if(b===n||e&&!b.canCopy())return n;if(d.contains(b))return a=d.qa(b),a instanceof S?a:n;var g=n,i=b.data;if(i!==n&&c!==n){var j=c.V;b instanceof U?j instanceof O&&(i=j.vC(i),w.nb(i)&&(j.ZB(i),g=c.zf(i))):(i=j.yj(i),w.nb(i)&&(j.Cr(i),g=c.Fj(i)))}else xf(b),g=b.copy(),c!==n&&g instanceof S&&c.add(g);if(!(g instanceof S))return n;g.Qa=q;d.add(b,g);if(b instanceof T){for(j=b.ve;j.next();){i=j.value;if(i.ga===b){var k=d.qa(i);k!==n&&(k.ga=g)}i.la===b&&(k=d.qa(i),k!==n&&(k.la=g))}if(b instanceof
vf&&g instanceof vf)for(b=b.Gc;b.next();)j=wf(a,b.value,c,d,e),!(j instanceof U)&&j!==n&&(j.cb=g)}else if(b instanceof U){j=b.ga;j!==n&&(j=d.qa(j),j!==n&&(g.ga=j));j=b.la;j!==n&&(j=d.qa(j),j!==n&&(g.la=j));for(b=b.Ij;b.next();)j=wf(a,b.value,c,d,e),j!==n&&(j.yd=g)}return g}pa.prototype.copySelection=pa.prototype.EJ=function(){var a=this.h;if(a!==n){for(var b=new ma(S),a=a.selection.l;a.next();)nf(b,a.value,h,this.uC,function(a){return a.canCopy()});this.copyToClipboard(b)}};
pa.prototype.canCopySelection=pa.prototype.MI=function(){var a=this.h;return a===n||(!a.tj||!a.Xu)||0===a.selection.count?q:h};pa.prototype.cutSelection=pa.prototype.IJ=function(){this.copySelection();this.deleteSelection()};pa.prototype.canCutSelection=pa.prototype.NI=function(){var a=this.h;return a===n||(a.eb||a.ue)||(!a.tj||!a.Ik||!a.Xu)||0===a.selection.count?q:h};
pa.prototype.copyToClipboard=pa.prototype.FJ=function(a){var b=this.h;if(b!==n){var c=n;a===n?(kf=n,lf=""):(a=b.Sn(a,n,h),c=new z(S),c.Xf(a),kf=c,lf=b.V.Wl);b.ya("ClipboardChanged",c)}};pa.prototype.pasteFromClipboard=pa.prototype.KL=function(){var a=kf;if(a===n)return w.Gf;var b=this.h;if(b===n||lf!==b.V.Wl)return w.Gf;b=b.Sn(a,b,q);a=new ma(S);for(b=b.l;b.next();){var c=b.value;c.location.P()||(c.location=b.key.location.copy());c.position.P()||(c.position=b.key.position.copy());a.add(c)}return a};
pa.prototype.pasteSelection=pa.prototype.LL=function(a){var b=this.h;if(b!==n)try{b.vc="wait";b.hc("Paste");b.ya("ChangingSelection");var c=this.pasteFromClipboard();0<c.count&&yf(b);for(var d=c.l;d.next();)d.value.Qa=h;b.ya("ChangedSelection");if(a instanceof F){var e=b.computePartsBounds(b.selection);if(e){var g=b.Rb.re,i=g.computeEffectiveCollection(b.selection);g.moveParts(i,new F(a.x-e.pa,a.y-e.ta),q)}}b.ya("ClipboardPasted",c)}finally{b.ne("Paste"),b.vc=""}};
pa.prototype.canPasteSelection=pa.prototype.$I=function(){var a=this.h;return a===n||(a.eb||a.ue)||(!a.In||!a.Xu)||kf===n||lf!==a.V.Wl?q:h};pa.prototype.undo=pa.prototype.hl=function(){var a=this.h;a!==n&&a.sa.hl()};pa.prototype.canUndo=pa.prototype.Nk=function(){var a=this.h;return a===n||a.eb||a.ue?q:a.Gy&&a.sa.Nk()};pa.prototype.redo=pa.prototype.Bo=function(){var a=this.h;a!==n&&a.sa.Bo()};pa.prototype.canRedo=pa.prototype.Lk=function(){var a=this.h;return a===n||a.eb||a.ue?q:a.Gy&&a.sa.Lk()};
pa.prototype.decreaseZoom=pa.prototype.JJ=function(a){a===f&&(a=1/this.Rs);var b=this.h;b!==n&&b.Ql===zf&&(a*=b.scale,a<b.cg||a>b.Te||(b.scale=a,b.yb()))};pa.prototype.canDecreaseZoom=pa.prototype.OI=function(a){a===f&&(a=1/this.Rs);var b=this.h;if(b===n||b.Ql!==zf)return q;a*=b.scale;return a<b.cg||a>b.Te?q:b.On};pa.prototype.increaseZoom=pa.prototype.XK=function(a){a===f&&(a=this.Rs);var b=this.h;b!==n&&b.Ql===zf&&(a*=b.scale,a<b.cg||a>b.Te||(b.scale=a,b.yb()))};
pa.prototype.canIncreaseZoom=pa.prototype.YI=function(a){a===f&&(a=this.Rs);var b=this.h;if(b===n||b.Ql!==zf)return q;a*=b.scale;return a<b.cg||a>b.Te?q:b.On};pa.prototype.resetZoom=pa.prototype.WL=function(a){a===f&&(a=1);var b=this.h;if(b!==n&&!(a<b.cg||a>b.Te))b.scale=a,b.yb()};pa.prototype.canResetZoom=pa.prototype.dJ=function(a){a===f&&(a=1);var b=this.h;return b===n||a<b.cg||a>b.Te?q:b.On};
pa.prototype.zoomToFit=pa.prototype.YE=function(){var a=this.h;if(a!==n){var b=a.scale,c=a.position;b===this.TB&&!isNaN(this.Cx)?(a.scale=this.Cx,a.position=this.dB,a.yb()):(this.Cx=b,this.dB=c.copy(),a.YE(),a.Dh(),this.TB=a.scale,this.zF=a.position.copy())}};pa.prototype.canZoomToFit=pa.prototype.lJ=function(){var a=this.h;return a===n?q:a.On};
pa.prototype.collapseTree=pa.prototype.dv=function(a){a===f&&(a=n);var b=this.h;if(b===n)return q;b.hc("Collapse Tree");var c=new z(T);if(a instanceof T&&a.be)a.dv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof T&&d.be&&(d.dv(),c.add(d))}b.ya("TreeCollapsed",c);b.ne("Collapse Tree")};
pa.prototype.canCollapseTree=pa.prototype.KI=function(a){a===f&&(a=n);var b=this.h;if(b===n||b.eb)return q;if(a instanceof T){if(!a.be)return q;if(0<a.wv().count)return h}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof T&&b.be&&0<b.wv().count)return h;return q};
pa.prototype.expandTree=pa.prototype.sv=function(a){a===f&&(a=n);var b=this.h;if(b===n)return q;b.hc("Expand Tree");var c=new z(T);if(a instanceof T&&!a.be)a.sv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof T&&!d.be&&(d.sv(),c.add(d))}b.ya("TreeExpanded",c);b.ne("Expand Tree")};
pa.prototype.canExpandTree=pa.prototype.VI=function(a){a===f&&(a=n);var b=this.h;if(b===n||b.eb)return q;if(a instanceof T){if(a.be)return q;if(0<a.wv().count)return h}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof T&&!b.be&&0<b.wv().count)return h;return q};
pa.prototype.groupSelection=pa.prototype.QK=function(){var a=this.h;if(a!==n){var b=a.V;if(b!==n&&b instanceof O){var c=this.Hy;if(c!==n)try{a.vc="wait";a.hc("Group");a.ya("ChangingSelection");for(var d=new z(S),e=a.selection.l;e.next();){var g=e.value;g.ae()&&g.canGroup()&&d.add(g)}for(var i=new z(S),j=d.l;j.next();){for(var k=j.value,g=q,e=d.l;e.next();)if(k.hs(e.value)){g=h;break}g||i.add(k)}if(0<i.count){e=i.l;e.next();var l=e.value.cb;if(l!==n)for(;l!==n;){e=i.l;e.next();for(d=q;e.next();)if(k=
e.value,!k.hs(l)){d=h;break}if(d)l=l.cb;else break}var m=n;if(c instanceof vf)xf(c),m=c.copy(),m instanceof vf&&a.add(m);else if(b.oz(c)){var p=b.yj(c);w.nb(p)&&(b.Cr(p),m=a.Tr(p))}if(m instanceof vf){l!==n&&this.isValidMember(l,m)&&(m.cb=l);for(e=i.l;e.next();)k=e.value,this.isValidMember(m,k)&&(k.cb=m);a.select(m)}}a.ya("ChangedSelection");a.ya("SelectionGrouped",m)}finally{a.ne("Group"),a.vc=""}}}};
pa.prototype.canGroupSelection=pa.prototype.XI=function(){var a=this.h;if(a===n||a.eb||a.ue||!a.In||!a.Hn)return q;var b=a.V;if(b===n||!(b instanceof O)||this.Hy===n)return q;for(a=a.selection.l;a.next();)if(b=a.value,b.ae()&&b.canGroup())return h;return q};pa.prototype.findUnnestedNodes=pa.prototype.DK=function(a){for(var b=[],a=a.l;a.next();){var c=a.value;c instanceof U||b.push(c)}for(var a=new ma(S),c=b.length,d=0;d<c;d++){for(var e=b[d],g=h,i=0;i<c;i++)if(e.hs(b[i])){g=q;break}g&&a.add(e)}return a};
pa.prototype.isValidMember=pa.prototype.nL=function(a,b){if(b===n||a===b||b instanceof U)return q;if(a!==n){if(a===b||a.hs(b))return q;var c=a.ns;if(c!==n&&!c(a,b)||a.data===n&&b.data!==n||a.data!==n&&b.data===n)return q}c=this.ns;return c!==n?c(a,b):h};
pa.prototype.ungroupSelection=pa.prototype.sM=function(a){a===f&&(a=n);var b=this.h;if(b!==n){var c=b.V;if(c!==n&&c instanceof O)try{b.vc="wait";b.hc("Ungroup");b.ya("ChangingSelection");var d=new z(vf);if(a instanceof vf)d.add(a);else for(var e=b.selection.l;e.next();){var g=e.value;g instanceof vf&&g.canUngroup()&&d.add(g)}if(0<d.count){b.Oy();for(e=d.l;e.next();){var i=e.value,j=i.data,k=i.cb,l=k!==n&&k.data!==n?c.mb(k.data):f,m=new z(S);m.Xf(i.Gc);for(var p=m.l;p.next();){var r=p.value;if(!(r instanceof
U)){var s=r.data;s!==n?c.Vz(s,l):r.cb=k;r.Qa=h}}j!==n?c.dE(j):b.remove(i)}}b.ya("ChangedSelection");b.ya("SelectionUngrouped",d)}finally{b.ne("Ungroup"),b.vc=""}}};pa.prototype.canUngroupSelection=pa.prototype.kJ=function(a){a===f&&(a=n);var b=this.h;if(b===n||b.eb||b.ue||!b.Ik||!b.Nn)return q;var c=b.V;if(c===n||!(c instanceof O))return q;if(a instanceof vf){if(a.canUngroup())return h}else for(a=b.selection.l;a.next();)if(b=a.value,b instanceof vf&&b.canUngroup())return h;return q};
pa.prototype.addTopLevelParts=pa.prototype.DI=function(a,b){for(var c=h,d=this.findUnnestedNodes(a).l;d.next();){var e=d.value;e.cb!==n&&(!b||this.isValidMember(n,e)?e.cb=n:c=q)}return c};pa.prototype.collapseSubGraph=pa.prototype.cv=function(a){a===f&&(a=n);var b=this.h;if(b===n)return q;b.hc("Collapse SubGraph");var c=new z(vf);if(a instanceof vf&&a.Re)a.cv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof vf&&d.Re&&(d.cv(),c.add(d))}b.ya("SubGraphCollapsed",c);b.ne("Collapse SubGraph")};
pa.prototype.canCollapseSubGraph=pa.prototype.JI=function(a){a===f&&(a=n);var b=this.h;if(b===n||b.eb)return q;if(a instanceof vf)return!a.Re?q:h;for(a=b.selection.l;a.next();)if(b=a.value,b instanceof vf&&b.Re)return h;return q};
pa.prototype.expandSubGraph=pa.prototype.rv=function(a){a===f&&(a=n);var b=this.h;if(b===n)return q;b.hc("Expand SubGraph");var c=new z(vf);if(a instanceof vf&&!a.Re)a.rv(),c.add(a);else for(a=b.selection.l;a.next();){var d=a.value;d instanceof vf&&!d.Re&&(d.rv(),c.add(d))}b.ya("SubGraphExpanded",c);b.ne("Expand SubGraph")};
pa.prototype.canExpandSubGraph=pa.prototype.UI=function(a){a===f&&(a=n);var b=this.h;if(b===n||b.eb)return q;if(a instanceof vf)return a.Re?q:h;for(a=b.selection.l;a.next();)if(b=a.value,b instanceof vf&&!b.Re)return h;return q};
pa.prototype.editTextBlock=pa.prototype.lK=function(a){a===f&&(a=n);var b=this.h;if(b!==n&&b.Rb!==n){var c=b.Rb.gw;if(c!==n){if(a===n){for(var a=b.selection.l,d=n;a.next();){var e=a.value;if(e.canEdit()){d=e;break}}if(d===n)return;a=d;d=function(a){return a instanceof na&&a.pv};a=d(a)?a:Af(a,d)}a!==n&&a instanceof na&&(c.rg=a,b.Fa=c)}}};
pa.prototype.canEditTextBlock=pa.prototype.TI=function(a){a===f&&(a=n);var b=this.h;if(b===n||(b.eb||b.ue)||!b.Mn||b.Rb===n||b.Rb.gw===n)return q;if(a instanceof na){if(a=a.ca,a!==n&&a.canEdit())return h}else for(b=b.selection.l;b.next();)if(a=b.value,a.canEdit()){var c=function(a){return a instanceof na&&a.pv},a=c(a)?a:Af(a,c);if(a!==n)return h}return q};w.g(pa,"copiesTree",pa.prototype.uC);w.defineProperty(pa,{uC:"copiesTree"},t("CA"),ba("CA"));w.g(pa,"deletesTree",pa.prototype.KC);
w.defineProperty(pa,{KC:"deletesTree"},t("KA"),ba("KA"));w.g(pa,"archetypeGroupData",pa.prototype.Hy);w.defineProperty(pa,{Hy:"archetypeGroupData"},t("uA"),function(a){a!==n&&w.i(a,Object,pa,"archetypeGroupData");var b=this.h;b!==n&&(b=b.V,b instanceof O&&!(a instanceof vf)&&!b.oz(a)&&w.m("CommandHandler.archetypeGroupData must be either a Group or a data object for which GraphLinksModel.isGroupForNodeData is true: "+a));this.uA=a});w.g(pa,"memberValidation",pa.prototype.ns);
w.defineProperty(pa,{ns:"memberValidation"},t("xk"),function(a){a!==n&&w.k(a,"function",pa,"memberValidation");this.xk=a});w.g(pa,"zoomFactor",pa.prototype.Rs);w.defineProperty(pa,{Rs:"zoomFactor"},t("SB"),function(a){w.k(a,"number",pa,"zoomFactor");1<a||w.m("zoomFactor must be larger than 1.0, not: "+a);this.SB=a});function Bf(){w.jc(this);this.ba=n;this.Bb="";this.ai=h;this.YA=q;this.QB=n;this.Tu=-1}w.Q("Tool",Bf);Bf.prototype.ee=function(a){u&&a!==n&&w.i(a,A,Bf,"setDiagram");this.ba=a};
Bf.prototype.toString=function(){return""!==this.name?this.name+" Tool":w.Tk(Object.getPrototypeOf(this))};Bf.prototype.updateAdornments=Bf.prototype.Pi=aa();Bf.prototype.canStart=Bf.prototype.vf=t("isEnabled");Bf.prototype.doStart=Bf.prototype.az=aa();Bf.prototype.doActivate=Bf.prototype.Bh=function(){this.Y=h};Bf.prototype.doDeactivate=Bf.prototype.Ci=function(){this.Y=q};Bf.prototype.doStop=Bf.prototype.Rk=aa();Bf.prototype.doCancel=Bf.prototype.Cj=function(){this.stopTool()};
Bf.prototype.stopTool=Bf.prototype.oM=function(){var a=this.h;a!==n&&a.Fa===this&&(a.Fa=n,a.vc="")};Bf.prototype.doMouseDown=Bf.prototype.Nr=function(){!this.Y&&this.canStart()&&this.doActivate()};Bf.prototype.doMouseMove=Bf.prototype.Og=aa();Bf.prototype.doMouseUp=Bf.prototype.qe=function(){this.stopTool()};Bf.prototype.doMouseWheel=Bf.prototype.uG=aa();Bf.prototype.doKeyDown=Bf.prototype.Zy=function(){var a=this.h;a!==n&&"Esc"===a.N.key&&this.doCancel()};Bf.prototype.doKeyUp=Bf.prototype.$y=aa();
Bf.prototype.startTransaction=Bf.prototype.hc=function(a){this.af=n;var b=this.h;return b===n?q:b.hc(a)};Bf.prototype.stopTransaction=Bf.prototype.Mj=function(){var a=this.h;return a===n?q:this.af===n?a.zs():a.ne(this.af)};
Bf.prototype.standardMouseSelect=Bf.prototype.bI=function(){var a=this.h;if(a!==n&&a.ke){var b=a.N,c=a.Ur(b.M,q);if(c!==n)if(b.Pk){a.ya("ChangingSelection");for(b=c;b!==n&&!b.Mk();)b=b.cb;b.Qa=!b.Qa;a.ya("ChangedSelection")}else if(b.shift){if(!c.Qa){a.ya("ChangingSelection");for(b=c;b!==n&&!b.Mk();)b=b.cb;b.Qa=h;a.ya("ChangedSelection")}}else{if(!c.Qa){for(b=c;b!==n&&!b.Mk();)b=b.cb;a.select(b)}}else b.left&&(!b.Pk&&!b.shift)&&a.Oy()}};
Bf.prototype.standardMouseClick=Bf.prototype.jM=function(a,b){a===f&&(a=n);b===f&&(b=function(a){return!a.Oa.zc});var c=this.h;if(c!==n){var d=c.N,e=c.xd(d.M,a,b);d.Ad=e;Cf(e,d,c)}};
function Cf(a,b,c){var d=0;b.left?d=1===b.Wd?1:2===b.Wd?2:1:b.right&&1===b.Wd&&(d=3);var e="";if(a!==n){switch(d){case 1:e="ObjectSingleClicked";break;case 2:e="ObjectDoubleClicked";break;case 3:e="ObjectContextClicked"}0!==d&&c.ya(e,a)}else{switch(d){case 1:e="BackgroundSingleClicked";break;case 2:e="BackgroundDoubleClicked";break;case 3:e="BackgroundContextClicked"}0!==d&&c.ya(e)}if(a!==n)for(;a!==n;){e=n;switch(d){case 1:e=a.click;break;case 2:e=a.Zl?a.Zl:a.click;break;case 3:e=a.Kr}if(e!==n&&
(e(b,a),b.$d))break;a=a.fa}else{e=n;switch(d){case 1:e=c.click;break;case 2:e=c.Zl?c.Zl:c.click;break;case 3:e=c.Kr}e!==n&&e(b)}}
Bf.prototype.standardMouseOver=Bf.prototype.kM=function(){var a=this.h;if(a!==n){var b=a.N,c=a.xd(b.M,n,n);b.Ad=c;var d=a.ub;a.ub=h;var e=q;if(c!==a.Cm){var g=a.Cm;a.Vx=g;a.Cm=c;for(this.doCurrentObjectChanged(g,c);g!==n;){var i=g.Dz;if(i!==n){if(c===g)break;if(c!==n&&c.Ji(g))break;i(b,g,c);e=h;if(b.$d)break}g=g.fa}for(g=a.Vx;c!==n;){i=c.Cz;if(i!==n){if(g===c)break;if(g!==n&&g.Ji(c))break;i(b,c,g);e=h;if(b.$d)break}c=c.fa}c=a.Cm}if(c!==n){g=c;for(i="";g!==n;){i=g.cursor;if(""!==i)break;g=g.fa}a.vc=
i;for(g=c;g!==n;){i=g.rs;if(i!==n&&(i(b,g),e=h,b.$d))break;g=g.fa}}else a.vc="",i=a.rs,i!==n&&(i(b),e=h);e&&a.Dh();a.ub=d}};Bf.prototype.doCurrentObjectChanged=Bf.prototype.tG=aa();
Bf.prototype.standardMouseWheel=Bf.prototype.lM=function(){var a=this.h;if(a!==n){var b=a.N,c=b.Bj;if(0!==c){var d=a.Rb.jm;if(a.On&&(d===Df&&!b.shift||d===Ef&&b.Pk)){d=a.Nh;a.Nh=b.Yc;var e=a.Yf;e!==n?0<c?e.increaseZoom():e.decreaseZoom():a.scale=0<c?1.05*a.scale:a.scale/1.05;a.Nh=d;b.bubbles=q}else if(d===Df&&b.shift||d===Ef&&!b.Pk)d=a.position.copy(),!b.shift&&a.uf?0<c?a.scroll("line","up",3):a.scroll("line","down",3):b.shift&&a.tf&&(0<c?a.scroll("line","left",3):a.scroll("line","right",3)),a.position.I(d)||
(b.bubbles=q)}}};Bf.prototype.standardWaitAfter=Bf.prototype.mM=function(a){w.k(a,"number",Bf,"standardWaitAfter:delay");this.cancelWaitAfter();var b=this;this.Tu=window.setTimeout(function(){b.doWaitAfter()},a)};Bf.prototype.cancelWaitAfter=Bf.prototype.mJ=function(){-1!==this.Tu&&window.clearTimeout(this.Tu);this.Tu=-1};Bf.prototype.doWaitAfter=Bf.prototype.vG=aa();
Bf.prototype.findToolHandleAt=Bf.prototype.zK=function(a,b){var c=this.h;if(c===n)return n;c=c.xd(a,n,function(a){a=a.ca;return a===n?q:a.Cc!==n});if(c===n)return n;var d=c.ca;return d===n||d.Mc!==b?n:c};Bf.prototype.isBeyondDragSize=Bf.prototype.eL=function(a,b){var c=this.h;if(c===n)return q;a===f&&(a=c.xc.Yc);b===f&&(b=c.N.Yc);c=2;w.iy&&(c+=4);return Math.abs(b.x-a.x)>c||Math.abs(b.y-a.y)>c};w.u(Bf,{h:"diagram"},t("ba"));w.g(Bf,"name",Bf.prototype.name);
w.defineProperty(Bf,{name:"name"},t("Bb"),ba("Bb"));w.g(Bf,"isEnabled",Bf.prototype.isEnabled);w.defineProperty(Bf,{isEnabled:"isEnabled"},t("ai"),ba("ai"));w.g(Bf,"isActive",Bf.prototype.Y);w.defineProperty(Bf,{Y:"isActive"},t("YA"),ba("YA"));w.g(Bf,"transactionResult",Bf.prototype.af);w.defineProperty(Bf,{af:"transactionResult"},t("QB"),ba("QB"));
function Ff(){Bf.call(this);this.name="Dragging";this.BA=h;this.ul=this.RA=q;this.xx=h;this.ox=(new bb(NaN,NaN)).freeze();this.px=Jb;this.qx=(new F(NaN,NaN)).freeze();this.OA=q;this.PA=this.AA=this.QA=this.EA=n;this.qp=this.NA=q;this.qn=new F(NaN,NaN);this.si=new F;this.Hu=q;this.Du=h;this.Gm=100;this.ql=this.tu=n}w.Q("DraggingTool",Ff);w.Ea(Ff,Bf);w.g(Ff,"copiesEffectiveCollection",Ff.prototype.tC);w.defineProperty(Ff,{tC:"copiesEffectiveCollection"},t("BA"),ba("BA"));w.g(Ff,"dragsTree",Ff.prototype.MC);
w.defineProperty(Ff,{MC:"dragsTree"},t("RA"),ba("RA"));w.g(Ff,"isGridSnapEnabled",Ff.prototype.ho);w.defineProperty(Ff,{ho:"isGridSnapEnabled"},t("ul"),function(a){this.ul!==a&&(w.k(a,"boolean",Ff,"isGridSnapEnabled"),this.ul=a)});w.g(Ff,"isGridSnapRealtime",Ff.prototype.rD);w.defineProperty(Ff,{rD:"isGridSnapRealtime"},t("xx"),function(a){this.xx!==a&&(w.k(a,"boolean",Ff,"isGridSnapRealtime"),this.xx=a)});w.g(Ff,"gridSnapCellSize",Ff.prototype.jz);
w.defineProperty(Ff,{jz:"gridSnapCellSize"},t("ox"),function(a){this.ox.I(a)||(w.i(a,bb,Ff,"gridSnapCellSize"),this.ox=a=a.O())});w.g(Ff,"gridSnapCellSpot",Ff.prototype.aD);w.defineProperty(Ff,{aD:"gridSnapCellSpot"},t("px"),function(a){this.px.I(a)||(w.i(a,H,Ff,"gridSnapCellSpot"),this.px=a=a.O())});w.g(Ff,"gridSnapOrigin",Ff.prototype.bD);w.defineProperty(Ff,{bD:"gridSnapOrigin"},t("qx"),function(a){this.qx.I(a)||(w.i(a,F,Ff,"gridSnapOrigin"),this.qx=a=a.O())});w.g(Ff,"draggableLinks",Ff.prototype.$l);
w.defineProperty(Ff,{$l:"draggableLinks"},t("OA"),ba("OA"));w.g(Ff,"currentPart",Ff.prototype.Un);w.defineProperty(Ff,{Un:"currentPart"},t("EA"),ba("EA"));w.g(Ff,"copiedParts",Ff.prototype.Nc);w.defineProperty(Ff,{Nc:"copiedParts"},t("AA"),ba("AA"));w.g(Ff,"draggedParts",Ff.prototype.dc);w.defineProperty(Ff,{dc:"draggedParts"},t("QA"),ba("QA"));w.g(Ff,"draggedLink",Ff.prototype.cc);w.defineProperty(Ff,{cc:"draggedLink"},t("PA"),ba("PA"));w.g(Ff,"dragOutStarted",Ff.prototype.cz);
w.defineProperty(Ff,{cz:"dragOutStarted"},t("NA"),ba("NA"));w.g(Ff,"delay",Ff.prototype.nv);w.defineProperty(Ff,{nv:"delay"},t("Gm"),ba("Gm"));Ff.prototype.canStart=Ff.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===n||!a.Jk&&!a.tj&&!a.Yu||!a.ke)return q;var b=a.N;return!b.left||a.Fa!==this&&(!this.isBeyondDragSize()||window.TouchEvent&&(b.Yi!==n&&b.Yi instanceof window.TouchEvent)&&b.timestamp-a.xc.timestamp<this.Gm)?q:this.findDraggablePart()!==n};
Ff.prototype.findDraggablePart=Ff.prototype.rK=function(){var a=this.h;if(a===n)return n;a=a.Ur(a.xc.M,q);if(a===n)return n;for(;a!==n&&!a.Mk();)a=a.cb;return a!==n&&(a.canMove()||a.canCopy())?a:n};Ff.prototype.standardMouseSelect=Ff.prototype.bI=function(){var a=this.h;if(a!==n&&a.ke){var b=a.Ur(a.xc.M,q);if(b!==n){for(;b!==n&&!b.Mk();)b=b.cb;this.Un=b;this.Un.Qa||(a.ya("ChangingSelection"),b=a.N,!b.Pk&&!b.shift&&yf(a),this.Un.Qa=h,a.ya("ChangedSelection"))}}};
Ff.prototype.doActivate=Ff.prototype.Bh=function(){var a=this.h;if(a!==n){this.standardMouseSelect();var b=this.Un;b===n||!b.canMove()&&!b.canCopy()||(this.Y=h,this.qn.set(a.position),Gf(this,a.selection),this.ql=this.tu=n,this.dc=this.computeEffectiveCollection(a.selection),Hf(this,this.dc),this.hc("Drag"),this.si.set(a.xc.M),a.Yu?(this.cz=h,this.qp=q,If=this,this.h.Fc=h):a.Fc=h)}};
function Gf(a,b){if(a.$l){var c=a.h;c!==n&&c.uj&&(1===b.count?(c=b.l,c.next(),a.cc=c.value,a.cc!==n&&(a.cc.canRelinkFrom()&&a.cc.canRelinkTo())&&a.cc.yh()):a.cc=n)}}
Ff.prototype.computeEffectiveCollection=Ff.prototype.rJ=function(a){var b=this.h!==n&&this.h.Fa===this,c=new ka(S,Object);if(a===n)return c;for(var d=a.l;d.next();){var e=d.value;Jf(this,c,e,b)}if(this.cc!==n&&this.$l)return c;for(d=a.l;d.next();)e=d.value,e instanceof U&&(a=e,b=a.ga,b!==n&&!c.contains(b)?c.remove(a):(b=a.la,b!==n&&!c.contains(b)&&c.remove(a)));return c};function Kf(a){return a===f?{point:new F}:{point:a}}
function Jf(a,b,c,d){if(!b.contains(c)&&(!d||c.canMove()||c.canCopy()))if(c instanceof T){b.add(c,Kf(c.location));if(c instanceof vf)for(var e=c.Gc;e.next();){var g=e.value;Jf(a,b,g,d)}for(g=c.ve;g.next();)if(e=g.value,!b.contains(e)){var i=e.ga,j=e.la;i!==n&&(b.contains(i)&&j!==n&&b.contains(j))&&Jf(a,b,e,d)}if(a.MC){g=h;e=c.h;e!==n&&(g=e.Xc);for(c=g?c.PC():c.OC();c.next();)g=c.value,Jf(a,b,g,d)}}else if(c instanceof U){e=c;b.add(e,Kf());for(g=e.Ij;g.next();)Jf(a,b,g.value,d)}else c instanceof of||
b.add(c,Kf(c.location))}Ff.prototype.doDeactivate=Ff.prototype.Ci=function(){this.Y=q;var a=this.h;a!==n&&Lf(a);Mf(this);Nf(this,this.dc);this.dc=n;this.qp=this.cz=q;if(0<Of.count){for(var b=Of.length,c=0;c<b;c++){var d=Of.n[c];d.cc!==n&&(d.cc=n);Pf(d);Mf(d);d.h!==n&&Lf(d.h)}Of.clear()}this.cc!==n&&(this.cc=n);this.qn.Go(NaN,NaN);If=Qf=n;Pf(this);a.Fc=q;this.Mj()};
function Mf(a){var b=a.h;if(b!==n){var c=b.ub;b.ub=h;for(var d=b.N,e=a.ql;e!==n;){var g=e.Bz;if(g!==n&&(g(d,e,n),d.$d))break;e=e.fa}b.ub=c}a.tu=n;a.ql=n}Ff.prototype.doCancel=Ff.prototype.Cj=function(){Pf(this);Zf(this);var a=this.h;a!==n&&this.qn.P()&&(a.position=this.qn);this.stopTool()};function Hf(a,b){if(b!==n){a.Hu=h;for(var c=b.l;c.next();){var d=c.key;d instanceof U&&(d.un=h)}}}
function Nf(a,b){if(b!==n&&a.Hu){for(var c=b.l;c.next();){var d=c.key;d instanceof U&&(d.un=q,d.Fh===$f?d.Tb():d.R())}a.Hu=q}}Ff.prototype.doKeyDown=Ff.prototype.Zy=function(){var a=this.h;a!==n&&(a=a.N,a!==n&&this.Y&&("Esc"===a.key?this.doCancel():this.doMouseMove()))};Ff.prototype.doKeyUp=Ff.prototype.$y=function(){var a=this.h;a!==n&&(a.N!==n&&this.Y)&&this.doMouseMove()};
function ag(a){for(var b=Infinity,c=Infinity,d=-Infinity,e=-Infinity,a=a.l;a.next();){var g=a.value;if(g.ae()){var i=g.location,g=i.x,i=i.y;!isNaN(g)&&!isNaN(i)&&(g<b&&(b=g),i<c&&(c=i),g>d&&(d=g),i>e&&(e=i))}}return Infinity===b?new G(0,0,0,0):new G(b,c,d-b,e-c)}
function bg(a,b){if(a.Nc===n){var c=a.h;if(!(c===n||c.eb||c.ue)&&a.dc!==n){c.ub=!b;c.Er=!b;Zf(a);a.si.set(c.xc.M);for(var c=a.tC?c.Sn(a.dc.Nj(),c,h):c.Sn(c.selection,c,h),d=c.l;d.next();)d.value.location=d.key.location.copy();d=ag(c);new F(d.x+d.width/2,d.y+d.height/2);for(var d=new ka(S,Object),e=a.dc.l;e.next();){var g=e.key;g.ae()&&g.canCopy()&&(g=c.qa(g),g!==n&&(g.Di(),d.add(g,Kf(g.location))))}for(c=c.l;c.next();)e=c.value,e instanceof U&&e.canCopy()&&d.add(e,Kf());a.Nc=d;Gf(a,d.Nj());a.cc!==
n&&(c=a.cc,d=c.Xh(),c.Yk(a.si.x-(d.x+d.width/2),a.si.y-(d.y+d.height/2)))}}}function Pf(a){var b=a.h;b!==n&&(a.Nc!==n&&(b.Oz(a.Nc.Nj(),q),a.Nc=n),b.ub=q,b.Er=q,a.si.set(b.xc.M))}function cg(a,b){var c=a.h;if(c!==n){var d=a.si;a.moveParts(b,c.N.M.copy().Js(d),h)}}
Ff.prototype.moveParts=Ff.prototype.qH=function(a,b,c){if(!(a===n||0===a.count)){var d=b.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);var e=this.Hu;e||Hf(this,a);for(var g=new z,i=new z(Ma),j=a.l;j.next();){var k=j.key;if(k.ae()){var l=dg(this,k,a);if(l!==n)g.add({Ug:k,info:j.value,KG:l});else if(!c||k.canMove()){var l=j.value.point,m=this.computeMove(k,l.copy().add(d),a);k.location=m;j.value.nF=m.copy().Js(l)}}else j.key instanceof U&&i.add(j.Gd)}for(c=g.l;c.next();)g=c.value,l=g.info.point,m=
l.copy().add(g.KG.nF),g.Ug.location=m;for(i=i.l;i.next();)if(j=i.value,l=j.key,l instanceof U)if(l.un)if(c=l.ga,g=l.la,this.cc!==n&&this.$l)j=j.value.point,a.add(l,Kf(d)),m=b.x-j.x,c=b.y-j.y,l.Yk(m,c);else{m=new F(0,0);if(c!==n){m.set(c.location);var p=a.qa(c);p!==n&&m.Js(p.point)}k=new F(0,0);g!==n&&(k.set(g.location),p=a.qa(g),p!==n&&k.Js(p.point));c!==n&&g!==n?m.Ei(k)?(j=j.value.point,c=m.copy(),c.Js(j),a.add(l,Kf(m)),l.Yk(c.x,c.y)):(l.un=q,l.Tb()):(j=j.value.point,a.add(l,Kf(c!==n?m:g!==n?k:b)),
m=d.x-j.x,c=d.y-j.y,l.Yk(m,c))}else if(l.ga===n||l.la===n)j=j.value.point,a.add(l,Kf(b)),m=d.x-j.x,c=d.y-j.y,l.Yk(m,c);e||Nf(this,a)}};function dg(a,b,c){b=b.cb;if(b!==n){a=dg(a,b,c);if(a!==n)return a;a=c.qa(b);if(a!==n)return a}return n}
function Zf(a){if(a.dc!==n){var b=a.h,c=q;b!==n&&(c=b.ub,b.ub=h);for(var d=a.dc.l;d.next();){var e=d.key;e.ae()&&(e.location=d.value.point)}for(d=a.dc.l;d.next();)if(e=d.key,e instanceof U&&e.un){var g=d.value.point;a.dc.add(e,Kf());e.Yk(-g.x,-g.y)}b!==n&&(b.ub=c,b.Hi())}}
Ff.prototype.computeMove=Ff.prototype.uJ=function(a,b,c){if(a===n)return b;c===f&&(c=n);var d=b,d=b;if(this.ho&&(this.rD||c===n||this.h.N.Oi))if(d=b.copy(),a!==n&&(c=this.h,c!==n)){var e=c.Bv,g=this.jz,c=g.width,g=g.height,i=this.bD,j=i.x,i=i.y,k=this.aD;if(e!==n){var l=e.as;isNaN(c)&&(c=l.width);isNaN(g)&&(g=l.height);e=e.iz;isNaN(j)&&(j=e.x);isNaN(i)&&(i=e.y)}e=(new F).mm(0,0,c,g,k);d=fd(d.x,d.y,j+e.x,i+e.y,c,g)}d=a.bz!==n?a.bz(a,b,d):d;c=a.LD;b=c.x;isNaN(b)&&(b=a.location.x);c=c.y;isNaN(c)&&(c=
a.location.y);j=a.ED;g=j.x;isNaN(g)&&(g=a.location.x);j=j.y;isNaN(j)&&(j=a.location.y);return new F(Math.max(b,Math.min(d.x,g)),Math.max(c,Math.min(d.y,j)))};function eg(a,b){if(b===n)return h;var c=b.ca;return c===n||c.Qa||c instanceof of||c.Oa.zc||a.dc&&a.dc.contains(c)||a.Nc&&a.Nc.contains(c)?h:q}
function fg(a,b,c,d){var e=a.h;if(e!==n){if(a.$l&&a.cc!==n){var g=a.h.V;g instanceof O&&(a.cc.ga!==n&&g.Es(a.cc.data,""),a.cc.la!==n&&g.Fs(a.cc.data,""))}g=q;a.Du===q&&(g=e.ub,e.ub=h);var i=q,j=gg(e,b,n,function(b){return!eg(a,b)}),k=e.N;k.Ad=j;var l=e.ub;e.ub=h;if(j!==a.ql){var m=a.ql;a.tu=m;for(a.ql=j;m!==n;){var p=m.Bz;if(p!==n){if(j===m)break;if(j!==n&&j.Ji(m))break;p(k,m,j);i=h;if(k.$d)break}m=m.fa}for(m=a.tu;j!==n;){p=j.MD;if(p!==n){if(m===j)break;if(m!==n&&m.Ji(j))break;p(k,j,m);i=h;if(k.$d)break}j=
j.fa}j=a.ql}j===n&&(p=e.ND,p!==n&&(p(k),i=h));a.doDragOver(b,j);e.ub=l;i&&e.Dh();a.Du===q&&(e.ub=g);if((e.tf||e.uf)&&(c||d))e.Ow=e.Os(b),hg(e,e.Ow).Ei(e.position)?Lf(e):ig(e)}}Ff.prototype.doDragOver=Ff.prototype.RJ=aa();
function jg(a,b){var c=a.h;if(c!==n&&c.V!==n){Mf(a);var d=gg(c,b,n,function(b){return!eg(a,b)}),e=c.N;e.Ad=d;if(d!==n)for(var g=d;g!==n;){var i=g.os;if(i!==n&&(i(e,g),e.$d))break;g=g.fa}else i=c.os,i!==n&&i(e);a.doDropOnto(b,d);for(d=c.selection.l;d.next();)e=d.value,e instanceof T&&tg(c,e.va)}}Ff.prototype.doDropOnto=Ff.prototype.SJ=aa();
Ff.prototype.doMouseMove=Ff.prototype.Og=function(){if(this.Y){var a=this.h;if(a!==n&&this.Un!==n&&this.dc!==n){var b=q,c=q;this.mayCopy()?(b=h,bg(this,q),cg(this,this.Nc)):this.mayMove()?(c=h,Pf(this),cg(this,this.dc)):Pf(this);fg(this,a.N.M,c,b);a.yb()}}};
Ff.prototype.doMouseUp=Ff.prototype.qe=function(){if(this.Y){this.qp=h;var a=this.h;if(a!==n){var b=q,c=this.mayCopy();c&&this.Nc!==n?(Zf(this),Pf(this),bg(this,h),cg(this,this.Nc),this.Nc!==n&&a.Tz(this.Nc.Nj())):(b=h,Pf(this),this.mayMove()&&(cg(this,this.dc),this.Du=q,fg(this,a.N.M,h,q),this.Du=h));jg(this,a.N.M);if(this.Y){this.Nc=n;if(b&&this.dc!==n)for(b=this.dc.l;b.next();){var d=b.key;d instanceof T&&(d=d.cb,d!==n&&d.placeholder!==n&&!this.dc.contains(d)&&d.Uy&&d.R())}a.Hi();Nf(this,this.dc);
this.af=c?"Copy":"Move";a.ya(c?"SelectionCopied":"SelectionMoved",a.selection)}this.stopTool()}}};Ff.prototype.mayCopy=Ff.prototype.zL=function(){var a=this.h;if(a===n||(a.eb||a.ue||!a.In||!a.tj)||!a.N.Pk)return q;for(a=a.selection.l;a.next();){var b=a.value;if(b.ae()&&b.canCopy())return h}return this.cc!==n&&this.$l&&this.cc.canCopy()?h:q};
Ff.prototype.mayMove=Ff.prototype.BL=function(){var a=this.h;if(a===n||a.eb||!a.Jk)return q;for(a=a.selection.l;a.next();){var b=a.value;if(b.ae()&&b.canMove())return h}return this.cc!==n&&this.$l&&this.cc.canMove()?h:q};var Of=new z(Ff),If=n,Qf=n;Ff.prototype.mayCopyExternal=Ff.prototype.AL=function(){var a=this.h;return a===n||(!a.bC||a.eb||a.ue||!a.In)||a.V===n?q:h};Ff.prototype.doSimulatedDragEnter=Ff.prototype.UJ=function(){this.mayCopyExternal()&&(Of.contains(this)||Of.add(this))};
Ff.prototype.doSimulatedDragLeave=Ff.prototype.VJ=function(){Pf(this);var a=this.h;a!==n&&(a.Fa!==this&&this.qn.P())&&(a.position=this.qn)};Ff.prototype.doSimulatedDragOver=Ff.prototype.WJ=function(){if(this.mayCopyExternal()){var a=this.h;if(a!==n){var b=If;b!==n&&b.dc!==n&&(ug(this,b.dc.Nj(),q),cg(this,this.Nc),a.Tz(this.Nc.Nj()),fg(this,a.N.M,q,h),a.yb())}}};
Ff.prototype.doSimulatedDrop=Ff.prototype.XJ=function(){var a=If;if(a!==n&&(a.qp=h,Pf(this),this.mayCopyExternal())){var b=this.h;b!==n&&(this.hc("Drop"),ug(this,a.dc.Nj(),h),cg(this,this.Nc),this.Nc!==n&&b.Tz(this.Nc.Nj()),this.af="ExternalCopy",jg(this,b.N.M),this.Nc=n,b.ya("ExternalObjectsDropped",b.selection),this.Mj(),b.Hi())}};
function ug(a,b,c){if(a.Nc===n){var d=a.h;if(!(d===n||d.eb||d.ue)&&d.V!==n){d.ub=!c;d.Er=!c;a.si.set(d.N.M);for(var d=d.Sn(b,d,h),c=ag(b),e=new F(c.x+c.width/2,c.y+c.height/2),g=a.si,c=new ka(S,Object),b=b.l;b.next();){var i=b.value;if(i.ae()&&i.canCopy()){var j=i.location,i=d.qa(i);i.location=new F(g.x-(e.x-j.x),g.y-(e.y-j.y));i.Di();c.add(i,Kf(i.location))}}for(d=d.l;d.next();)e=d.value,e instanceof U&&e.canCopy()&&c.add(e,Kf());a.Nc=c;Gf(a,c.Nj());a.cc!==n&&(c=a.cc,d=c.Xh(),c.Yk(a.si.x-(d.x+d.width/
2),a.si.y-(d.y+d.height/2)))}}}
function vg(){Bf.call(this);this.Tx=100;this.xy=q;var a=new U;a.Ds="PATH";var b=new V;b.Li=h;b.name="PATH";b.stroke="blue";a.add(b);b=new V;b.rm="Standard";b.fill="blue";a.add(b);a.Od="Tool";this.py=a;a=new T;b=new V;b.We="";b.gb="Rectangle";b.fill=n;b.stroke="magenta";b.$a=2;b.wa=new bb(1,1);a.add(b);a.Jj=q;a.Od="Tool";this.ny=a;this.oy=b;a=new T;b=new V;b.We="";b.gb="Rectangle";b.fill=n;b.stroke="magenta";b.$a=2;b.wa=new bb(1,1);a.add(b);a.Jj=q;a.Od="Tool";this.qy=a;this.sy=b;this.Sx=this.Rx=this.Mx=
this.Lx=this.Nx=n;this.Lp=h;this.tF=new ka(P,"boolean");this.vB=this.fB=this.ly=n}w.Q("LinkingBaseTool",vg);w.Ea(vg,Bf);vg.prototype.doStop=vg.prototype.Rk=function(){this.kg=this.jg=this.ig=this.hg=this.Qb=n;this.iw.clear();this.Ye=n};w.g(vg,"portGravity",vg.prototype.WD);w.defineProperty(vg,{WD:"portGravity"},t("Tx"),function(a){this.Tx!==a&&(u&&w.k(a,"number",vg,"portGravity"),this.Tx=a)});w.g(vg,"validUnconnectedLinks",vg.prototype.Jo);
w.defineProperty(vg,{Jo:"validUnconnectedLinks"},t("xy"),function(a){this.xy!==a&&(u&&w.k(a,"boolean",vg,"validUnconnectedLinks"),this.xy=a)});w.g(vg,"temporaryLink",vg.prototype.qg);w.defineProperty(vg,{qg:"temporaryLink"},t("py"),function(a){this.py!==a&&(u&&w.i(a,U,vg,"temporaryLink"),this.py=a)});w.g(vg,"temporaryFromNode",vg.prototype.Ze);w.defineProperty(vg,{Ze:"temporaryFromNode"},t("ny"),function(a){this.ny!==a&&(u&&w.i(a,T,vg,"temporaryFromNode"),this.ny=a)});w.g(vg,"temporaryFromPort",vg.prototype.pm);
w.defineProperty(vg,{pm:"temporaryFromPort"},t("oy"),function(a){this.oy!==a&&(u&&w.i(a,P,vg,"temporaryFromPort"),this.oy=a)});w.g(vg,"temporaryToNode",vg.prototype.$e);w.defineProperty(vg,{$e:"temporaryToNode"},t("qy"),function(a){this.qy!==a&&(u&&w.i(a,T,vg,"temporaryToNode"),this.qy=a)});w.g(vg,"temporaryToPort",vg.prototype.qm);w.defineProperty(vg,{qm:"temporaryToPort"},t("sy"),function(a){this.sy!==a&&(u&&w.i(a,P,vg,"temporaryToPort"),this.sy=a)});w.g(vg,"originalLink",vg.prototype.Qb);
w.defineProperty(vg,{Qb:"originalLink"},t("Nx"),function(a){this.Nx!==a&&(u&&a!==n&&w.i(a,U,vg,"originalLink"),this.Nx=a)});w.g(vg,"originalFromNode",vg.prototype.hg);w.defineProperty(vg,{hg:"originalFromNode"},t("Lx"),function(a){this.Lx!==a&&(u&&a!==n&&w.i(a,T,vg,"originalFromNode"),this.Lx=a)});w.g(vg,"originalFromPort",vg.prototype.ig);w.defineProperty(vg,{ig:"originalFromPort"},t("Mx"),function(a){this.Mx!==a&&(u&&a!==n&&w.i(a,P,vg,"originalFromPort"),this.Mx=a)});w.g(vg,"originalToNode",vg.prototype.jg);
w.defineProperty(vg,{jg:"originalToNode"},t("Rx"),function(a){this.Rx!==a&&(u&&a!==n&&w.i(a,T,vg,"originalToNode"),this.Rx=a)});w.g(vg,"originalToPort",vg.prototype.kg);w.defineProperty(vg,{kg:"originalToPort"},t("Sx"),function(a){this.Sx!==a&&(u&&a!==n&&w.i(a,P,vg,"originalToPort"),this.Sx=a)});w.defineProperty(vg,{te:"isForwards"},t("Lp"),ba("Lp"));w.u(vg,{iw:"validPortsCache"},t("tF"));w.g(vg,"targetPort",vg.prototype.Ye);
w.defineProperty(vg,{Ye:"targetPort"},t("ly"),function(a){this.ly!==a&&(u&&a!==n&&w.i(a,P,vg,"targetPort"),this.ly=a)});vg.prototype.copyPortProperties=vg.prototype.DJ=function(a,b,c,d,e){a===n||(b===n||c===n||d===n)||(d.wa=b.va.size,e?(d.ob=b.ob,d.fl=b.fl):(d.lb=b.lb,d.Sk=b.Sk),c.bg=Ob,c.location=b.Ab(Ob),d.angle=b.ao(),this.xs!==n&&this.xs(a,b,c,d,e))};
vg.prototype.setNoTargetPortProperties=vg.prototype.cM=function(a,b,c){b!==n&&(b.wa=new bb(1,1),b.lb=Gb,b.ob=Gb);a!==n&&(a.location=this.h.N.M);this.xs!==n&&this.xs(n,n,a,b,c)};vg.prototype.doMouseDown=vg.prototype.Nr=function(){this.Y&&this.doMouseMove()};
vg.prototype.doMouseMove=vg.prototype.Og=function(){if(this.Y){var a=this.h;if(a!==n){this.Ye=this.findTargetPort(this.te);if(this.Ye!==n){var b=this.Ye.ca;if(b instanceof T){this.te?this.copyPortProperties(b,this.Ye,this.$e,this.qm,h):this.copyPortProperties(b,this.Ye,this.Ze,this.pm,q);a.yb();return}}this.te?this.setNoTargetPortProperties(this.$e,this.qm,h):this.setNoTargetPortProperties(this.Ze,this.pm,q);a.yb()}}};
vg.prototype.findValidLinkablePort=vg.prototype.EK=function(a,b){if(a===n)return n;var c=a.ca;if(!(c instanceof T))return n;for(;a!==n;){var d=b?a.cA:a.fz;if(d===h&&(a.We!==n||a instanceof T)&&(b?this.isValidTo(c,a):this.isValidFrom(c,a)))return a;if(d===q)break;a=a.fa}return n};
vg.prototype.findTargetPort=vg.prototype.vK=function(a){var b=this.h,c=b.N.M,d=this.WD;0>=d&&(d=0.1);for(var e=this,g=b.$n(c,d,function(b){return e.findValidLinkablePort(b,a)},n),d=Infinity,b=n,g=g.l;g.next();){var i=g.value,j=i.ca;if(j instanceof T){var k=i.Ab(Ob),l=c.x-k.x,k=c.y-k.y,l=l*l+k*k;l<d&&(k=this.iw.qa(i),k!==n?k&&(b=i,d=l):a&&this.isValidLink(this.hg,this.ig,j,i)||!a&&this.isValidLink(j,i,this.jg,this.kg)?(this.iw.add(i,h),b=i,d=l):this.iw.add(i,q))}}return b!==n&&(c=b.ca,c instanceof
T&&(c.Oa===n||c.Oa.Pl))?b:n};vg.prototype.isValidFrom=vg.prototype.lL=function(a,b){if(a===n||b===n)return this.Jo;if(this.h.Fa===this&&(a.Oa!==n&&!a.Oa.Pl||b.fz!==h))return q;var c=b.UC;if(Infinity>c){if(this.Qb!==n&&a===this.hg&&b===this.ig)return h;var d=b.We;d===n&&(d="");if(a.Sr(d).count>=c)return q}return h};
vg.prototype.isValidTo=vg.prototype.pL=function(a,b){if(a===n||b===n)return this.Jo;if(this.h.Fa===this&&(a.Oa!==n&&!a.Oa.Pl||b.cA!==h))return q;var c=b.IE;if(Infinity>c){if(this.Qb!==n&&a===this.jg&&b===this.kg)return h;var d=b.We;d===n&&(d="");if(a.Af(d).count>=c)return q}return h};vg.prototype.isInSameNode=vg.prototype.gL=function(a,b){if(a===n||b===n)return q;if(a===b)return h;var c=a.ca,d=b.ca;return c!==n&&c===d};
vg.prototype.isLinked=vg.prototype.jL=function(a,b){if(a===n||b===n)return q;var c=a.ca;if(!(c instanceof T))return q;var d=a.We;d===n&&(d="");var e=b.ca;if(!(e instanceof T))return q;var g=b.We;g===n&&(g="");for(e=e.Af(g);e.next();)if(g=e.value,g.ga===c&&g.Fi===d)return h;return q};
vg.prototype.isValidLink=vg.prototype.mL=function(a,b,c,d){return!this.isValidFrom(a,b)||!this.isValidTo(c,d)||b!==n&&d!==n&&((!b.TC||!d.HE)&&this.isInSameNode(b,d)||(!b.SC||!d.GE)&&this.isLinked(b,d))||this.Qb!==n&&(a!==n&&wg(this,a,this.Qb)||c!==n&&wg(this,c,this.Qb))||a!==n&&c!==n&&(a.data===n&&c.data!==n||a.data!==n&&c.data===n)||!xg(this,a,c,this.Qb)?q:this.wz!==n?this.wz(a,b,c,d,this.Qb):h};
function wg(a,b,c){if(b===n)return q;var d=b.yd;if(d===n)return q;if(d===c)return h;var e=new ma(T);e.add(b);return yg(a,d,c,e)}function yg(a,b,c,d){if(b===c)return h;var e=b.ga;if(e!==n&&e.Ki&&(d.add(e),yg(a,e.yd,c,d)))return h;b=b.la;return b!==n&&b.Ki&&(d.add(b),yg(a,b.yd,c,d))?h:q}
function xg(a,b,c,d){if(b===n||c===n)return q;var e=a.h.VE;if(e!==zg){if(e===Ag){for(e=c.ve;e.next();){var g=e.value;if(g!==d&&g.la===c)return q}return!Bg(a,b,c,d)}if(e===Cg){for(e=b.ve;e.next();)if(g=e.value,g!==d&&g.ga===b)return q;return!Bg(a,b,c,d)}if(e===Dg)return b===c?a=h:(e=new ma(T),e.add(c),a=Eg(a,e,b,c,d)),!a;if(e===Fg)return!Bg(a,b,c,d);if(e===Gg)return b===c?a=h:(e=new ma(T),e.add(c),a=Hg(a,e,b,c,d)),!a}return h}
function Bg(a,b,c,d){if(b===c)return h;if(b===n||c===n)return q;for(var e=b.ve;e.next();){var g=e.value;if(g!==d&&g.la===b&&(g=g.ga,g!==b&&Bg(a,g,c,d)))return h}return q}function Eg(a,b,c,d,e){if(c===d)return h;if(c===n||d===n||b.contains(c))return q;b.add(c);for(var g=c.ve;g.next();){var i=g.value;if(i!==e&&i.la===c&&(i=i.ga,i!==c&&Eg(a,b,i,d,e)))return h}return q}
function Hg(a,b,c,d,e){if(c===d)return h;if(c===n||d===n||b.contains(c))return q;b.add(c);for(var g=c.ve;g.next();){var i=g.value;if(i!==e){var j=i.ga,i=i.la,j=j===c?i:j;if(j!==c&&Hg(a,b,j,d,e))return h}}return q}w.g(vg,"linkValidation",vg.prototype.wz);w.defineProperty(vg,{wz:"linkValidation"},t("fB"),function(a){a!==n&&w.k(a,"function",vg,"linkValidation");this.fB=a});w.g(vg,"portTargeted",vg.prototype.xs);
w.defineProperty(vg,{xs:"portTargeted"},t("vB"),function(a){a!==n&&w.k(a,"function",vg,"portTargeted");this.vB=a});function qa(){vg.call(this);this.name="Linking";this.Nw={};this.Mw=n;this.da=Ig;this.gy=this.ey=n}w.Q("LinkingTool",qa);w.Ea(qa,vg);var Ig;qa.Either=Ig=w.s(qa,"Either",0);var Ng;qa.ForwardsOnly=Ng=w.s(qa,"ForwardsOnly",0);var Sg;qa.BackwardsOnly=Sg=w.s(qa,"BackwardsOnly",0);w.g(qa,"archetypeLinkData",qa.prototype.dC);
w.defineProperty(qa,{dC:"archetypeLinkData"},t("Nw"),function(a){this.Nw!==a&&(a!==n&&w.i(a,Object,qa,"archetypeLinkData"),this.Nw=a)});w.g(qa,"archetypeLabelNodeData",qa.prototype.cC);
w.defineProperty(qa,{cC:"archetypeLabelNodeData"},t("Mw"),function(a){if(this.Mw!==a){a!==n&&w.i(a,Object,qa,"archetypeLabelNodeData");var b=this.h;b!==n&&(b=b.V,b instanceof O&&!(a instanceof T)&&!b.rz(a)&&w.m("CommandHandler.archetypeLabelNodeData must be either a Node or a data object for which GraphLinksModel.isLinkLabelForNodeData is true: "+a));this.Mw=a}});w.g(qa,"direction",qa.prototype.direction);
w.defineProperty(qa,{direction:"direction"},t("da"),function(a){this.da!==a&&(u&&w.kb(a,qa,qa,"direction"),this.da=a)});w.g(qa,"startObject",qa.prototype.Zz);w.defineProperty(qa,{Zz:"startObject"},t("ey"),function(a){this.ey!==a&&(u&&a!==n&&w.i(a,P,qa,"startObject"),this.ey=a)});w.u(qa,{ew:n},t("gy"));
qa.prototype.canStart=qa.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===n||(a.eb||a.ue)||!a.Pl)return q;var b=a.V;return b===n||!(b instanceof O)&&!(b instanceof De)||!a.N.left||a.Fa!==this&&!this.isBeyondDragSize()?q:this.findLinkablePort()!==n};
qa.prototype.findLinkablePort=qa.prototype.sK=function(){var a=this.h;if(a===n)return n;var b=this.Zz;b===n&&(b=a.xd(a.xc.M,n,n));if(b===n||!(b.ca instanceof T))return n;var c=this.direction;if(c===Ig||c===Ng)if(a=this.findValidLinkablePort(b,q),a!==n)return this.Lp=h,a;if(c===Ig||c===Sg)if(a=this.findValidLinkablePort(b,h),a!==n)return this.Lp=q,a;return n};
qa.prototype.doActivate=qa.prototype.Bh=function(){var a=this.h;if(a!==n&&(this.ew===n&&(this.gy=this.findLinkablePort()),this.ew!==n)){this.hc(this.name);a.Fc=h;a.vc="hand";if(this.te){this.ig=this.ew;var b=this.ig.ca;b instanceof T&&(this.hg=b);this.copyPortProperties(this.hg,this.ig,this.Ze,this.pm,q)}else this.kg=this.ew,b=this.kg.ca,b instanceof T&&(this.jg=b),this.copyPortProperties(this.jg,this.kg,this.$e,this.qm,h);a.add(this.Ze);a.add(this.$e);this.qg!==n&&(this.Ze!==n&&(this.qg.ga=this.Ze),
this.$e!==n&&(this.qg.la=this.$e),this.qg.Tb(),a.add(this.qg));this.Y=h}};qa.prototype.doDeactivate=qa.prototype.Ci=function(){this.Y=q;var a=this.h;a!==n&&(a.remove(this.qg),a.remove(this.Ze),a.remove(this.$e),a.Fc=q,a.vc="",this.Mj())};qa.prototype.doStop=qa.prototype.Rk=function(){vg.prototype.Rk.call(this);this.Zz=this.gy=n};
qa.prototype.doMouseUp=qa.prototype.qe=function(){if(this.Y){var a=this.h;if(a===n)return;var b=this.af=n,c=n,d=n,e=n,g=this.Ye=this.findTargetPort(this.te),i=n;g!==n?(i=g.ca,i instanceof T&&(this.te?(this.hg!==n&&(b=this.hg,c=this.ig),d=i,e=g):(b=i,c=g,this.jg!==n&&(d=this.jg,e=this.kg)))):this.te?this.hg!==n&&this.Jo&&(b=this.hg,c=this.ig):this.jg!==n&&this.Jo&&(d=this.jg,e=this.kg);if(b!==n||d!==n)b=this.insertLink(b,c,d,e),b!==n?(g===n&&(this.te?b.oG=a.N.M:b.nG=a.N.M),a.ke&&a.select(b),this.af=
this.name,a.ya("LinkDrawn",b)):a.V.yg.clear()}this.stopTool()};
qa.prototype.insertLink=qa.prototype.aL=function(a,b,c,d){var e=this.h;if(e===n)return n;var g=e.V;if(g===n)return n;if(g instanceof De){if(b=a,d=c,e.Xc||(b=c,d=a),b!==n&&d!==n)return g.Df(d.data,g.mb(b.data)),d.xv()}else if(g instanceof O){b===n&&(b=a);b=b.We;b===n&&(b="");d===n&&(d=c);var i=d.We;i===n&&(i="");d=this.dC;if(d instanceof U){if(xf(d),g=d.copy(),g instanceof U)return g.ga=a,g.Fi=b,g.la=c,g.Oj=i,e.add(g),g}else if(d!==n&&(d=g.vC(d),w.nb(d)))return g.bw(d,g.mb(a.data)),g.Es(d,b),g.cw(d,
g.mb(c.data)),g.Fs(d,i),g.ZB(d),a=this.cC,a!==n&&g.rz(a)&&(a=g.yj(a),w.nb(a)&&(g.Cr(a),a=g.mb(a),a!==f&&g.YB(d,a))),g=e.zf(d)}return n};function Tg(){vg.call(this);this.name="Relinking";var a=new V;a.gb="Diamond";a.wa=new bb(8,8);a.fill="cyan";a.cursor="pointer";a.Gh=0;this.VA=a;a=new V;a.gb="Diamond";a.wa=new bb(8,8);a.fill="cyan";a.cursor="pointer";a.Gh=-1;this.MB=a;this.sc=n;this.sB=new G}w.Q("RelinkingTool",Tg);w.Ea(Tg,vg);
Tg.prototype.updateAdornments=Tg.prototype.Pi=function(a){if(a instanceof U){var b=n,c="RelinkFrom";if(a.Qa){var d=a.Yv;a.va.P()&&(d!==n&&a.hb()&&a.canRelinkFrom()&&d.Xk()&&d.va.P())&&(b=a.Yn(c),b===n&&(b=this.makeAdornment(d,q),b.Mc=c),b!==n&&b.R());a.Fk(c,b)}else a.cl(c);b=n;c="RelinkTo";a.Qa?(d=a.Yv,a.va.P()&&(d!==n&&a.hb()&&a.canRelinkTo()&&d.Xk()&&d.va.P())&&(b=a.Yn(c),b===n&&(b=this.makeAdornment(d,h),b.Mc=c),b!==n&&b.R()),a.Fk(c,b)):a.cl(c)}};
Tg.prototype.makeAdornment=Tg.prototype.yz=function(a,b){var c=new of;c.type=Ug;var d=b?this.kI:this.FG;d!==n&&c.add(d.copy());c.Cc=a;return c};w.defineProperty(Tg,{FG:"fromHandleArchetype"},t("VA"),function(a){a&&w.i(a,P,Tg,"fromHandleArchetype");this.VA=a});w.defineProperty(Tg,{kI:"toHandleArchetype"},t("MB"),function(a){a&&w.i(a,P,Tg,"toHandleArchetype");this.MB=a});w.u(Tg,{handle:"handle"},t("sc"));
Tg.prototype.canStart=Tg.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===n||(a.eb||a.ue)||!a.uj)return q;var b=a.V;if(b===n||!(b instanceof O)&&!(b instanceof De)||!a.N.left)return q;b=this.findToolHandleAt(a.xc.M,"RelinkFrom");b===n&&(b=this.findToolHandleAt(a.xc.M,"RelinkTo"));return b!==n};
Tg.prototype.doActivate=Tg.prototype.Bh=function(){var a=this.h;if(a!==n){if(this.Qb===n){var b=this.findToolHandleAt(a.xc.M,"RelinkFrom");b===n&&(b=this.findToolHandleAt(a.xc.M,"RelinkTo"));if(b===n)return;var c=b.ca;if(!(c instanceof of)||!(c.Hk instanceof U))return;this.sc=b;this.Lp=c===n||"RelinkTo"===c.Mc;this.Qb=c.Hk}this.hc(this.name);a.Fc=h;a.vc="hand";this.ig=this.Qb.Oc;this.hg=this.Qb.ga;this.kg=this.Qb.Bd;this.jg=this.Qb.la;this.sB=this.Qb.va;this.Qb!==n&&0<this.Qb.ja&&(this.Qb.ga===n&&
(this.pm!==n&&(this.pm.wa=new bb(0,0)),this.Ze!==n&&(this.Ze.location=this.Qb.p(0))),this.Qb.la===n&&(this.qm!==n&&(this.qm.wa=new bb(0,0)),this.$e!==n&&(this.$e.location=this.Qb.p(this.Qb.ja-1))));this.copyPortProperties(this.hg,this.ig,this.Ze,this.pm,q);this.copyPortProperties(this.jg,this.kg,this.$e,this.qm,h);a.add(this.Ze);a.add(this.$e);this.qg!==n&&(this.Ze!==n&&(this.qg.ga=this.Ze),this.$e!==n&&(this.qg.la=this.$e),this.qg.Tb(),a.add(this.qg));this.Y=h}};
Tg.prototype.doDeactivate=Tg.prototype.Ci=function(){this.Y=q;var a=this.h;a!==n&&(a.remove(this.qg),a.remove(this.Ze),a.remove(this.$e),a.Fc=q,a.vc="",this.Mj())};Tg.prototype.doStop=Tg.prototype.Rk=function(){vg.prototype.Rk.call(this);this.sc=n};
Tg.prototype.doMouseUp=Tg.prototype.qe=function(){if(this.Y){var a=this.h;if(a===n)return;this.af=n;var b=this.hg,c=this.ig,d=this.jg,e=this.kg,g=this.Qb;this.Ye=this.findTargetPort(this.te);if(this.Ye!==n){var i=this.Ye.ca;i instanceof T&&(this.te?(d=i,e=this.Ye):(b=i,c=this.Ye))}else this.Jo?this.te?e=d=n:c=b=n:g=n;g!==n&&(this.reconnectLink(g,this.te?d:b,this.te?e:c,this.te),this.Ye===n&&(this.te?g.oG=a.N.M:g.nG=a.N.M,g.Tb()),a.ke&&(g.Qa=h),this.af=this.name,a.ya("LinkRelinked",g,this.te?this.kg:
this.ig));Vg(this.Qb,this.sB)}this.stopTool()};
Tg.prototype.reconnectLink=Tg.prototype.PL=function(a,b,c,d){var e=this.h;if(e===n)return q;var g=b!==n?b.data:n,g=g!==n?e.V.mb(g):f,i=c.We!==n?c.We:"",j=a.data;if(j!==n&&g!==f)if(c=e.V,c instanceof De)e=e.Xc,i=a.ga,g=a.la,e||(i=a.la,g=a.ga),a=i,i=g,d&&e||!d&&!e?(i=b,c.Df(g.data,f),c.Df(i.data,c.mb(a.data))):c.Df(g.data,c.mb(b.data));else if(c instanceof O)d?(c.cw(j,g),c.Fs(j,i)):(c.bw(j,g),c.Es(j,i));else return q;else d?(this.Qb.la=b,this.Qb.Oj=i):(this.Qb.ga=b,this.Qb.Fi=i);return h};
function Wg(){Bf.call(this);this.name="LinkReshaping";var a=new V;a.gb="Rectangle";a.wa=new bb(6,6);a.fill="cyan";this.nk=a;this.Kw=this.sc=n;this.tB=new F;this.Px=n}w.Q("LinkReshapingTool",Wg);w.Ea(Wg,Bf);var Xg;Wg.None=Xg=w.s(Wg,"None",0);var Yg;Wg.Horizontal=Yg=w.s(Wg,"Horizontal",1);var Zg;Wg.Vertical=Zg=w.s(Wg,"Vertical",2);var $g;Wg.All=$g=w.s(Wg,"All",3);
Wg.prototype.updateAdornments=Wg.prototype.Pi=function(a){if(a instanceof U){var b=n;if(a.Qa){var c=a.path;a.va.P()&&(c!==n&&a.hb()&&a.canReshape()&&c.Xk()&&c.va.P())&&(b=a.Yn(this.name),b===n&&(b=this.makeAdornment(c),b.Mc=this.name),b!==n&&(b.location=a.position,b.R()));a.Fk(this.name,b)}else a.cl(this.name)}};
Wg.prototype.makeAdornment=Wg.prototype.yz=function(a){var b=new of;b.type=Ug;var c=a.ca,d=c.ja,e=c.fc;if(c.points!==n&&2<d){for(var d=c.yv,g=c.tz,i=d+1;i<=g-1;i++){var j=this.makeHandle(a,i);if(j!==n){j.Gh=i;if(i!==d)if(i===d+1&&e){var k=c.p(d),l=c.p(d+1);Ua(k.x,l.x)&&Ua(k.y,l.y)&&(l=c.p(d-1));Ua(k.x,l.x)?(j.Co=Zg,j.cursor="n-resize"):Ua(k.y,l.y)&&(j.Co=Yg,j.cursor="w-resize")}else i===g-1&&e?(k=c.p(g-1),l=c.p(g),Ua(k.x,l.x)&&Ua(k.y,l.y)&&(k=c.p(g+1)),Ua(k.x,l.x)?(j.Co=Zg,j.cursor="n-resize"):Ua(k.y,
l.y)&&(j.Co=Yg,j.cursor="w-resize")):i!==g&&(j.Co=$g,j.cursor="move");b.add(j)}}b.Cc=a}return b};Wg.prototype.makeHandle=Wg.prototype.iH=function(){var a=this.bs;return a===n?n:a.copy()};w.defineProperty(Wg,{bs:"handleArchetype"},t("nk"),function(a){a&&w.i(a,P,Wg,"handleArchetype");this.nk=a});w.u(Wg,{handle:"handle"},t("sc"));w.u(Wg,{Gn:"adornedLink"},t("Kw"));
Wg.prototype.canStart=Wg.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;return a===n||a.eb||!a.Jn?q:this.findToolHandleAt(a.xc.M,this.name)!==n};Wg.prototype.doActivate=Wg.prototype.Bh=function(){var a=this.h;if(a!==n&&(this.sc=this.findToolHandleAt(a.xc.M,this.name),this.sc!==n)){var b=this.sc.ca.Hk;b instanceof U&&(this.Kw=b,a.Fc=h,this.tB=b.p(this.sc.Gh),this.Px=b.points.copy(),this.hc(this.name),this.Y=h)}};
Wg.prototype.doDeactivate=Wg.prototype.Ci=function(){this.Mj();this.Kw=this.sc=n;var a=this.h;a!==n&&(a.Fc=q);this.Y=q};Wg.prototype.doCancel=Wg.prototype.Cj=function(){var a=this.Gn;a!==n&&(a.points=this.Px);this.stopTool()};Wg.prototype.doMouseMove=Wg.prototype.Og=function(){var a=this.h;this.Y&&a!==n&&(a=this.computeReshape(a.N.M),this.reshape(a))};
Wg.prototype.doMouseUp=Wg.prototype.qe=function(){var a=this.h;if(this.Y&&a!==n){var b=this.computeReshape(a.N.M);this.reshape(b);b=this.Gn;b!==n&&(b.points=this.Gn.points);a.Hi();this.af=this.name;a.ya("LinkReshaped",this.Gn)}this.stopTool()};
Wg.prototype.reshape=Wg.prototype.XL=function(a){var b=this.Gn;b.el();var c=this.handle.Gh,d=this.handle.Co;if(b.fc)if(c===b.yv+1)c=b.yv+1,d==Zg?(b.J(c,new F(b.p(c-1).x,a.y)),b.J(c+1,new F(b.p(c+2).x,a.y))):d==Yg&&(b.J(c,new F(a.x,b.p(c-1).y)),b.J(c+1,new F(a.x,b.p(c+2).y)));else if(c===b.tz-1)c=b.tz-1,d===Zg?(b.J(c-1,new F(b.p(c-2).x,a.y)),b.J(c,new F(b.p(c+1).x,a.y))):d===Yg&&(b.J(c-1,new F(a.x,b.p(c-2).y)),b.J(c,new F(a.x,b.p(c+1).y)));else{var d=c,e=b.p(d),g=b.p(d-1),i=b.p(d+1);Ua(g.x,e.x)&&Ua(e.y,
i.y)?(Ua(g.x,b.p(d-2).x)&&!Ua(g.y,b.p(d-2).y)?(e=b.points,e.yc(d,new F(a.x,g.y)),b.points=e,c++,d++):b.J(d-1,new F(a.x,g.y)),Ua(i.y,b.p(d+2).y)&&!Ua(i.x,b.p(d+2).x)?(e=b.points,e.yc(d+1,new F(i.x,a.y)),b.points=e):b.J(d+1,new F(i.x,a.y))):Ua(g.y,e.y)&&Ua(e.x,i.x)?(Ua(g.y,b.p(d-2).y)&&!Ua(g.x,b.p(d-2).x)?(e=b.points,e.yc(d,new F(g.x,a.y)),b.points=e,c++,d++):b.J(d-1,new F(g.x,a.y)),Ua(i.x,b.p(d+2).x)&&!Ua(i.y,b.p(d+2).y)?(e=b.points,e.yc(d+1,new F(a.x,i.y)),b.points=e):b.J(d+1,new F(a.x,i.y))):Ua(g.x,
e.x)&&Ua(e.x,i.x)?(Ua(g.x,b.p(d-2).x)&&!Ua(g.y,b.p(d-2).y)?(e=b.points,e.yc(d,new F(a.x,g.y)),b.points=e,c++,d++):b.J(d-1,new F(a.x,g.y)),Ua(i.x,b.p(d+2).x)&&!Ua(i.y,b.p(d+2).y)?(e=b.points,e.yc(d+1,new F(a.x,i.y)),b.points=e):b.J(d+1,new F(a.x,i.y))):Ua(g.y,e.y)&&Ua(e.y,i.y)&&(Ua(g.y,b.p(d-2).y)&&!Ua(g.x,b.p(d-2).x)?(e=b.points,e.yc(d,new F(g.x,a.y)),b.points=e,c++,d++):b.J(d-1,new F(g.x,a.y)),Ua(i.y,b.p(d+2).y)&&!Ua(i.x,b.p(d+2).x)?(e=b.points,e.yc(d+1,new F(i.x,a.y)),b.points=e):b.J(d+1,new F(i.x,
a.y)));b.J(c,a.copy())}else b.J(c,a.copy()),1===c&&zb(b.qC(h))?(d=b.ga,g=b.Oc,c=g.Ab(Ob),a=b.getLinkPointFromPoint(d,g,c,a,h),b.J(0,a)):c===b.ja-2&&zb(b.qC(q))&&(d=b.la,g=b.Bd,c=g.Ab(Ob),a=b.getLinkPointFromPoint(d,g,c,a,q),b.J(b.ja-1,a));b.yi()};Wg.prototype.computeReshape=Wg.prototype.xJ=function(a){var b=this.Gn,c=this.handle.Gh;switch(this.handle.Co){case $g:return a;case Zg:return b=b.p(c),new F(b.x,a.y);case Yg:return b=b.p(c),new F(a.x,b.y);default:case Xg:return b.p(c)}};
w.g(Wg,"originalPoint",Wg.prototype.zH);w.u(Wg,{zH:"originalPoint"},t("tB"));w.g(Wg,"originalPoints",Wg.prototype.AH);w.u(Wg,{AH:"originalPoints"},t("Px"));
function ah(){Bf.call(this);this.name="Resizing";this.Sd=(new bb(1,1)).freeze();this.gj=(new bb(9999,9999)).freeze();this.Ti=(new bb(NaN,NaN)).freeze();this.ul=q;this.Ja=n;var a=new V;a.sj=Ob;a.gb="Rectangle";a.wa=new bb(6,6);a.fill="cyan";a.stroke="black";a.$a=1;a.cursor="pointer";this.nk=a;this.sc=n;this.fn=0;this.jF=new G;this.ou=new bb;this.Ox=new F;this.jx=new bb(0,0);this.ix=new bb(Infinity,Infinity);this.hx=new bb(1,1)}w.Q("ResizingTool",ah);w.Ea(ah,Bf);
ah.prototype.updateAdornments=ah.prototype.Pi=function(a){if(!(a===n||a instanceof U)){var b=n;if(a.Qa){var c=a.PH;if(a.va.P()&&(c!==n&&a.hb()&&a.canResize()&&c.Xk()&&c.va.P())&&(b=a.Yn(this.name),b===n&&(b=this.makeAdornment(c),b.Mc=this.name),b!==n)){var d=c.ao();b.angle=d;var e=c.Ab(Jb),g=c.Uk();if(c instanceof V){var i=c.$a/2*g;e.x+=i;e.y+=i}b.location=e;e=b.placeholder;e!==n&&(c=c.Sa,e.wa=new bb(c.width*g,c.height*g));bh(this,b,d)}a.Fk(this.name,b)}else a.cl(this.name)}};
ah.prototype.makeAdornment=ah.prototype.yz=function(a){var b=n,b=a.ca.hE;if(b===n){b=new of;b.type=ch;var c=new dh;c.Li=h;b.add(c);b.add(this.makeHandle(a,Jb));b.add(this.makeHandle(a,Lb));b.add(this.makeHandle(a,Rb));b.add(this.makeHandle(a,Pb));b.add(this.makeHandle(a,Sb));b.add(this.makeHandle(a,Zb));b.add(this.makeHandle(a,$b));b.add(this.makeHandle(a,Tb))}else if(xf(b),b=b.copy(),!(b instanceof of))return n;b.Cc=a;return b};
ah.prototype.makeHandle=ah.prototype.iH=function(a,b){var c=this.bs;if(c===n)return n;c=c.copy();c.Db=b;return c};
function bh(a,b,c){if(b!==n)if(!Eb(b.Db)&&""!==b.cursor)a:{a=b.Db;zb(a)&&(a=Ob);if(0>=a.x)c=0>=a.y?c+225:1<=a.y?c+135:c+180;else if(1<=a.x)0>=a.y?c+=315:1<=a.y&&(c+=45);else if(0>=a.y)c+=270;else if(1<=a.y)c+=90;else break a;0>c?c+=360:360<=c&&(c-=360);b.cursor=22.5>c?"e-resize":67.5>c?"se-resize":112.5>c?"s-resize":157.5>c?"sw-resize":202.5>c?"w-resize":247.5>c?"nw-resize":292.5>c?"n-resize":337.5>c?"ne-resize":"e-resize"}else if(b instanceof x)for(b=b.elements;b.next();)bh(a,b.value,c)}
w.defineProperty(ah,{bs:"handleArchetype"},t("nk"),function(a){a&&w.i(a,P,ah,"handleArchetype");this.nk=a});w.u(ah,{handle:"handle"},t("sc"));w.u(ah,{Cc:"adornedObject"},t("Ja"));ah.prototype.canStart=ah.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;return a===n||a.eb||!a.Kn||!a.N.left?q:this.findToolHandleAt(a.xc.M,this.name)!==n?h:q};
ah.prototype.doActivate=ah.prototype.Bh=function(){var a=this.h;a!==n&&(this.sc=this.findToolHandleAt(a.xc.M,this.name),this.sc!==n&&(this.Ja=this.sc.ca.Cc,this.fn=this.Ja.angle,this.jF.set(this.Ja.Sa),this.Ox.set(this.Ja.ca.location),this.ou.set(this.Ja.wa),this.hx=this.computeCellSize(),this.jx=this.computeMinSize(),this.ix=this.computeMaxSize(),a.Fc=h,this.hc(this.name),this.Y=h))};
ah.prototype.doDeactivate=ah.prototype.Ci=function(){var a=this.h;a!==n&&(this.Mj(),this.Ja=this.sc=n,this.Y=a.Fc=q)};ah.prototype.doCancel=ah.prototype.Cj=function(){this.Ja.wa=this.ou;this.Ja.ca.location=this.Ox;this.stopTool()};ah.prototype.doMouseMove=ah.prototype.Og=function(){var a=this.h;if(this.Y&&a!==n){var b=this.jx,c=this.ix,d=this.hx,e=this.Ja.YC(a.N.M),g=this.Ja.Av;g===eh&&(g=this.Ja.Ha.Zb);b=this.computeResize(e,this.sc.Db,b,c,d,!(g===fh||g===gh||a.N.shift));this.resize(b);hh(a)}};
ah.prototype.doMouseUp=ah.prototype.qe=function(){var a=this.h;if(this.Y&&a!==n){var b=this.jx,c=this.ix,d=this.hx,e=this.Ja.YC(a.N.M),g=this.Ja.Av;g===eh&&(g=this.Ja.Ha.Zb);b=this.computeResize(e,this.sc.Db,b,c,d,!(g===fh||g===gh||a.N.shift));this.resize(b);a.Hi();this.af=this.name;a.ya("PartResized",this.Ja,this.ou)}this.stopTool()};
ah.prototype.resize=ah.prototype.YL=function(a){var b=this.h;if(b!==n){var c=this.Ja.ca,d=c.position.copy(),e=this.Ja.Sa.copy(),g=this.Ja.ao(),i=this.Ja.Uk();360<=g?g-=360:0>g&&(g+=360);var j=Math.PI*g/180,k=Math.cos(j),j=Math.sin(j),l=a.width-e.width,e=a.height-e.height,m=90<g&&270>g?1:0;d.x+=i*((a.x+l*m)*k-(a.y+e*(0<g&&180>g?1:0))*j);d.y+=i*((a.x+l*(180<g&&360>g?1:0))*j+(a.y+e*m)*k);this.Ja.wa=a.size;c.Di();c.position=d;b.yb()}};
ah.prototype.computeResize=ah.prototype.yJ=function(a,b,c,d,e,g){zb(b)&&(b=Ob);var i=this.Ja.Sa,j=i.x,k=i.y,l=i.x+i.width,m=i.y+i.height,p=1;if(!g){var p=i.width,r=i.height;0>=p&&(p=1);0>=r&&(r=1);p=r/p}a=fd(a.x,a.y,j,k,e.width,e.height);e=i.copy();0>=b.x?0>=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,p<a?(e.height=p*e.width,e.y=m-e.height):
(e.width=e.height/p,e.x=l-e.width))):1<=b.y?(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=Math.max(l-e.x,c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,p<a?e.height=p*e.width:(e.width=e.height/p,e.x=l-e.width))):(e.x=Math.max(a.x,l-d.width),e.x=Math.min(e.x,l-c.width),e.width=l-e.x,g||(e.height=p*e.width,e.y=k+0.5*(m-k-e.height))):1<=b.x?0>=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,
m-c.height),e.height=Math.max(m-e.y,c.height),g||(a=e.height/e.width,p<a?(e.height=p*e.width,e.y=m-e.height):e.width=e.height/p)):1<=b.y?(e.width=Math.max(Math.min(a.x-j,d.width),c.width),e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(a=e.height/e.width,p<a?e.height=p*e.width:e.width=e.height/p)):(e.width=Math.max(Math.min(a.x-j,d.width),c.width),g||(e.height=p*e.width,e.y=k+0.5*(m-k-e.height))):0>=b.y?(e.y=Math.max(a.y,m-d.height),e.y=Math.min(e.y,m-c.height),e.height=m-e.y,g||(e.width=
e.height/p,e.x=j+0.5*(l-j-e.width))):1<=b.y&&(e.height=Math.max(Math.min(a.y-k,d.height),c.height),g||(e.width=e.height/p,e.x=j+0.5*(l-j-e.width)));return e};ah.prototype.computeMinSize=ah.prototype.tJ=function(){var a=this.Ja.we.copy(),b=this.we;!isNaN(b.width)&&b.width>a.width&&(a.width=b.width);!isNaN(b.height)&&b.height>a.height&&(a.height=b.height);return a};
ah.prototype.computeMaxSize=ah.prototype.sJ=function(){var a=this.Ja.ce.copy(),b=this.ce;!isNaN(b.width)&&b.width<a.width&&(a.width=b.width);!isNaN(b.height)&&b.height<a.height&&(a.height=b.height);return a};
ah.prototype.computeCellSize=ah.prototype.pJ=function(){var a=new bb(NaN,NaN),b=this.Ja.ca;if(b){var c=b.iE;!isNaN(c.width)&&0<c.width&&(a.width=c.width);!isNaN(c.height)&&0<c.height&&(a.height=c.height)}c=this.Ok;isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width);isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height);b=this.h;if((isNaN(a.width)||isNaN(a.height))&&b)c=b.Rb.re,c!==n&&c.ho&&(c=c.jz,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&
(!isNaN(c.height)&&0<c.height)&&(a.height=c.height)),b=b.Bv,b!==n&&(b.visible&&this.ho)&&(c=b.as,isNaN(a.width)&&(!isNaN(c.width)&&0<c.width)&&(a.width=c.width),isNaN(a.height)&&(!isNaN(c.height)&&0<c.height)&&(a.height=c.height));if(isNaN(a.width)||0===a.width||Infinity===a.width)a.width=1;if(isNaN(a.height)||0===a.height||Infinity===a.height)a.height=1;return a};w.g(ah,"minSize",ah.prototype.we);
w.defineProperty(ah,{we:"minSize"},t("Sd"),function(a){this.Sd.I(a)||(u&&w.i(a,bb,ah,"minSize"),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),this.Sd.Va(a))});w.g(ah,"maxSize",ah.prototype.ce);w.defineProperty(ah,{ce:"maxSize"},t("gj"),function(a){this.gj.I(a)||(u&&w.i(a,bb,ah,"maxSize"),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),this.gj.Va(a))});w.g(ah,"cellSize",ah.prototype.Ok);
w.defineProperty(ah,{Ok:"cellSize"},t("Ti"),function(a){this.Ti.I(a)||(u&&w.i(a,bb,ah,"cellSize"),this.Ti.Va(a))});w.g(ah,"isGridSnapEnabled",ah.prototype.ho);w.defineProperty(ah,{ho:"isGridSnapEnabled"},t("ul"),function(a){this.ul!==a&&(w.k(a,"boolean",ah,"isGridSnapEnabled"),this.ul=a)});w.g(ah,"originalDesiredSize",ah.prototype.xH);w.u(ah,{xH:"originalDesiredSize"},t("ou"));w.g(ah,"originalLocation",ah.prototype.yH);w.u(ah,{yH:"originalLocation"},t("Ox"));
function ih(){Bf.call(this);this.name="Rotating";this.by=45;this.ay=2;this.Ja=n;var a=new V;a.gb="Ellipse";a.wa=new bb(6,6);a.fill="yellow";a.stroke="black";a.$a=1;a.cursor="pointer";this.nk=a;this.sc=n;this.fn=0;this.wB=new F}w.Q("RotatingTool",ih);w.Ea(ih,Bf);
ih.prototype.updateAdornments=ih.prototype.Pi=function(a){if(!(a===n||a instanceof U)){var b=n;if(a.Qa){var c=a.TH;if(a.va.P()&&(c!==n&&a.hb()&&a.canRotate()&&c.Xk()&&c.va.P())&&(b=a.Yn(this.name),b===n&&(b=this.makeAdornment(c),b.Mc=this.name),b!==n)){b.angle=c.ao();var d=n,e=n;c===a||c===a.Xb?(d=a.Xb,e=a.bg):(d=c,e=Ob);for(var g=d.Sa,e=new F(g.width*e.x+e.offsetX,g.height*e.y+e.offsetY);d!==n&&d!==c;)d.transform.Ta(e),d=d.fa;d=e.y;e=Math.max(e.x-c.Sa.width,0);b.bg=Ob;b.location=c.Ab(new H(1,0,50+
e,d))}a.Fk(this.name,b)}else a.cl(this.name)}};ih.prototype.makeAdornment=ih.prototype.yz=function(a){var b=n,b=a.ca.mE;if(b===n){b=new of;b.type=jh;var c=this.bs;c!==n&&b.add(c.copy())}else if(xf(b),b=b.copy(),!(b instanceof of))return n;b.Cc=a;return b};w.defineProperty(ih,{bs:"handleArchetype"},t("nk"),function(a){a&&w.i(a,P,ih,"handleArchetype");this.nk=a});w.u(ih,{handle:"handle"},t("sc"));w.u(ih,{Cc:"adornedObject"},t("Ja"));
ih.prototype.canStart=ih.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;return a===n||a.eb||!a.Ln||!a.N.left?q:this.findToolHandleAt(a.xc.M,this.name)!==n?h:q};ih.prototype.doActivate=ih.prototype.Bh=function(){var a=this.h;if(a!==n&&(this.sc=this.findToolHandleAt(a.xc.M,this.name),this.sc!==n)){this.Ja=this.sc.ca.Cc;var b=this.Ja.ca,c=b.Xb;this.wB=this.Ja===b||this.Ja===c?c.Ab(b.bg):this.Ja.Ab(Ob);this.fn=this.Ja.angle;a.Fc=h;this.hc(this.name);this.Y=h}};
ih.prototype.doDeactivate=ih.prototype.Ci=function(){var a=this.h;a!==n&&(this.Mj(),this.Ja=this.sc=n,this.Y=a.Fc=q)};ih.prototype.doCancel=ih.prototype.Cj=function(){this.rotate(this.fn);this.stopTool()};ih.prototype.doMouseMove=ih.prototype.Og=function(){var a=this.h;this.Y&&a!==n&&(a=this.computeRotate(a.N.M),this.rotate(a))};
ih.prototype.doMouseUp=ih.prototype.qe=function(){var a=this.h;if(this.Y&&a!==n){var b=this.computeRotate(a.N.M);this.rotate(b);a.Hi();this.af=this.name;a.ya("PartRotated",this.Ja,this.fn)}this.stopTool()};ih.prototype.rotate=ih.prototype.rotate=function(a){this.Ja!==n&&(this.Ja.angle=a,this.h.yb())};
ih.prototype.computeRotate=ih.prototype.zJ=function(a){var a=this.wB.Ai(a),b=this.Ja.fa;b&&(a-=b.ao(),360<=a?a-=360:0>a&&(a+=360));var b=Math.min(Math.abs(this.zE),180),c=Math.min(Math.abs(this.yE),b/2);!this.h.N.shift&&(0<b&&0<c)&&(a%b<c?a=Math.floor(a/b)*b:a%b>b-c&&(a=(Math.floor(a/b)+1)*b));360<=a?a-=360:0>a&&(a+=360);return a};w.g(ih,"snapAngleMultiple",ih.prototype.zE);
w.defineProperty(ih,{zE:"snapAngleMultiple"},t("by"),function(a){this.by!==a&&(u&&w.k(a,"number",ih,"snapAngleMultiple"),this.by=a)});w.g(ih,"snapAngleEpsilon",ih.prototype.yE);w.defineProperty(ih,{yE:"snapAngleEpsilon"},t("ay"),function(a){this.ay!==a&&(u&&w.k(a,"number",ih,"snapAngleEpsilon"),this.ay=a)});w.g(ih,"originalAngle",ih.prototype.wH);w.u(ih,{wH:"originalAngle"},t("fn"));function kh(){Bf.call(this);this.name="ClickSelecting"}w.Q("ClickSelectingTool",kh);w.Ea(kh,Bf);
kh.prototype.canStart=kh.prototype.vf=function(){return!this.isEnabled||this.h===n||this.isBeyondDragSize()?q:h};kh.prototype.doMouseUp=kh.prototype.qe=function(){this.Y&&(this.standardMouseSelect(),this.standardMouseClick());this.stopTool()};function lh(){Bf.call(this);this.name="Action";this.um=n}w.Q("ActionTool",lh);w.Ea(lh,Bf);
lh.prototype.canStart=lh.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===n)return q;var b=a.N,c=a.xd(b.M,function(a){for(;a.fa!==n;){if(a.Cv)return a;a=a.fa}return n},function(a){return a.Cv});return c!==n?(this.um=c,a.Cm=a.xd(b.M,n,n),h):q};lh.prototype.doMouseDown=lh.prototype.Nr=function(){if(this.Y){var a=this.h.N,b=this.um;b!==n&&(a.Ad=b,b.By!==n&&b.By(a,b))}else this.canStart()&&this.doActivate()};
lh.prototype.doMouseMove=lh.prototype.Og=function(){if(this.Y){var a=this.h.N,b=this.um;b!==n&&(a.Ad=b,b.Cy!==n&&b.Cy(a,b))}};lh.prototype.doMouseUp=lh.prototype.qe=function(){if(this.Y){var a=this.h,b=a.N,c=this.um;if(c===n)return;b.Ad=c;c.Dy!==n&&c.Dy(b,c);this.isBeyondDragSize()||Cf(c,b,a)}this.stopTool()};lh.prototype.doCancel=lh.prototype.Cj=function(){var a=this.h;if(a!==n){var a=a.N,b=this.um;if(b===n)return;a.Ad=b;b.Ay!==n&&b.Ay(a,b)}this.stopTool()};
lh.prototype.doStop=lh.prototype.Rk=function(){this.um=n};function ra(){Bf.call(this);this.name="ClickCreating";this.bk=n;this.vx=h;this.TA=new F(0,0)}w.Q("ClickCreatingTool",ra);w.Ea(ra,Bf);
ra.prototype.canStart=ra.prototype.vf=function(){if(!this.isEnabled||this.Gr===n)return q;var a=this.h;if(a===n||(a.eb||a.ue)||!a.In||!a.N.left||this.isBeyondDragSize())return q;if(this.pD){if(1===a.N.Wd&&(this.TA=a.N.Yc.copy()),2!==a.N.Wd||this.isBeyondDragSize(this.TA))return q}else if(1!==a.N.Wd)return q;return a.Fa!==this&&a.Ur(a.N.M,h)!==n?q:h};ra.prototype.doMouseUp=ra.prototype.qe=function(){var a=this.h;this.Y&&a!==n&&this.insertPart(a.N.M);this.stopTool()};
ra.prototype.insertPart=ra.prototype.bL=function(a){var b=this.h;if(b===n)return n;var c=this.Gr;if(c===n)return n;this.hc(this.name);var d=n;c instanceof S?c.ae()&&(xf(c),d=c.copy(),d instanceof S&&b.add(d)):c!==n&&(c=b.V.yj(c),w.nb(c)&&(b.V.Cr(c),d=b.Fj(c)));d instanceof S&&(d.location=a,b.ke&&b.select(d));b.Hi();this.af=this.name;b.ya("PartCreated",d);this.Mj();return d instanceof S?d:n};w.g(ra,"archetypeNodeData",ra.prototype.Gr);
w.defineProperty(ra,{Gr:"archetypeNodeData"},t("bk"),function(a){this.bk!==a&&(a!==n&&w.i(a,Object,ra,"archetypeNodeData"),this.bk=a)});w.g(ra,"isDoubleClick",ra.prototype.pD);w.defineProperty(ra,{pD:"isDoubleClick"},t("vx"),function(a){this.vx!==a&&(w.k(a,"boolean",ra,"isDoubleClick"),this.vx=a)});
function mh(){Bf.call(this);this.name="ContextMenu";this.DA=n;this.jB=new F;this.Fm=n;if(w.iy===h){this.Fm=new of;this.Xw=n;var a=this;this.NB=function(){a.stopTool()};if(w.GA===q){var b=document.createElement("div"),c=document.createElement("div");b.style.cssText="top: 0px;z-index:300;position: fixed;display: none;text-align: center;left: 25%;width: 50%;background-color: #F5F5F5;padding: 16px;border: 16px solid #444;border-radius: 10px;margin-top: 10px";c.style.cssText="z-index:299;position: fixed;display: none;top: 0;left: 0;width: 100%;height: 100%;background-color: black;-moz-opacity: 0.8;opacity:.80;filter: alpha(opacity=80);";
var d=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(d);d.sheet.insertRule(".defaultCXul { list-style: none; }",0);d.sheet.insertRule(".defaultCXli {font:700 1.5em Helvetica, Arial, sans-serif;position: relative;min-width: 60px; }",0);d.sheet.insertRule(".defaultCXa {color: #444;display: inline-block;padding: 4px;text-decoration: none;margin: 2px;border: 1px solid gray;border-radius: 10px; }",0);b.addEventListener("contextmenu",function(a){a.preventDefault();
return q},q);b.addEventListener("selectstart",function(a){a.preventDefault();return q},q);c.addEventListener("contextmenu",function(a){a.preventDefault();return q},q);document.body&&(document.body.appendChild(b),document.body.appendChild(c));w.ht=b;w.gt=c;w.GA=h}}}w.Q("ContextMenuTool",mh);w.Ea(mh,Bf);mh.prototype.canStart=mh.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;return a===n||this.isBeyondDragSize()||!a.N.right?q:this.Fm!==n||this.findObjectWithContextMenu()!==n?h:q};
mh.prototype.doStart=mh.prototype.az=function(){var a=this.h;a!==n&&this.jB.set(a.xc.M)};mh.prototype.doStop=mh.prototype.Rk=function(){this.hideDefaultContextMenu();this.hideContextMenu()};mh.prototype.findObjectWithContextMenu=mh.prototype.tK=function(){var a=this.h;if(a===n)return n;var b=a.xd(a.N.M,n,function(a){return!a.Oa.zc});if(b!==n){for(a=b;a!==n;){var c=a.contextMenu;if(c!==n)return a;a=a.fa}if(this.Fm!==n)return b.ca}else if(c=a.contextMenu,c!==n)return a;return n};
mh.prototype.doActivate=mh.prototype.Bh=aa();mh.prototype.doMouseDown=mh.prototype.Nr=function(){if(this.Y){var a=this.h;if(a!==n&&this.Ke!==n){var b=a.xd(a.N.M,n,n);b!==n&&b.Ji(this.Ke)?(this.standardMouseClick(n,n),this.stopTool()):(this.stopTool(),a.Fa.doMouseDown())}}};
mh.prototype.doMouseUp=mh.prototype.qe=function(){!this.Y&&this.canStart()&&(this.Y=h);this.standardMouseSelect();this.standardMouseClick();var a=this.findObjectWithContextMenu();if(a!==n){var b=a.contextMenu;b!==n?this.showContextMenu(b,a instanceof P?a:n):this.showDefaultContextMenu()}else this.showDefaultContextMenu()};mh.prototype.doMouseMove=mh.prototype.Og=function(){this.Y&&this.standardMouseOver()};
mh.prototype.showContextMenu=mh.prototype.dM=function(a,b){w.i(a,of,mh,"showContextMenu:contextmenu");b!==n&&w.i(b,P,mh,"showContextMenu:obj");var c=this.h;if(c!==n){a!==this.Ke&&this.hideContextMenu();a.Od="Tool";a.Jj=q;a.scale=1/c.scale;c.add(a);if(b!==n){var d=n,e=b.Wr();e!==n&&(d=e.data);a.Cc=b;a.data=d}else a.data=c.V;a.Di();this.positionContextMenu(a,b);this.Ke=a;c.yb()}};
mh.prototype.positionContextMenu=mh.prototype.NL=function(a){var b=this.h;if(b!==n){var c=b.N.M.copy(),d=a.xa,b=b.Ua;c.x+d.width>b.right&&(c.x-=d.width+5);c.y+d.height>b.bottom&&(c.y-=d.height+5);a.position=c}};mh.prototype.hideContextMenu=mh.prototype.TK=function(){var a=this.h;a!==n&&this.Ke!==n&&(this.Ke.data=n,this.Ke.Cc=n,a.remove(this.Ke),this.Ke=n,this.standardMouseOver(),a.yb())};
mh.prototype.initializeDefaultButtons=mh.prototype.YK=function(){if(this.h===n)return n;var a=new z,b=this.h.Yf;a.add({text:"Copy",wf:function(){b.copySelection()},visible:function(){return b.canCopySelection()}});a.add({text:"Cut",wf:function(){b.cutSelection()},visible:function(){return b.canCutSelection()}});a.add({text:"Delete",wf:function(){b.deleteSelection()},visible:function(){return b.canDeleteSelection()}});a.add({text:"Paste",wf:function(a){b.pasteSelection(a.N.M)},visible:function(){return b.canPasteSelection()}});
a.add({text:"Select All",wf:function(){b.selectAll()},visible:function(){return b.canSelectAll()}});a.add({text:"Undo",wf:function(){b.undo()},visible:function(){return b.canUndo()}});a.add({text:"Redo",wf:function(){b.redo()},visible:function(){return b.canRedo()}});a.add({text:"Zoom Out",wf:function(){b.decreaseZoom()},visible:function(){return b.canDecreaseZoom()}});a.add({text:"Zoom In",wf:function(){b.increaseZoom()},visible:function(){return b.canIncreaseZoom()}});a.add({text:"Zoom To Fit",
wf:function(){b.zoomToFit()},visible:function(){return b.canZoomToFit()}});a.add({text:"Reset Zoom",wf:function(){b.resetZoom()},visible:function(){return b.canResetZoom()}});a.add({text:"Group Selection",wf:function(){b.groupSelection()},visible:function(){return b.canGroupSelection()}});a.add({text:"Ungroup Selection",wf:function(){b.ungroupSelection()},visible:function(){return b.canUngroupSelection()}});a.add({text:"Edit Text",wf:function(){b.editTextBlock()},visible:function(){return b.canEditTextBlock()}});
return a};
mh.prototype.showDefaultContextMenu=mh.prototype.eM=function(){var a=this.h;if(a!==n){this.Xw===n&&(this.Xw=this.initializeDefaultButtons());this.Fm!==this.Ke&&this.hideContextMenu();w.ht.innerHTML="";w.gt.addEventListener("click",this.NB,q);var b=this,c=document.createElement("ul");c.className="defaultCXul";w.ht.appendChild(c);c.innerHTML="";for(var d=this.Xw.l;d.next();){var e=d.value,g=e.text,i=e.visible;if("function"!==typeof i||i()){i=document.createElement("li");i.className="defaultCXli";var j=
document.createElement("a");j.className="defaultCXa";j.href="#";j.eF=e.wf;j.addEventListener("click",function(c){this.eF(a);b.stopTool();c.preventDefault();return q},q);j.textContent=g;i.appendChild(j);c.appendChild(i)}}w.ht.style.display="block";w.gt.style.display="block";this.Ke=this.Fm}};mh.prototype.hideDefaultContextMenu=mh.prototype.UK=function(){this.Ke!==n&&this.Ke===this.Fm&&(w.ht.style.display="none",w.gt.style.display="none",w.gt.removeEventListener("click",this.NB,q),this.Ke=n)};
w.g(mh,"currentContextMenu",mh.prototype.Ke);w.defineProperty(mh,{Ke:"currentContextMenu"},t("DA"),ba("DA"));w.u(mh,{FL:"mouseDownPoint"},t("jB"));function nh(){Bf.call(this);this.name="DragSelecting";this.Gm=175;this.cB=q;var a=new S;a.Od="Tool";a.Jj=q;var b=new V;b.name="SHAPE";b.gb="Rectangle";b.fill=n;b.stroke="magenta";b.position=new F(0,0);a.add(b);this.Ri=a}w.Q("DragSelectingTool",nh);w.Ea(nh,Bf);
nh.prototype.canStart=nh.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===n||!a.ke)return q;var b=a.N;return!b.left||a.Fa!==this&&(!this.isBeyondDragSize()||b.timestamp-a.xc.timestamp<this.nv||a.Ur(b.M,h)!==n)?q:h};nh.prototype.doActivate=nh.prototype.Bh=function(){var a=this.h;a!==n&&(this.Y=h,a.Fc=h,a.ub=h,a.add(this.kd),this.doMouseMove())};nh.prototype.doDeactivate=nh.prototype.Ci=function(){var a=this.h;a!==n&&(a.remove(this.kd),a.ub=q,this.Y=a.Fc=q,a.yb())};
nh.prototype.doMouseMove=nh.prototype.Og=function(){var a=this.h;if(a!==n&&this.Y&&this.kd!==n){var b=this.computeBoxBounds();this.kd.Ne("SHAPE").wa=b.size;this.kd.position=b.position;a.yb()}};nh.prototype.doMouseUp=nh.prototype.qe=function(){if(this.Y){var a=this.h;a.remove(this.kd);try{a.vc="wait",this.selectInRect(this.computeBoxBounds())}finally{a.vc=""}}this.stopTool()};nh.prototype.computeBoxBounds=nh.prototype.jG=function(){var a=this.h;return a===n?new G(0,0,0,0):new G(a.xc.M,a.N.M)};
nh.prototype.selectInRect=nh.prototype.bM=function(a){var b=this.h;if(b!==n){var c=b.N;b.ya("ChangingSelection");a=b.bm(a,n,function(a){return a instanceof S&&a.Mk()},this.uD);if(c.Pk)if(c.shift)for(a=a.l;a.next();)c=a.value,c.Qa&&(c.Qa=q);else for(a=a.l;a.next();)c=a.value,c.Qa=!c.Qa;else{if(!c.shift){for(var d=new z(S),e=b.selection.l;e.next();)c=e.value,a.contains(c)||d.add(c);for(d=d.l;d.next();)c=d.value,c.Qa=q}for(a=a.l;a.next();)c=a.value,c.Qa||(c.Qa=h)}b.ya("ChangedSelection")}};
w.g(nh,"delay",nh.prototype.nv);w.defineProperty(nh,{nv:"delay"},t("Gm"),ba("Gm"));w.g(nh,"isPartialInclusion",nh.prototype.uD);w.defineProperty(nh,{uD:"isPartialInclusion"},t("cB"),ba("cB"));w.g(nh,"box",nh.prototype.kd);w.defineProperty(nh,{kd:"box"},t("Ri"),ba("Ri"));function oh(){Bf.call(this);this.name="DragZooming";var a=new S;a.Od="Tool";a.Jj=q;var b=new V;b.name="SHAPE";b.gb="Rectangle";b.fill=n;b.stroke="magenta";b.position=new F(0,0);a.add(b);this.Ri=a;this.UB=n}w.Q("DragZoomingTool",oh);
w.Ea(oh,Bf);oh.prototype.canStart=oh.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;return a===n||!a.N.left||a.Fa!==this&&!this.isBeyondDragSize()?q:h};oh.prototype.doActivate=oh.prototype.Bh=function(){var a=this.h;a!==n&&(this.Y=h,a.Fc=h,a.ub=h,a.add(this.kd),this.doMouseMove())};oh.prototype.doDeactivate=oh.prototype.Ci=function(){var a=this.h;a!==n&&(a.remove(this.kd),a.ub=q,this.Y=a.Fc=q,a.yb())};
oh.prototype.doMouseMove=oh.prototype.Og=function(){var a=this.h;if(a!==n&&this.Y&&this.kd!==n){var b=this.computeBoxBounds();this.kd.Ne("SHAPE").wa=b.size;this.kd.position=b.position;a.yb()}};oh.prototype.doMouseUp=oh.prototype.qe=function(){if(this.Y){var a=this.h;a.remove(this.kd);try{a.vc="wait",this.zoomToRect(this.computeBoxBounds())}finally{a.vc=""}}this.stopTool()};
oh.prototype.computeBoxBounds=oh.prototype.jG=function(){var a=this.h;if(a===n)return new G(0,0,0,0);var b=a.xc.M,c=a.N.M,a=c.x-b.x,d=c.y-b.y,e=this.Ss;e===n&&(e=this.h);if(e===n)return new G(b,c);e=e.Ua;if(0===e.height||0===d)return new G(b,c);e=e.width/e.height;Math.abs(a/d)<e?(c=b.x+a,a=b.y+Math.ceil(Math.abs(a)/e)*(0>d?-1:1)):(c=b.x+Math.ceil(Math.abs(d)*e)*(0>a?-1:1),a=b.y+d);return new G(b,new F(c,a))};
oh.prototype.zoomToRect=oh.prototype.qI=function(a){if(!(0.1>a.width)){var b=this.Ss;b===n&&(b=this.h);b!==n&&(b.scale=Math.min(b.Ua.width*b.scale/a.width,b.Te),b.position=new F(a.x,a.y))}};w.g(oh,"box",oh.prototype.kd);w.defineProperty(oh,{kd:"box"},t("Ri"),ba("Ri"));w.g(oh,"zoomedDiagram",oh.prototype.Ss);w.defineProperty(oh,{Ss:"zoomedDiagram"},t("UB"),ba("UB"));
function ph(){Bf.call(this);this.name="Panning";this.Qx=new F;this.Si=q;var a=this;this.BB=function(){document.removeEventListener("scroll",a.BB,q);a.stopTool()}}w.Q("PanningTool",ph);w.Ea(ph,Bf);ph.prototype.canStart=ph.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;return a===n||!a.tf&&!a.uf||!a.N.left||a.Fa!==this&&!this.isBeyondDragSize()?q:h};
ph.prototype.doActivate=ph.prototype.Bh=function(){var a=this.h;a!==n&&(this.Si?(a.N.bubbles=h,document.addEventListener("scroll",this.BB,q)):(a.vc="move",a.Fc=h,this.Qx=a.position.copy()),this.Y=h)};ph.prototype.doDeactivate=ph.prototype.Ci=function(){var a=this.h;a!==n&&(a.vc="",this.Y=a.Fc=q)};ph.prototype.doCancel=ph.prototype.Cj=function(){var a=this.h;a!==n&&(a.position=this.Qx,a.Fc=q);this.stopTool()};ph.prototype.doMouseMove=ph.prototype.Og=function(){this.move()};
ph.prototype.doMouseUp=ph.prototype.qe=function(){this.move();this.stopTool()};ph.prototype.move=function(){var a=this.h;if(this.Y&&a)if(this.Si)a.N.bubbles=h;else{var b=a.position,c=a.xc.M,d=a.N.M,e=b.x+c.x-d.x,c=b.y+c.y-d.y;a.tf||(e=b.x);a.uf||(c=b.y);a.position=new F(e,c);a.Dh()}};w.g(ph,"bubbles",ph.prototype.bubbles);w.defineProperty(ph,{bubbles:"bubbles"},t("Si"),ba("Si"));w.g(ph,"originalPosition",ph.prototype.BH);w.u(ph,{BH:"originalPosition"},t("Qx"));
function qh(){Bf.call(this);this.name="TextEditing";this.Yw=this.FA=this.ty=n;this.hy=rh;this.rj=n;this.Ya=sh;this.yk=n}w.Q("TextEditingTool",qh);w.Ea(qh,Bf);var th;qh.LostFocus=th=w.s(qh,"LostFocus",0);var uh;qh.MouseDown=uh=w.s(qh,"MouseDown",1);var vh;qh.Tab=vh=w.s(qh,"Tab",2);var Ch;qh.Enter=Ch=w.s(qh,"Enter",3);qh.SingleClick=w.s(qh,"SingleClick",0);var rh;qh.SingleClickSelected=rh=w.s(qh,"SingleClickSelected",1);
var sh=w.s(qh,"StateNone",0),Dh=w.s(qh,"StateActive",1),Eh=w.s(qh,"StateEditing",2),Fh=w.s(qh,"StateEditing2",3),Gh=w.s(qh,"StateValidating",4),Hh=w.s(qh,"StateValidated",5);w.g(qh,"textBlock",qh.prototype.rg);w.defineProperty(qh,{rg:"textBlock"},t("ty"),ba("ty"));w.g(qh,"currentTextEditor",qh.prototype.Ng);w.defineProperty(qh,{Ng:"currentTextEditor"},t("FA"),ba("FA"));w.g(qh,"defaultTextEditor",qh.prototype.FC);w.defineProperty(qh,{FC:"defaultTextEditor"},t("Yw"),ba("Yw"));w.g(qh,"starting",qh.prototype.BE);
w.defineProperty(qh,{BE:"starting"},t("hy"),function(a){this.hy!==a&&(u&&w.kb(a,qh,qh,"starting"),this.hy=a)});qh.prototype.canStart=qh.prototype.vf=function(){if(!this.isEnabled)return q;var a=this.h;if(a===n||a.eb||!a.N.left||this.isBeyondDragSize())return q;a=a.xd(a.N.M,n,function(a){return a instanceof na});if(!(a instanceof na)||!a.pv)return q;a=a.ca;return a===n||this.BE===rh&&!a.Qa?q:h};qh.prototype.doStart=qh.prototype.az=function(){!this.Y&&this.rg!==n&&this.doActivate()};
qh.prototype.doActivate=qh.prototype.Bh=function(){if(!this.Y){var a=this.h;if(a!==n){var b=this.rg;b===n&&(b=a.xd(a.N.M,function(a){return a instanceof na?a:n}),b=b instanceof na?b:n);if(b!==n&&(this.rg=b,b.ca!==n)){this.Y=h;this.Ya=Dh;this.hc(this.name);var c=this.FC,d=q;b.aA!==n&&(c=b.aA);c!==n&&!c.qA&&(d=h);if(c===n){c=document.createElement("textarea");c.qA=h;this.Yw=c;var e=this.rg.copy();c.addEventListener("input",function(){e.text=this.value;Ih(e,Infinity,Infinity);this.style.width=20+e.xa.width*
this.jI+"px";this.rows=e.Bl},q);c.addEventListener("keydown",function(a){var b=a.which,c=this.textEditingTool;if(c!==n)if(13==b)c.zy(Ch);else{if(9==b)return c.zy(vh),a.preventDefault(),q;27==b&&(c.doCancel(),c.h&&c.h.focus())}},q);c.addEventListener("focus",function(){var a=this.textEditingTool;a.Ya===Dh?a.Ya=Eh:a.Ya===Hh?a.Ya=Fh:a.Ya===Fh&&(a.Ya=Eh)},q)}if(c.qA){var g=b.Ab(Ob),i=a.position,j=a.scale,k=b.Uk()*j,l=b.Sa.width*k;Jh(b,b.font);g=new F((g.x-i.x)*j,(g.y-i.y)*j);c.value=b.text;a.Bi.style.font=
b.font;c.style.font="inherit";c.style.fontSize=100*k+"%";c.style.lineHeight="normal";l=20+l;c.style.width=l+"px";c.style.height="";c.rows=b.Bl;a.Bi.appendChild(c);c.style.left=(g.x-l/2|0)+"px";c.style.top=(g.y-c.clientHeight/2|0)+"px";c.style.textAlign=b.textAlign}else a.Bi.appendChild(c);c.style.position="absolute";c.style.zIndex=100;c.className="start";c.textEditingTool=this;c.jI=k;if(d&&c.onActivate!==f)c.onActivate();this.Ng=c;c.focus()}}}};
qh.prototype.doCancel=qh.prototype.Cj=function(){this.yk!==n&&(this.Ng.style.border=this.yk,this.yk=n);this.stopTool()};qh.prototype.doMouseUp=qh.prototype.qe=function(){!this.Y&&this.canStart()&&this.doActivate()};qh.prototype.doMouseDown=qh.prototype.Nr=function(){this.Y&&this.zy(uh)};
qh.prototype.acceptText=qh.prototype.zy=function(a){switch(a){case uh:if(this.Ya===Hh||this.Ya===Fh)this.Ng.focus();else if(this.Ya===Dh||this.Ya===Eh)this.Ya=Gh,Kh(this);break;case th:case Ch:case vh:if(Ch===a&&this.ty.Hv===h)break;if(this.Ya===Dh||this.Ya===Eh)this.Ya=Gh,Kh(this)}};
function Kh(a){if(a.rg!==n&&a.Ng!==n){var b=a.rg,c=a.rg.text,d=a.Ng.value,e="",e="function"===typeof d?d():d;if(!a.isValidText(a.rg,c,e)){a.Ya=Eh;b.Qr!==n&&b.Qr(a,c,e);a.yk===n&&(a.yk=a.Ng.style.border,a.Ng.style.border="3px solid red");a.Ng.focus();return}a.Ya=Hh;c!==e&&(a.rg.text=e);a.af=a.name;b=a.h;b!==n&&b.ya("TextEdited",a.rg,c);a.stopTool();b!==n&&b.focus()}a.yk!==n&&(a.Ng.style.border=a.yk,a.yk=n)}
qh.prototype.doDeactivate=qh.prototype.Ci=function(){var a=this.h;if(a!==n){this.Y&&this.Mj();this.Ya=sh;this.rg=n;if(this.Ng!==n){var b=this.Ng;if(b.onDeactivate!==f)b.onDeactivate();b!==n&&a.Bi.removeChild(b)}this.Y=q}};qh.prototype.isValidText=qh.prototype.oL=function(a,b,c){w.i(a,na,qh,"isValidText:textblock");var d=this.Ks;if(d!==n&&!d(a,b,c))return q;d=a.Ks;return d!==n&&!d(a,b,c)?q:h};w.g(qh,"textValidation",qh.prototype.Ks);
w.defineProperty(qh,{Ks:"textValidation"},t("rj"),function(a){this.rj!==a&&(this.rj=a)});function mf(){Bf.call(this);this.name="ToolManager";this.kB=new z(Bf);this.lB=new z(Bf);this.mB=new z(Bf);this.WA=this.XA=1E3;this.ot=this.Vw=n;this.nB=Ef}w.Q("ToolManager",mf);w.Ea(mf,Bf);var Ef;mf.WheelScroll=Ef=w.s(mf,"WheelScroll",0);var Df;mf.WheelZoom=Df=w.s(mf,"WheelZoom",1);w.g(mf,"mouseWheelBehavior",mf.prototype.jm);w.defineProperty(mf,{jm:"mouseWheelBehavior"},t("nB"),ba("nB"));
mf.prototype.initializeStandardTools=mf.prototype.$K=function(){this.VB=new lh;this.aE=new Tg;this.BD=new Wg;this.kE=new ah;this.oE=new ih;this.xz=new qa;this.re=new Ff;this.LC=new nh;this.Pr=new oh;this.Pr.isEnabled=q;this.UD=new ph;this.rC=new mh;this.gw=new qh;this.mC=new ra;this.nC=new kh};
mf.prototype.doMouseDown=mf.prototype.Nr=function(){var a=this.h;if(a!==n){var b=a.sa;b.My&&0!==b.gl&&w.trace("WARNING: In ToolManager.doMouseDown: UndoManager.transactionLevel is not zero");for(var b=this.Ve.length,c=0;c<b;c++){var d=this.Ve.oa(c);d.h===n&&d.ee(this.h);if(d.canStart()){a.Fa=d;a.Fa===d&&(d.Y||d.doActivate(),d.doMouseDown());return}}1===a.N.button&&(this.jm===Ef?this.jm=Df:this.jm===Df&&(this.jm=Ef));this.doActivate();this.standardWaitAfter(this.mz)}};
mf.prototype.doMouseMove=mf.prototype.Og=function(){var a=this.h;if(a!==n){if(this.Y)for(var b=this.eg.length,c=0;c<b;c++){var d=this.eg.oa(c);d.h===n&&d.ee(this.h);if(d.canStart()){a.Fa=d;a.Fa===d&&(d.Y||d.doActivate(),d.doMouseMove());return}}this.standardMouseOver();this.isBeyondDragSize()&&this.standardWaitAfter(this.Y?this.mz:this.iD)}};mf.prototype.doCurrentObjectChanged=mf.prototype.tG=function(a,b){var c=this.Qk;c!==n&&!(b!==n&&(b===c||b.Ji(c)))&&this.hideToolTip()};
mf.prototype.doWaitAfter=mf.prototype.vG=function(){this.h&&this.h.Ba&&(this.doMouseHover(),this.Y||this.doToolTip())};mf.prototype.doMouseHover=mf.prototype.TJ=function(){var a=this.h;if(a!==n){var b=a.N;b.Ad===n&&(b.Ad=a.xd(b.M,n,n));var c=b.Ad;if(c!==n)for(;c!==n;){a=this.Y?c.ps:c.qs;if(a!==n&&(a(b,c),b.$d))break;c=c.fa}else a=this.Y?a.ps:a.qs,a!==n&&a(b)}};
mf.prototype.doToolTip=mf.prototype.YJ=function(){var a=this.h;if(a!==n){var b=a.N;b.Ad===n&&(b.Ad=a.xd(b.M,n,n));b=b.Ad;if(b!==n){if(!(b===this.Qk||b.Ji(this.Qk))){for(;b!==n;){a=b.Ns;if(a!==n){this.showToolTip(a,b);return}b=b.fa}this.hideToolTip()}}else a=a.Ns,a!==n?this.showToolTip(a,n):this.hideToolTip()}};
mf.prototype.showToolTip=mf.prototype.fM=function(a,b){w.i(a,of,mf,"showToolTip:tooltip");b!==n&&w.i(b,P,mf,"showToolTip:obj");var c=this.h;if(c!==n){a!==this.Qk&&this.hideToolTip();a.Od="Tool";a.Jj=q;a.scale=1/c.scale;c.add(a);if(b!==n&&b!==this.ot){var d=n,e=b.ca;e!==n&&(d=e.data);a.Cc=b;a.data=d}else b===n&&(a.data=c.V);if(b===n||b!==this.ot)a.Di(),this.positionToolTip(a,b);this.Vw=a;this.ot=b;c.yb()}};
mf.prototype.positionToolTip=mf.prototype.OL=function(a){var b=this.h;if(b!==n){var c=b.N.M.copy(),d=a.xa,b=b.Ua;c.x+d.width>b.right&&(c.x-=d.width+5);c.y=c.y+20+d.height>b.bottom?c.y-(d.height+5):c.y+20;a.position=c}};mf.prototype.hideToolTip=mf.prototype.VK=function(){if(this.Qk!==n){var a=this.h;a!==n&&(this.Qk.data=n,this.Qk.Cc=n,a.remove(this.Qk),this.ot=this.Vw=n,a.yb())}};w.u(mf,{Qk:"currentToolTip"},t("Vw"));
mf.prototype.doMouseUp=mf.prototype.qe=function(){this.cancelWaitAfter();if(this.Y){var a=this.h;if(a===n)return;for(var b=this.Sg.length,c=0;c<b;c++){var d=this.Sg.oa(c);d.h===n&&d.ee(this.h);if(d.canStart()){a.Fa=d;a.Fa===d&&(d.Y||d.doActivate(),d.doMouseUp());return}}}this.doDeactivate()};mf.prototype.doMouseWheel=mf.prototype.uG=function(){this.standardMouseWheel()};mf.prototype.doKeyDown=mf.prototype.Zy=function(){var a=this.h;a!==n&&a.Yf.doKeyDown()};
mf.prototype.doKeyUp=mf.prototype.$y=function(){var a=this.h;a!==n&&a.Yf.doKeyUp()};mf.prototype.doCancel=mf.prototype.Cj=function(){If!==n&&If.doCancel();Bf.prototype.Cj.call(this)};mf.prototype.findTool=mf.prototype.Oe=function(a){w.k(a,"string",mf,"findTool:name");for(var b=this.Ve.length,c=0;c<b;c++){var d=this.Ve.oa(c);if(d.name===a)return d}b=this.eg.length;for(c=0;c<b;c++)if(d=this.eg.oa(c),d.name===a)return d;b=this.Sg.length;for(c=0;c<b;c++)if(d=this.Sg.oa(c),d.name===a)return d;return n};
mf.prototype.replaceTool=mf.prototype.OH=function(a,b){w.k(a,"string",mf,"replaceTool:name");b!==n&&(w.i(b,Bf,mf,"replaceTool:newtool"),b.h&&b.h!==this.h&&w.m("Cannot share tools between Diagrams: "+b.toString()),b.ee(this.h));for(var c=this.Ve.length,d=0;d<c;d++){var e=this.Ve.oa(d);if(e.name===a)return b!==n?this.Ve.aw(d,b):this.Ve.Xe(d),e}c=this.eg.length;for(d=0;d<c;d++)if(e=this.eg.oa(d),e.name===a)return b!==n?this.eg.aw(d,b):this.eg.Xe(d),e;c=this.Sg.length;for(d=0;d<c;d++)if(e=this.Sg.oa(d),
e.name===a)return b!==n?this.Sg.aw(d,b):this.Sg.Xe(d),e;return n};function Lh(a,b,c,d){w.k(b,"string",mf,"replaceStandardTool:name");w.i(d,z,mf,"replaceStandardTool:list");c!==n&&(w.i(c,Bf,mf,"replaceStandardTool:newtool"),c.h&&c.h!==a.h&&w.m("Cannot share tools between Diagrams: "+c.toString()),c.name=b,c.ee(a.h));a.Oe(b)?a.OH(b,c):c!==n&&d.add(c)}w.u(mf,{Ve:"mouseDownTools"},t("kB"));w.u(mf,{eg:"mouseMoveTools"},t("lB"));w.u(mf,{Sg:"mouseUpTools"},t("mB"));w.g(mf,"hoverDelay",mf.prototype.iD);
w.defineProperty(mf,{iD:"hoverDelay"},t("XA"),ba("XA"));w.g(mf,"holdDelay",mf.prototype.mz);w.defineProperty(mf,{mz:"holdDelay"},t("WA"),ba("WA"));w.g(mf,"actionTool",mf.prototype.VB);w.defineProperty(mf,{VB:"actionTool"},function(){return this.Oe("Action")},function(a){Lh(this,"Action",a,this.Ve)});w.g(mf,"relinkingTool",mf.prototype.aE);w.defineProperty(mf,{aE:"relinkingTool"},function(){return this.Oe("Relinking")},function(a){Lh(this,"Relinking",a,this.Ve)});w.g(mf,"linkReshapingTool",mf.prototype.BD);
w.defineProperty(mf,{BD:"linkReshapingTool"},function(){return this.Oe("LinkReshaping")},function(a){Lh(this,"LinkReshaping",a,this.Ve)});w.g(mf,"resizingTool",mf.prototype.kE);w.defineProperty(mf,{kE:"resizingTool"},function(){return this.Oe("Resizing")},function(a){Lh(this,"Resizing",a,this.Ve)});w.g(mf,"rotatingTool",mf.prototype.oE);w.defineProperty(mf,{oE:"rotatingTool"},function(){return this.Oe("Rotating")},function(a){Lh(this,"Rotating",a,this.Ve)});w.g(mf,"linkingTool",mf.prototype.xz);
w.defineProperty(mf,{xz:"linkingTool"},function(){return this.Oe("Linking")},function(a){Lh(this,"Linking",a,this.eg)});w.g(mf,"draggingTool",mf.prototype.re);w.defineProperty(mf,{re:"draggingTool"},function(){return this.Oe("Dragging")},function(a){Lh(this,"Dragging",a,this.eg)});w.g(mf,"dragSelectingTool",mf.prototype.LC);w.defineProperty(mf,{LC:"dragSelectingTool"},function(){return this.Oe("DragSelecting")},function(a){Lh(this,"DragSelecting",a,this.eg)});w.g(mf,"panningTool",mf.prototype.UD);
w.defineProperty(mf,{UD:"panningTool"},function(){return this.Oe("Panning")},function(a){Lh(this,"Panning",a,this.eg)});w.g(mf,"dragZoomingTool",mf.prototype.Pr);w.defineProperty(mf,{Pr:"dragZoomingTool"},function(){return this.Oe("DragZooming")},function(a){Lh(this,"DragZooming",a,this.eg)});w.g(mf,"contextMenuTool",mf.prototype.rC);w.defineProperty(mf,{rC:"contextMenuTool"},function(){return this.Oe("ContextMenu")},function(a){Lh(this,"ContextMenu",a,this.Sg)});w.g(mf,"textEditingTool",mf.prototype.gw);
w.defineProperty(mf,{gw:"textEditingTool"},function(){return this.Oe("TextEditing")},function(a){Lh(this,"TextEditing",a,this.Sg)});w.g(mf,"clickCreatingTool",mf.prototype.mC);w.defineProperty(mf,{mC:"clickCreatingTool"},function(){return this.Oe("ClickCreating")},function(a){Lh(this,"ClickCreating",a,this.Sg)});w.g(mf,"clickSelectingTool",mf.prototype.nC);w.defineProperty(mf,{nC:"clickSelectingTool"},function(){return this.Oe("ClickSelecting")},function(a){Lh(this,"ClickSelecting",a,this.Sg)});
function jf(){w.jc(this);this.ba=n;this.Nb=new z(S);this.Bb="";this.li=1;this.zx=q;this.Mg=this.Zj=this.Yj=this.Xj=this.Wj=this.Uj=this.Tj=this.Vj=this.Sj=this.ak=this.Rj=this.$j=this.Qj=this.Pj=h;this.uB=[]}w.Q("Layer",jf);jf.prototype.ee=ba("ba");
jf.prototype.toString=function(a){a===f&&(a=0);var b='Layer "'+this.name+'"';if(0>=a)return b;for(var c=0,d=0,e=0,g=0,i=0,j=this.Nb.l;j.next();){var k=j.value;k instanceof vf?e++:k instanceof T?d++:k instanceof U?g++:k instanceof of?i++:c++}j="";0<c&&(j+=c+" Parts ");0<d&&(j+=d+" Nodes ");0<e&&(j+=e+" Groups ");0<g&&(j+=g+" Links ");0<i&&(j+=i+" Adornments ");if(1<a)for(c=this.Nb.l;c.next();)d=c.value,j+="\n    "+d.toString(a-1),(e=d.data)&&w.ec(e)&&(j+=" #"+w.ec(e)),d instanceof T?j+=" "+ke(e):d instanceof
U&&(j+=" "+ke(d.ga)+" "+ke(d.la));return b+" "+this.Nb.count+": "+j};jf.prototype.findObjectAt=jf.prototype.xd=function(a,b,c){b===f&&(b=n);c===f&&(c=n);var d=this.Nb,e=q;this.h.Ua.ua(a)&&(e=h);for(var g=new F,i=d.length;i--;){var j=d.oa(i);if(!(e===h&&j.he===q)&&j.hb()&&(Za(g.set(a),j.je),j=j.xd(g,b,c),j!==n&&(b!==n&&(j=b(j)),j&&(c===n||c(j)))))return j}return n};
jf.prototype.findObjectsAt=jf.prototype.Zn=function(a,b,c,d){b===f&&(b=n);c===f&&(c=n);!(d instanceof z)&&!(d instanceof ma)&&(d=new ma(P));var e=this.Nb,g=q;this.h.Ua.ua(a)&&(g=h);for(var i=new F,j=e.length;j--;){var k=e.oa(j);!(g===h&&k.he===q)&&k.hb()&&(Za(i.set(a),k.je),k.Zn(i,b,c,d)&&(b!==n&&(k=b(k)),k&&(c===n||c(k))&&d.add(k)))}return d};
jf.prototype.findObjectsIn=jf.prototype.bm=function(a,b,c,d,e){b===f&&(b=n);c===f&&(c=n);d===f&&(d=q);!(e instanceof z)&&!(e instanceof ma)&&(e=new ma(P));var g=this.Nb,i=q;this.h.Ua.Ul(a)&&(i=h);for(var j=g.length;j--;){var k=g.oa(j);!(i===h&&k.he===q)&&(k.hb()&&k.bm(a,b,c,d,e))&&(b!==n&&(k=b(k)),k&&(c===n||c(k))&&e.add(k))}return e};
jf.prototype.findObjectsNear=jf.prototype.$n=function(a,b,c,d,e){c===f&&(c=n);d===f&&(d=n);!(e instanceof z)&&!(e instanceof ma)&&(e=new ma(P));var g=this.Nb,i=q;this.h.Ua.ua(a)&&(i=h);for(var j=new F,k=g.length;k--;){var l=g.n[k];if(!(i===h&&l.he===q)&&l.hb()){Za(j.set(a),l.je);var m=new F(a.x+b,a.y);Za(m,l.je);l.$n(j,m,c,d,e)&&(c!==n&&(l=c(l)),l&&(d===n||d(l))&&e.add(l))}}return e};da=jf.prototype;
da.Le=function(a,b,c){if(this.visible){a.globalAlpha=this.li;var d=this.Nb,c=c?c:b.Ua,e=[],g=b.scale;if(b.sk)for(var i=d.length,j=0;j<i;j++){var k=d.n[j];k.eB=j;if(k instanceof U&&(k.fc&&e.push(k),k.ui===q))continue;var l=k.va;l.Qe(c)?(1<l.width*g||1<l.height*g?k.Le(a,b):Mh(k,a),k.he=h):k.he=q}else{i=d.length;for(j=0;j<i;j++)if(k=d.n[j],k.he){if(k instanceof U&&(k.fc&&e.push(k),k.ui===q))continue;l=k.va;1<l.width*g||1<l.height*g?k.Le(a,b):Mh(k,a)}}this.uB=e;a.globalAlpha=1}};
da.j=function(a,b,c,d,e){var g=this.h;g!==n&&g.Qc(he,a,this,b,c,d,e)};da.gm=function(a,b,c){var d=this.Nb;b.G=this;if(a>=d.count)a=d.count;else if(d.oa(a)===b)return-1;d.yc(a,b);b.ds();d=this.h;d!==n&&(c?Nh(d):d.gm(b));b instanceof vf&&this.dw(b);return a};da.se=function(a,b,c){var d=this.Nb;if(0>a||a>=d.length){if(a=d.indexOf(b),0>a)return-1}else if(d.oa(a)!==b&&(a=d.indexOf(b),0>a))return-1;b.es();d.Xe(a);d=this.h;d!==n&&(c?Nh(d):d.se(b));b.G=n;return a};
da.dw=function(a){for(;a!==n;){if(a.Oa===this){var b=a;if(b.Gc.next()){for(var c=-1,d=-1,e=this.Nb.n,g=e.length,i=0;i<g;i++){var j=e[i];if(j===b&&(c=i,0<=d))break;if(0>d&&j.cb===b&&(d=i,0<=c))break}!(0>d)&&d<c&&(e=this.Nb,e.Xe(c),e.yc(d,b))}}a=a.cb}};da.clear=function(){for(var a=this.Nb.sg(),b=a.length,c=0;c<b;c++)a[c].he=q,this.se(-1,a[c])};w.u(jf,{bl:"parts"},function(){return this.Nb.l});w.u(jf,{JL:"partsBackwards"},function(){return this.Nb.jo});w.u(jf,{h:"diagram"},t("ba"));w.g(jf,"name",jf.prototype.name);
w.defineProperty(jf,{name:"name"},t("Bb"),function(a){w.k(a,"string",jf,"name");var b=this.Bb;if(b!==a){var c=this.h;if(c!==n){""===b&&w.m("Cannot rename default Layer to: "+a);for(c=c.Jv;c.next();)c.value.name===a&&w.m("Layer.name is already present in this diagram: "+a)}this.Bb=a;this.j("name",b,a);for(a=this.Nb.l;a.next();)a.value.Od=this.Bb}});w.g(jf,"opacity",jf.prototype.opacity);
w.defineProperty(jf,{opacity:"opacity"},t("li"),function(a){var b=this.li;b!==a&&(w.k(a,"number",jf,"opacity"),(0>a||1<a)&&w.ra(a,"0 <= val <= 1",jf,"opacity"),this.li=a,this.j("opacity",b,a),a=this.h,a!==n&&Nh(a))});w.g(jf,"isTemporary",jf.prototype.zc);w.defineProperty(jf,{zc:"isTemporary"},t("zx"),function(a){var b=this.zx;b!==a&&(w.k(a,"boolean",jf,"isTemporary"),this.zx=a,this.j("isTemporary",b,a))});w.g(jf,"visible",jf.prototype.visible);
w.defineProperty(jf,{visible:"visible"},t("Mg"),function(a){var b=this.Mg;if(b!==a){w.k(a,"boolean",jf,"visible");this.Mg=a;this.j("visible",b,a);for(a=this.Nb.l;a.next();)a.value.updateAdornments();a=this.h;a!==n&&Nh(a)}});w.g(jf,"allowCopy",jf.prototype.tj);w.defineProperty(jf,{tj:"allowCopy"},t("Pj"),function(a){var b=this.Pj;b!==a&&(w.k(a,"boolean",jf,"allowCopy"),this.Pj=a,this.j("allowCopy",b,a))});w.g(jf,"allowDelete",jf.prototype.Ik);
w.defineProperty(jf,{Ik:"allowDelete"},t("Qj"),function(a){var b=this.Qj;b!==a&&(w.k(a,"boolean",jf,"allowDelete"),this.Qj=a,this.j("allowDelete",b,a))});w.g(jf,"allowTextEdit",jf.prototype.Mn);w.defineProperty(jf,{Mn:"allowTextEdit"},t("$j"),function(a){var b=this.$j;b!==a&&(w.k(a,"boolean",jf,"allowTextEdit"),this.$j=a,this.j("allowTextEdit",b,a))});w.g(jf,"allowGroup",jf.prototype.Hn);
w.defineProperty(jf,{Hn:"allowGroup"},t("Rj"),function(a){var b=this.Rj;b!==a&&(w.k(a,"boolean",jf,"allowGroup"),this.Rj=a,this.j("allowGroup",b,a))});w.g(jf,"allowUngroup",jf.prototype.Nn);w.defineProperty(jf,{Nn:"allowUngroup"},t("ak"),function(a){var b=this.ak;b!==a&&(w.k(a,"boolean",jf,"allowUngroup"),this.ak=a,this.j("allowUngroup",b,a))});w.g(jf,"allowLink",jf.prototype.Pl);
w.defineProperty(jf,{Pl:"allowLink"},t("Sj"),function(a){var b=this.Sj;b!==a&&(w.k(a,"boolean",jf,"allowLink"),this.Sj=a,this.j("allowLink",b,a))});w.g(jf,"allowRelink",jf.prototype.uj);w.defineProperty(jf,{uj:"allowRelink"},t("Vj"),function(a){var b=this.Vj;b!==a&&(w.k(a,"boolean",jf,"allowRelink"),this.Vj=a,this.j("allowRelink",b,a))});w.g(jf,"allowMove",jf.prototype.Jk);
w.defineProperty(jf,{Jk:"allowMove"},t("Tj"),function(a){var b=this.Tj;b!==a&&(w.k(a,"boolean",jf,"allowMove"),this.Tj=a,this.j("allowMove",b,a))});w.g(jf,"allowPrint",jf.prototype.Fr);w.defineProperty(jf,{Fr:"allowPrint"},t("Uj"),function(a){var b=this.Uj;b!==a&&(w.k(a,"boolean",jf,"allowPrint"),this.Uj=a,this.j("allowPrint",b,a))});w.g(jf,"allowReshape",jf.prototype.Jn);
w.defineProperty(jf,{Jn:"allowReshape"},t("Wj"),function(a){var b=this.Wj;b!==a&&(w.k(a,"boolean",jf,"allowReshape"),this.Wj=a,this.j("allowReshape",b,a))});w.g(jf,"allowResize",jf.prototype.Kn);w.defineProperty(jf,{Kn:"allowResize"},t("Xj"),function(a){var b=this.Xj;b!==a&&(w.k(a,"boolean",jf,"allowResize"),this.Xj=a,this.j("allowResize",b,a))});w.g(jf,"allowRotate",jf.prototype.Ln);
w.defineProperty(jf,{Ln:"allowRotate"},t("Yj"),function(a){var b=this.Yj;b!==a&&(w.k(a,"boolean",jf,"allowRotate"),this.Yj=a,this.j("allowRotate",b,a))});w.g(jf,"allowSelect",jf.prototype.ke);w.defineProperty(jf,{ke:"allowSelect"},t("Zj"),function(a){var b=this.Zj;b!==a&&(w.k(a,"boolean",jf,"allowSelect"),this.Zj=a,this.j("allowSelect",b,a))});
function A(a){function b(a){var b=a.toLowerCase(),c=new z("function");e.add(a,c);e.add(b,c);g.add(a,a);g.add(b,a)}function c(){document.removeEventListener("DOMContentLoaded",c,q);Oh(d)}1<arguments.length&&w.m("Diagram constructor can only take one optional argument, the DIV HTML element or its id.");w.jc(this);w.LA=[];this.tc=h;this.Rf=17;var d=this;document.body!==n?Oh(this):document.addEventListener("DOMContentLoaded",c,q);this.ib=new z(jf);this.DB=this.CB=this.FB=this.EB=this.Lb=this.gk=this.Ba=
n;this.rb=(new F(NaN,NaN)).freeze();this.bc=1;this.tx=(new F(NaN,NaN)).freeze();this.ux=NaN;this.Zt=1E-4;this.Wt=100;this.Md=new Wa;this.Uu=(new F(NaN,NaN)).freeze();this.xt=(new G(NaN,NaN,NaN,NaN)).freeze();this.jl=zf;this.ol=Hb;this.pk=zf;this.Rm=Hb;this.Gt=this.Ft=Jb;this.fh=new ma(P);this.eh=h;this.Wi=new ka(U,G);this.ut=h;this.cF=250;this.bF=1E3;this.Wg=n;this.bt=(new hb(16,16,16,16)).freeze();this.MA=h;this.xn=this.sf=q;this.wp=h;this.wy=q;this.Ag=new $d;this.Lc=new $d;this.ac=new $d;this.Ui=
n;this.Ju=-1;this.jy=q;this.ax=new ka("string",z);this.$w=new ka("string","string");var e=new ka("string",z),g=new ka("string","string");b("BackgroundSingleClicked");b("BackgroundDoubleClicked");b("BackgroundContextClicked");b("ClipboardChanged");b("ClipboardPasted");b("DocumentBoundsChanged");b("ExternalObjectsDropped");b("InitialLayoutCompleted");b("LayoutCompleted");b("LinkDrawn");b("LinkRelinked");b("LinkReshaped");b("ObjectSingleClicked");b("ObjectDoubleClicked");b("ObjectContextClicked");b("PartCreated");
b("PartResized");b("PartRotated");b("SelectionMoved");b("SelectionCopied");b("SelectionDeleting");b("SelectionDeleted");b("SelectionGrouped");b("SelectionUngrouped");b("ChangingSelection");b("ChangedSelection");b("SubGraphCollapsed");b("SubGraphExpanded");b("TextEdited");b("TreeCollapsed");b("TreeExpanded");b("ViewportBoundsChanged");this.ax=e;this.$w=g;this.iu=new ma(T);this.Ml=new ma(vf);this.Rt=new ma(U);this.Nb=new ma(S);this.Mt=h;this.ZA=q;this.Ru=zg;this.Uw=this.Zw=this.Pu=n;this.nt="";this.jp=
"auto";this.Rh=this.ti=this.fi=this.bu=this.gi=this.hi=this.ii=this.Qh=this.Th=this.Ph=n;this.Yh=h;this.Lw=q;this.Rw=n;this.sl=this.pi=this.tA=q;this.La=h;this.Jd=n;var i=this;this.hB=function(a){if(a.V===i.V&&i.La){i.La=q;try{var b=a.ld;""===a.Ue&&b===he&&Ph(i,a.object,a.propertyName)}finally{i.La=h}}};this.iB=function(a){if(a.V===i.V&&i.La){i.La=q;try{var b=a.ld,c=a.Ue;if(""!==c)if(b===he)if("linkFromKey"===c){var d=a.object,e=i.zf(d);if(e!==n){var g=a.newValue,s=i.Zf(g);e.ga=s}}else if("linkToKey"===
c)d=a.object,e=i.zf(d),e!==n&&(g=a.newValue,s=i.Zf(g),e.la=s);else if("linkFromPortId"===c){if(d=a.object,e=i.zf(d),e!==n){var v=a.newValue;"string"===typeof v&&(e.Fi=v)}}else if("linkToPortId"===c)d=a.object,e=i.zf(d),e!==n&&(v=a.newValue,"string"===typeof v&&(e.Oj=v));else if("nodeGroupKey"===c){var d=a.object,y=i.Fj(d);if(y!==n){var C=a.newValue;if(C!==f){var E=i.Zf(C);y.cb=E instanceof vf?E:n}else y.cb=n}}else if("linkLabelKeys"===c){if(d=a.object,e=i.zf(d),e!==n){var I=a.oldValue,D=a.newValue;
if(w.isArray(I))for(var M=w.Sb(I),N=0;N<M;N++){var Z=w.Eb(I,N),s=i.Zf(Z);s!==n&&(s.yd=n)}if(w.isArray(D)){M=w.Sb(D);for(N=0;N<M;N++)Z=w.Eb(D,N),s=i.Zf(Z),s!==n&&(s.yd=e)}}}else if("nodeParentKey"===c){var va=a.object,la=i.Zf(a.newValue),ta=i.Tr(va);if(ta!==n){var Ea=ta.xv();Ea!==n?la===n?i.remove(Ea):i.Xc?Ea.ga=la:Ea.la=la:Qh(i,la,ta)}}else if("parentLinkCategory"===c){var va=a.object,ta=i.Tr(va),Ha=a.newValue;ta!==n&&"string"===typeof Ha&&(Ea=ta.xv(),Ea!==n&&(Ea.Mc=Ha))}else if("nodeCategory"===
c){var d=a.object,cb=i.Fj(d),Ha=a.newValue;cb!==n&&"string"===typeof Ha&&(cb.Mc=Ha)}else if("linkCategory"===c){var d=a.object,rb=i.zf(d),Ha=a.newValue;rb!==n&&"string"===typeof Ha&&(rb.Mc=Ha)}else if("nodeDataArray"===c){var Xa=a.oldValue;Rh(i,Xa);var Na=a.newValue;Sh(i,Na)}else"linkDataArray"===c&&(Xa=a.oldValue,Rh(i,Xa),Na=a.newValue,Th(i,Na));else if(b===ie)Na=a.newValue,"nodeDataArray"===c&&w.nb(Na)?Uh(i,Na):"linkDataArray"===c&&w.nb(Na)?Vh(i,Na):"linkLabelKeys"===c&&Me(Na)&&(e=i.zf(a.object),
s=i.Zf(Na),e!==n&&s!==n&&(s.yd=e));else if(b===je)Xa=a.oldValue,"nodeDataArray"===c&&w.nb(Xa)?Wh(i,Xa):"linkDataArray"===c&&w.nb(Xa)?Wh(i,Xa):"linkLabelKeys"===c&&Me(Xa)&&(s=i.Zf(Xa),s!==n&&(s.yd=n));else{if(b===ge&&"SourceChanged"===c){var y=i.Fj(a.object),gb=a.propertyName;y!==n&&"string"===typeof gb&&(y.vb(gb),i.V instanceof De&&(e=i.zf(a.object),e!==n&&e.vb(gb)))}}else if(b===he){var Ya=a.propertyName,d=a.object;if(d===i.V){if("nodeKeyProperty"===Ya||"nodeCategoryProperty"===Ya||"linkFromKeyProperty"===
Ya||"linkToKeyProperty"===Ya||"linkFromPortIdProperty"===Ya||"linkToPortIdProperty"===Ya||"nodeIsLinkLabelProperty"===Ya||"linkLabelKeysProperty"===Ya||"nodeIsGroupProperty"===Ya||"nodeGroupKeyProperty"===Ya||"nodeParentKeyProperty"===Ya||"linkCategoryProperty"===Ya)i.sa.tb||i.lm()}else Ph(i,d,Ya)}else if(b===ie||b===je){var nb=a.ld===ie,vd=nb?a.Bf:a.Cf,me=nb?a.newValue:a.oldValue,Nd=i.yl.qa(a.object);if(Array.isArray(Nd))for(a=0;a<Nd.length;a++){var Ub=Nd[a];"number"===typeof vd&&((Ub.type===ch||
Ub.type===Xh)&&vd++,nb?w.nb(me)&&(Yh(Ub,me,vd),Zh(Ub,Ub)):(Ub.se(vd),Zh(Ub,Ub)))}}else if(b===ge){var Fc=a.propertyName;if("S"!==Fc[0]){if("CommittingTransaction"!==Fc){if("FinishedUndo"===Fc||"FinishedRedo"===Fc)i.sa.bi=h,$h(i),i.sa.bi=q;i.Bg&&i.Fa.standardMouseOver();for(var ae=i.selection.l;ae.next();)ae.value.updateAdornments()}i.xn=h;i.Dh();hh(i)}else"StartingFirstTransaction"===Fc&&(!i.Rd&&!i.Bg)&&(i.xn=h,i.wp&&(i.sf=h))}}finally{i.La=h}}};this.Sh=new ka(Object,S);this.hk=new ka(Object,U);this.yl=
new ka(Object,Array);this.tk=q;this.Qj=this.Pj=this.Ts=this.ai=h;this.Vs=this.Us=q;this.$s=this.Ys=this.Zj=this.Yj=this.Xj=this.Wj=this.Uj=this.Tj=this.Vj=this.Sj=this.Xs=this.ak=this.Rj=this.$j=h;this.bB=q;this.Zs=this.Ws=this.Bt=this.At=h;this.xu=this.wu=16;this.Yx=this.vu=q;this.$x=this.Zx=this.pj=this.oj=n;this.ie=(new hb(5)).freeze();this.Au=(new ma(S)).freeze();this.Xt=999999999;this.sk=this.rk=this.Zh=h;this.Pm=this.Om=q;this.Et=this.Dt=0;this.rd=n;this.at=h;this.Bg=q;this.ud=n;this.nu=1;this.mx=
q;this.AB=0;this.RB=(new G(NaN,NaN,NaN,NaN)).freeze();this.st=(new G(NaN,NaN,NaN,NaN)).freeze();this.Rd=q;this.pu=new ma;ai(this);this.Qt=this.yt=this.hu=this.IA=this.HA=this.JA=this.bj=this.mk=this.ji=n;bi(this);this.Cm=this.Vx=this.od=n;this.Rb=new mf;this.Rb.initializeStandardTools();this.Fa=this.mv=this.Rb;this.Yf=new pa;this.V=new O;this.pi=h;this.Pb=new ci;this.pi=q;a===f&&(a=document.createElement("div"));this.Ct=new di;ei(this,a);this.dr=n;this.Wm=1;this.Ot=0;this.Pt=new F;this.PB=500;this.oB=
q;window.navigator&&0<window.navigator.userAgent.indexOf("534.30")&&(this.oB=h);this.tc=q}w.Q("Diagram",A);
function bi(a){a.ji=new ka("string",S);var b=new T,c=new na;c.bind(new df("text","",ke));b.add(c);a.JA=b;a.ji.add("",b);b=new T;c=new na;c.stroke="brown";c.bind(new df("text","",ke));b.add(c);a.ji.add("Comment",b);b=new T;b.Jj=q;b.Jy=q;c=new V;c.gb="Ellipse";c.fill="black";c.stroke=n;c.wa=new bb(3,3);b.add(c);a.ji.add("LinkLabel",b);a.mk=new ka("string",vf);b=new vf;b.Ds="GROUPPANEL";b.type=fi;c=new na;c.font="bold 12pt sans-serif";c.bind(new df("text","",ke));b.add(c);c=new x(Xh);c.name="GROUPPANEL";
var d=new V;d.gb="Rectangle";d.fill="rgba(128,128,128,0.2)";d.stroke="black";c.add(d);d=new dh;d.padding=new hb(5,5,5,5);c.add(d);b.add(c);a.HA=b;a.mk.add("",b);a.bj=new ka("string",U);b=new U;c=new V;c.Li=h;b.add(c);c=new V;c.rm="Standard";c.fill="black";c.stroke=n;c.$a=0;b.add(c);a.IA=b;a.bj.add("",b);b=new U;c=new V;c.Li=h;c.stroke="brown";b.add(c);a.bj.add("Comment",b);b=new of;b.type=Xh;c=new V;c.fill=n;c.stroke="magenta";c.$a=2;b.add(c);c=new dh;c.margin=new hb(1,1,1,1);b.add(c);a.hu=b;a.yt=
b;b=new of;b.type=Ug;c=new V;c.Li=h;c.fill=n;c.stroke="magenta";c.$a=0;b.add(c);a.Qt=b}
function Oh(a){var b=document.createElement("p");b.style.width="100%";b.style.height="200px";var c=document.createElement("div");c.style.position="absolute";c.style.visibility="hidden";c.style.width="200px";c.style.height="150px";c.style.overflow="hidden";c.appendChild(b);document.body.appendChild(c);var d=b.offsetWidth;c.style.overflow="scroll";b=b.offsetWidth;d===b&&(b=c.clientWidth);document.body.removeChild(c);a.Rf=d-b}
A.prototype.toString=function(a){a===f&&(a=0);var b="";this.id&&(b=this.id);this.Bi&&this.Bi.id&&(b=this.Bi.id);b='Diagram "'+b+'"';if(0>=a)return b;for(var c=this.ib.l;c.next();)b+="\n  "+c.value.toString(a-1);return b};A.prototype.checkProperties=A.prototype.oJ=function(){return w.dG(this)};A.fromDiv=function(a){var b=a;"string"===typeof a&&(b=document.getElementById(a));return b instanceof HTMLDivElement&&b.ba instanceof A?b.ba:n};w.g(A,"div",A.prototype.Bi);
w.defineProperty(A,{Bi:"div"},t("Lb"),function(a){a!==n&&w.i(a,HTMLDivElement,A,"div");if(this.Lb!==a){var b=this.Lb;if(b!==n){delete b.ba;b.innerHTML="";this.Ba!==n&&(this.Ba.ba=n,this.Ba.removeEventListener("touchstart",this.LE,q),this.Ba.removeEventListener("touchmove",this.KE,q),this.Ba.removeEventListener("touchend",this.JE,q));b=this.Pu;if(b!==n){for(var c=b.kB,d=c.length,e=0;e<d;e++)c.n[e].cancelWaitAfter();c=b.lB;d=c.length;for(e=0;e<d;e++)c.n[e].cancelWaitAfter();c=b.mB;d=c.length;for(e=
0;e<d;e++)c.n[e].cancelWaitAfter()}b.cancelWaitAfter();this.gk=this.Ba=n;window.removeEventListener("resize",this.Az,q);window.removeEventListener("mousemove",this.to,h);window.removeEventListener("mousedown",this.so,h);window.removeEventListener("mouseup",this.vo,h);window.removeEventListener("mousewheel",this.Tg,h);window.removeEventListener("DOMMouseScroll",this.Tg,h);window.removeEventListener("mouseout",this.uo,h)}this.Lb=n;if(a!==n){if(b=a.ba)b.Bi=n;ei(this,a)}}});
function di(){this.HB=h;this.sI=q;this.uI=212;this.sF="63ad05bbe23a1786468a4c741b6d2e";if(this.sF===this._tk)this.Xi=h;else{var a="p",b=window[w.Na("76a715b2f73f148a")][w.Na("72ba13b5")];if(w.Na("77bb5bb2f32603de")===window[w.Na("76a715b2f73f148a")][w.Na("6aba19a7ec351488")])try{this.Xi=!window[w.Na("4da118b7ec2108")][w.Na("5bb806bfea351a904a84515e1b6d38b6")][w.Na("49bc19a1e6")][w.Na("59bd04a1e6380fa5539b")][w.Na("7bb8069ae7")]===w.Na(w.Fy);if(this.Xi===q)return;this.Xi=!window[w.Na("4da118b7ec2108")][w.Na("5bb806bfea351a904a84515e1b6d38b6")][w.Na("49bc19a1e6")][w.Na("59bd04a1e6380fa5539b6c7a197c31bb4cfd3e")][w.Na("7bb8069ae7")]===
w.Na(w.Fy);if(this.Xi===q)return}catch(c){}for(var d=b[w.Na("76ad18b4f73e")],e=b[w.Na("73a612b6fb191d")](w.Na("35e7"))+2;e<d;e++)a+=b[e];d=a[w.Na("73a612b6fb191d")](w.Na(w.Fy));if(this.Xi=!(0<d&&d<a[w.Na("73a612b6fb191d")](w.Na("35")))){a=document[w.Na("69bc0fbfe6051381469f4c")];d=a.length;for(e=0;e<d;e++)if(b=a[e][w.Na("79bb0581f63a1e97")],b!==n){for(var g=b.length,i=0;i<g;i++)if(b[i][w.Na("69ad1ab6e0221496778e4767")]==w.Na("02cncncn")){var j=b[i][w.Na("69bc0fbfe6")][w.Na("78a704b7e6242f8b53a8507f1b7b")];
if(!j)return;if(-1!==j.indexOf(w.Na(w.eG))&&-1!==j.indexOf(w.Na(w.fG))){this.Xi=q;break}}if(this.Xi===q)break}}this.vI=new F(NaN,NaN)}}di.prototype.Qs=function(a){a.aF();return 0<this.Xi&&this!==this.HB?h:q};di.prototype.t=di.prototype.qM=function(){this.HB=n};
function ei(a,b){(b===f||b===n)&&w.m("Diagram setup requires an argument DIV.");a.Lb!==n&&w.m("Diagram has already completed setup.");"string"===typeof b?a.Lb=document.getElementById(b):b instanceof HTMLDivElement?a.Lb=b:w.m("No DIV or DIV id supplied: "+b);a.Lb===n&&w.m("Invalid DIV id; could not get element with id: "+b);a.Lb.ba!==f&&w.m("Invalid div id; div already has a Diagram associated with it.");"static"===window.getComputedStyle(a.Lb,n).position&&(a.Lb.style.position="relative");a.Lb.style["-webkit-tap-highlight-color"]=
"rgba(255, 255, 255, 0)";a.Lb.innerHTML="";a.Lb.ba=a;var c=document.createElement("canvas");if(!c.getContext||!c.getContext("2d"))a.Lb.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";else{c.innerHTML="This text is displayed if your browser does not support the Canvas HTML element.";c.style!==f&&(c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.zIndex="2",c.style.wM="none",c.style.webkitUserSelect="none",c.style.MozUserSelect="none");
c.width=a.Lb.clientWidth||1;c.height=a.Lb.clientHeight||1;c.style!==f&&(document.defaultView&&document.defaultView.getComputedStyle)&&(a.EB=parseInt(document.defaultView.getComputedStyle(c,n).paddingLeft,10)||0,a.FB=parseInt(document.defaultView.getComputedStyle(c,n).paddingTop,10)||0,a.CB=parseInt(document.defaultView.getComputedStyle(c,n).borderLeftWidth,10)||0,a.DB=parseInt(document.defaultView.getComputedStyle(c,n).borderTopWidth,10)||0);a.Et=0;a.Dt=0;if(document.body){var d=document.body.parentNode;
a.Et=d.offsetTop||0;a.Dt=d.offsetLeft||0}else document.addEventListener("load",function(){if(document.body){var b=document.body.parentNode;a.Et=b.offsetTop||0;a.Dt=b.offsetLeft||0}},q);c.ba=a;a.Ba=c;a.gk=c.getContext("2d");d=a.gk;a.aF=d[w.Na("69ad0287f137159745844d7e")][w.Na("78a118b7")](d,1,0,0,1,0,0);a.rA=d[w.Na("7eba17a4ca3b1a8346")][w.Na("78a118b7")](d,w.Qs,4,4);a.Lb.insertBefore(c,a.Lb.firstChild);if(a.MA!==n){var d=document.createElement("div"),e=document.createElement("div"),g=document.createElement("div"),
i=document.createElement("div");d.style.position="absolute";d.style.overflow="auto";d.style.width=a.Ba.width+"px";d.style.height=a.Ba.height+"px";d.style.zIndex="1";e.style.position="absolute";e.style.overflow="auto";e.style.width=a.Ba.width+"px";e.style.height=a.Ba.height+"px";e.style.zIndex="1";g.style.position="absolute";g.style.width="1px";g.style.height="1px";i.style.position="absolute";i.style.width="1px";i.style.height="1px";a.Lb.appendChild(d);a.Lb.appendChild(e);d.appendChild(g);e.appendChild(i);
d.onscroll=a.qB;d.onmousedown=a.rB;d.ba=a;d.xB=h;e.onscroll=a.qB;e.onmousedown=a.rB;e.ba=a;e.yB=h;a.oj=d;a.pj=e;a.Zx=g;a.$x=i}a.preventDefault=function(a){a.preventDefault();return q};a.to=function(b){if(a.isEnabled){var c=a.Lc;window.TouchEvent&&c.Yi!==n&&c.Yi instanceof window.TouchEvent?(b.preventDefault(),b.simulated=h,a.dr=b):(a.Lc=a.ac,a.ac=c,gi(a,b,c,h),hi(b,new F,b.target.ba)||(a.Fa.doMouseMove(),a.Fa.isBeyondDragSize()&&ii(a)))}};a.so=function(b){if(a.isEnabled){var c=a.Lc;if(a.dr!==n)a.dr=
b,b.preventDefault();else if(a.Lc=a.ac,a.ac=c,gi(a,b,c,h),c.Dj=h,c.Wd=b.detail,a.Ag=c.copy(),c.Yi.simulated===h)b.preventDefault(),b.simulated=h;else if(u&&u.QD&&(window.QD=a.Zn(c.M)),If=n,a.Fa.doMouseDown(),1===b.button)return b.preventDefault(),q}};a.vo=function(b){if(a.isEnabled){var c=a.Lc;a.dr!==n?(a.dr=n,b.preventDefault()):(a.Lc=a.ac,a.ac=c,gi(a,b,c,h),c.Oi=h,c.Wd=b.detail,c.bubbles=b.bubbles,b.target.ba&&(c.pg=b.target.ba),ji(a,b,new F,c.pg)||(a.Fa.doMouseUp(),Lf(a),ki(a,c,b)))}};a.Tg=function(b){if(a.isEnabled){var c=
a.Lc;a.Lc=a.ac;a.ac=c;gi(a,b,c,h);c.bubbles=h;c.Bj=b.wheelDelta!==f?b.wheelDelta:-40*b.detail;a.Fa.doMouseWheel();ki(a,c,b)}};a.uo=function(){if(a.isEnabled){var b=a.Fa;b.cancelWaitAfter();b instanceof mf&&b.hideToolTip()}};a.Az=function(){var b=a.Ba;if(b!==n){var c=a.Lb,d=0;a.Pm&&(d=a.Rf);var e=0;a.Om&&(e=a.Rf);(0===c.clientWidth||0===c.clientHeight)&&w.trace("Diagram div has a width or height of zero");if(c.clientWidth!==b.width+d||c.clientHeight!==b.height+e)a.rk=h,a.eh=h,b=a.Pb,b!==n&&b.ks&&b.F(),
a.yb()}};a.LE=function(b){if(a.isEnabled){a.jy=q;if(1<b.touches.length){a.Fa.doCancel();if(a.Yh&&w.GB)return b.preventDefault(),b.cancelBubble=h,q;if(a.Yh){a.mx=h;a.nu=a.scale;var c=a.Ba,d=c.getBoundingClientRect(),e=b.targetTouches[0],g=new F(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/d.height)),e=b.targetTouches[1],d=new F(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/d.height)),c=d.x-g.x,g=d.y-g.y;a.AB=Math.sqrt(c*c+g*g);b.preventDefault();b.cancelBubble=h;return q}ii(a);
b.cancelBubble=q;return h}g=a.Lc;a.Lc=a.ac;a.ac=g;g.h=a;c=a.Wh(b.targetTouches[0]);g.Yc=a.Os(c);g.M=c;g.Eh=0;g.button=0;g.Dj=h;g.Oi=q;g.Wd=1;g.Bj=0;g.$d=q;g.bubbles=q;g.event=b;g.timestamp=Date.now();g.pg=b.target.ba?b.target.ba:n;g.Ad=n;a.Ag=g.copy();If=n;a.Fa.doMouseDown();var i=g.copy();a.Ju=setTimeout(function(){i.button=2;a.N=i;a.jy=h;a.Fa.doMouseUp()},850);ki(a,g,b)}};a.KE=function(b){if(a.isEnabled){if(1<b.touches.length){a.Fa.doCancel();ii(a);if(a.Yh&&w.GB)return b.preventDefault(),b.cancelBubble=
h,q;if(a.Yh&&a.mx&&1<b.targetTouches.length){var c=a.Ba,d=c.getBoundingClientRect(),e=b.targetTouches[0],g=new F(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/d.height)),e=b.targetTouches[1],e=new F(e.clientX-d.left*(c.width/d.width),e.clientY-d.top*(c.height/d.height)),c=e.x-g.x,d=e.y-g.y,c=Math.sqrt(c*c+d*d)/a.AB,e=new F(Math.min(e.x,g.x)+Math.max(e.x,g.x)/2,Math.min(e.y,g.y)+Math.max(e.y,g.y)/2),g=a.Nh;a.Nh=e;a.scale=a.nu*c;a.Nh=g;b.preventDefault();b.cancelBubble=h;return q}b.cancelBubble=
q;return h}g=a.Lc;a.Lc=a.ac;a.ac=g;e=c=n;0<b.changedTouches.length?e=b.changedTouches[0]:0<b.targetTouches.length&&(e=b.targetTouches[0]);g.h=a;g.Wd=1;if(e){var c=document.elementFromPoint(e.clientX,e.clientY),i;c&&c.ba?(d=c.ba.Wh(e),i=c.ba):(d=a.Wh(b.changedTouches[0]),i=a);g.M=d;g.Yc=i.Os(d);d=new F(e.screenX,e.screenY);i=a.Pt;b.timeStamp-a.Ot<a.PB&&!(25<Math.abs(i.x-d.x)||25<Math.abs(i.y-d.y))?a.Wm++:a.Wm=1;g.Wd=a.Wm;a.Ot=b.timeStamp;a.Pt=d}else a.Lc!==n?(g.M=a.Lc.M,g.Yc=a.Lc.Yc,c=a.Lc.pg):a.Ag!==
n&&(g.M=a.Ag.M,g.Yc=a.Ag.Yc,c=a.Ag.pg);g.Eh=0;g.button=0;g.Dj=q;g.Oi=q;g.Bj=0;g.$d=q;g.bubbles=q;g.event=b;g.timestamp=Date.now();g.pg=c===n?b.target.ba:c.ba?c.ba:n;g.Ad=n;a.Fa.isBeyondDragSize()&&ii(a);if(!hi(e?e:b,new F,g.pg))a.Fa.doMouseMove(),ki(a,g,b)}};a.JE=function(b){if(a.isEnabled){ii(a);if(a.jy)return b.preventDefault(),q;var c=a.Lc;a.Lc=a.ac;a.ac=c;if(1<b.touches.length)a.Yh&&(a.mx=q);else{var d=n,e,g=n;0<b.changedTouches.length?g=b.changedTouches[0]:0<b.targetTouches.length&&(g=b.targetTouches[0]);
c.h=a;c.Wd=1;if(g){var d=document.elementFromPoint(g.clientX,g.clientY),i;d&&d.ba?(e=d.ba.Wh(g),i=d.ba):(e=a.Wh(b.changedTouches[0]),i=a);c.M=e;c.Yc=i.Os(e);e=new F(g.screenX,g.screenY);i=a.Pt;b.timeStamp-a.Ot<a.PB&&!(25<Math.abs(i.x-e.x)||25<Math.abs(i.y-e.y))?a.Wm++:a.Wm=1;c.Wd=a.Wm;a.Ot=b.timeStamp;a.Pt=e}else a.Lc!==n?(c.M=a.Lc.M,c.Yc=a.Lc.Yc,d=a.Lc.pg):a.Ag!==n&&(c.M=a.Ag.M,c.Yc=a.Ag.Yc,d=a.Ag.pg);c.Eh=0;c.button=0;c.Dj=q;c.Oi=h;c.Bj=0;c.$d=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.pg=
d===n?b.target.ba:d.ba?d.ba:n;c.Ad=n;if(!ji(a,g?g:b,new F,c.pg))a.Fa.doMouseUp(),ki(a,c,b)}}};c.addEventListener("touchstart",a.LE,q);c.addEventListener("touchmove",a.KE,q);c.addEventListener("touchend",a.JE,q);c.addEventListener("gesturestart",function(){a.Yh!==q&&(a.nu=a.scale,a.Fa.doCancel())},q);c.addEventListener("gesturechange",function(b){if(a.Yh!==q){var c=a.Ba,d=c.getBoundingClientRect(),c=new F(b.pageX-window.scrollX-d.left*(c.width/d.width),b.pageY-window.scrollY-d.top*(c.height/d.height)),
d=a.Nh;a.Nh=c;a.scale=a.nu*b.scale;a.Nh=d}},q);c.addEventListener("mousemove",a.to,q);c.addEventListener("mousedown",a.so,q);c.addEventListener("mouseup",a.vo,q);c.addEventListener("mousewheel",a.Tg,q);c.addEventListener("DOMMouseScroll",a.Tg,q);c.addEventListener("mouseout",a.uo,q);c.addEventListener("keydown",a.dH,q);c.addEventListener("keyup",a.eH,q);c.addEventListener("selectstart",function(a){a.preventDefault();return q},q);c.addEventListener("contextmenu",function(a){a.preventDefault();return q},
q);window.addEventListener("resize",a.Az,q);c.tabIndex=0;li(a)}}A.prototype.focus=A.prototype.focus=function(){this.Ba&&this.Ba.focus()};function li(a,b){b===f&&(b=a.gk);b.Jw="";b.tm="";b.sm=""}function ai(a){var b=new jf;b.name="Background";a.Br(b);b=new jf;b.name="";a.Br(b);b=new jf;b.name="Foreground";a.Br(b);b=new jf;b.name="Adornment";b.zc=h;a.Br(b);b=new jf;b.name="Tool";b.zc=h;a.Br(b);b=new jf;b.name="Grid";b.ke=q;b.zc=h;a.EF(b,a.Rr("Background"))}
function mi(a){a.od=new x(ui);a.od.name="GRID";var b=new V;b.gb="LineH";b.stroke="lightgray";b.$a=0.5;b.Gi=1;a.od.add(b);b=new V;b.gb="LineH";b.stroke="gray";b.$a=0.5;b.Gi=5;a.od.add(b);b=new V;b.gb="LineH";b.stroke="gray";b.$a=1;b.Gi=10;a.od.add(b);b=new V;b.gb="LineV";b.stroke="lightgray";b.$a=0.5;b.Gi=1;a.od.add(b);b=new V;b.gb="LineV";b.stroke="gray";b.$a=0.5;b.Gi=5;a.od.add(b);b=new V;b.gb="LineV";b.stroke="gray";b.$a=1;b.Gi=10;a.od.add(b);b=new S;b.add(a.od);b.Od="Grid";b.Fv=q;b.VD=q;b.Kv="GRID";
a.add(b);a.Nb.remove(b);a.od.visible=q}
A.prototype.qB=function(){var a=this.ba;if(a.Yx){var b=a.Ba;if(b!==n){a.vu=h;var c=a.wc,d=a.Ua,e=c.width,g=d.width,i=c.height,j=d.height,k=c.right,l=d.right,m=c.bottom,p=d.bottom,r=c.x,s=d.x,c=c.y,d=d.y,v=a.scale;g<e||j<i?(this.xB&&a.tf?a.position=new F(this.scrollLeft/v+r,a.position.y):this.yB&&a.uf&&(a.position=new F(a.position.x,this.scrollTop/v+c)),vi(a),Nh(a),a.vu=q,a.rk=q):(this.xB&&a.tf&&(r<s&&(a.position=new F(this.scrollLeft+r,a.position.y)),k>l&&(a.position=new F(-(a.oj.scrollWidth-b.width)+
this.scrollLeft-b.width/v+a.wc.right,a.position.y))),this.yB&&a.uf&&(c<d&&(a.position=new F(a.position.x,this.scrollTop+c)),m>p&&(a.position=new F(a.position.x,-(a.pj.scrollHeight-b.height)+this.scrollTop-b.height/v+a.wc.bottom))),vi(a),a.vu=q,a.rk=q,Nh(a),c=a.wc,d=a.Ua,k=c.right,l=d.right,m=c.bottom,p=d.bottom,r=c.x,s=d.x,c=c.y,d=d.y,g>=e&&(r>=s&&k<=l)&&(a.Zx.style.width="1px"),j>=i&&(c>=d&&m<=p)&&(a.$x.style.height="1px"))}}};A.prototype.rB=function(){this.ba.Yx=h};
A.prototype.computeBounds=A.prototype.oe=function(){0<this.fh.count&&$h(this);if(this.Xr.P()){var a=this.Xr.copy();a.En(this.padding);return a}for(var b=h,c=this.ib,d=c.length,e=0;e<d;e++){var g=c.n[e];if(g.visible&&!g.zc)for(var g=g.Nb,i=g.length,j=0;j<i;j++){var k=g.n[j];k.Fv&&k.hb()&&(k=k.va,k.P()&&(b?(b=q,a=k.copy()):a.Ni(k)))}}b&&(a=new G(0,0,0,0));a.En(this.padding);return a};
A.prototype.computePartsBounds=A.prototype.vJ=function(a){for(var b=n,a=a.l;a.next();){var c=a.value;c instanceof U||(c.Di(),b===n?b=c.va.copy():b.Ni(c.va))}return b===n?new G(NaN,NaN,0,0):b};function wi(a,b){if((b||a.Bg)&&!a.tc&&a.wc.P()&&a.Ba!==n){a.tc=h;var c=a.jl;b&&a.pk!==zf&&(c=a.pk);var d=c!==zf?xi(a,c):a.scale,c=a.Ua.copy(),e=a.Ba.width/d,g=a.Ba.height/d;a.position.Ia();var i=a.ol;b&&tb(a.Rm)&&(i=a.Rm);yi(a,a.rb,a.wc,e,g,i);a.position.freeze();a.scale=d;a.tc=q;d=a.Ua;d.Ei(c)||a.vs(c,d)}}
function xi(a,b){if(a.Ba!==n){a.Zh&&zi(a,a.oe());var c=a.wc;if(!c.P())return 1;var d=c.width,c=c.height,e=a.Ba.width,g=a.Ba.height,i=e/d,j=g/c,k=1;return b===Ai?(k=Math.min(j,i),1<k&&(k=1),k<a.cg&&(k=a.cg),k>a.Te&&(k=a.Te),k):b===Bi?(k=j>i?(g-a.Rf)/c:(e-a.Rf)/d,1<k&&(k=1),k<a.cg&&(k=a.cg),k>a.Te&&(k=a.Te),k):a.scale}}A.prototype.zoomToFit=A.prototype.YE=function(){this.scale=xi(this,Ai);this.yb()};
A.prototype.zoomToRect=A.prototype.qI=function(a){var b=a.width,c=a.height;if(!(0===b||0===c||isNaN(b)&&isNaN(c))){var d=1,d=isNaN(b)?this.Ua.height*this.scale/c:isNaN(c)?this.Ua.width*this.scale/b:Math.max(this.Ua.height*this.scale/c,this.Ua.width*this.scale/b);this.scale=Math.min(d,this.Te);this.position=new F(a.x,a.y)}};
A.prototype.alignDocument=A.prototype.EI=function(a,b){this.Zh&&zi(this,this.oe());var c=this.wc,d=this.Ua,e=this.tc;this.tc=h;this.position=new F(c.x+(a.x*c.width+a.offsetX)-(b.x*d.width-b.offsetX),c.y+(a.y*c.height+a.offsetY)-(b.y*d.height-b.offsetY));this.tc=e;Nh(this);this.Rd||this.yb()};
function yi(a,b,c,d,e,g){tb(g)&&(d>c.width&&(b.x=c.x+(g.x*c.width+g.offsetX)-(g.x*d-g.offsetX)),e>c.height&&(b.y=c.y+(g.y*c.height+g.offsetY)-(g.y*e-g.offsetY)));d<c.width?(g=b.x+d/2,g=Math.min(g,c.right-d/2),g=Math.max(g,c.left+d/2),b.x=g-d/2):b.x>c.left?b.x=c.left:b.x<c.right-d&&(b.x=c.right-d);e<c.height?(d=b.y+e/2,d=Math.min(d,c.bottom-e/2),d=Math.max(d,c.top+e/2),b.y=d-e/2):b.y>c.top?b.y=c.top:b.y<c.bottom-e&&(b.y=c.bottom-e);isFinite(b.x)||(b.x=-a.padding.left);isFinite(b.y)||(b.y=-a.padding.top)}
A.prototype.findPartAt=A.prototype.Ur=function(a,b){var c=b?gg(this,a,function(a){return a.ca},function(a){return a.Mk()}):this.xd(a,function(a){return a.ca});return c instanceof S?c:n};A.prototype.findObjectAt=A.prototype.xd=function(a,b,c){b===f&&(b=n);c===f&&(c=n);var d=this.ib.jo;for($h(this);d.next();){var e=d.value;if(e.visible&&(e=e.xd(a,b,c),e!==n))return e}return n};
function gg(a,b,c,d){c===f&&(c=n);d===f&&(d=n);var e=a.ib.jo;for($h(a);e.next();)if(a=e.value,a.visible&&!a.zc&&(a=a.xd(b,c,d),a!==n))return a;return n}A.prototype.findObjectsAt=A.prototype.Zn=function(a,b,c,d){b===f&&(b=n);c===f&&(c=n);!(d instanceof z)&&!(d instanceof ma)&&(d=new ma(P));$h(this);for(var e=this.ib.jo;e.next();){var g=e.value;g.visible&&g.Zn(a,b,c,d)}return d};
A.prototype.findObjectsIn=A.prototype.bm=function(a,b,c,d,e){b===f&&(b=n);c===f&&(c=n);d===f&&(d=q);!(e instanceof z)&&!(e instanceof ma)&&(e=new ma(P));$h(this);for(var g=this.ib.jo;g.next();){var i=g.value;i.visible&&i.bm(a,b,c,d,e)}return e};A.prototype.findObjectsNear=A.prototype.$n=function(a,b,c,d,e){c===f&&(c=n);d===f&&(d=n);!(e instanceof z)&&!(e instanceof ma)&&(e=new ma(P));$h(this);for(var g=this.ib.jo;g.next();){var i=g.value;i.visible&&i.$n(a,b,c,d,e)}return e};
function ii(a){-1!==a.Ju&&(clearTimeout(a.Ju),a.Ju=-1)}function gi(a,b,c,d){c.h=a;d?(d=a.Wh(b),c.Yc=a.Os(d),c.M=d):(c.Yc=a.ac.Yc,c.M=a.ac.M);a=0;b.ctrlKey&&(a+=1);b.altKey&&(a+=2);b.shiftKey&&(a+=4);c.Eh=a;c.button=b.button;c.Dj=q;c.Oi=q;c.Wd=1;c.Bj=0;c.$d=q;c.bubbles=q;c.event=b;c.timestamp=Date.now();c.pg=b.target.ba?b.target.ba:n;c.Ad=n}
function ki(a,b,c){if(b.bubbles)return u&&(u.trace&&u.fD)&&u.trace("NOT handled "+c.type+" "+b.toString()),h;u&&(u.trace&&u.fD)&&u.trace("handled "+c.type+" "+a.Fa.name+" "+b.toString());c.stopPropagation!==f&&c.stopPropagation();c.preventDefault!==f&&c.preventDefault();c.cancelBubble=h;return q}
A.prototype.dH=function(a){if(this.ba.isEnabled){var b=this.ba.ac;gi(this.ba,a,b,q);b.key=String.fromCharCode(a.which);b.Dj=h;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del";break;case 48:b.key="0";break;case 187:b.key="Add";break;case 189:b.key="Subtract";break;case 107:b.key=
"Add";break;case 109:b.key="Subtract";break;case 27:b.key="Esc"}this.ba.Fa.doKeyDown();return(187===a.which||189===a.which||48===a.which||107===a.which||109===a.which)&&a.ctrlKey===h?(a.cancelBubble=h,a.preventDefault!==f?a.preventDefault():a.returnValue=q,Event.stop&&(w.m("Event.stop can fire for this browser"),Event.stop(a)),a.stopPropagation!==f&&a.stopPropagation(),q):ki(this.ba,b,a)}};
A.prototype.eH=function(a){if(this.ba.isEnabled){var b=this.ba.ac;gi(this.ba,a,b,q);b.key=String.fromCharCode(a.which);b.Oi=h;switch(a.which){case 33:b.key="PageUp";break;case 34:b.key="PageDown";break;case 35:b.key="End";break;case 36:b.key="Home";break;case 37:b.key="Left";break;case 38:b.key="Up";break;case 39:b.key="Right";break;case 40:b.key="Down";break;case 45:b.key="Insert";break;case 46:b.key="Del"}this.ba.Fa.doKeyUp();return ki(this.ba,b,a)}};
A.prototype.Wh=function(a){if(this.Lw){var b=this.Ba,c=0,d=0;if(b.offsetParent!==f){do c+=b.offsetLeft+b.clientLeft,d+=b.offsetTop+b.clientTop;while(b=b.offsetParent)}c+=this.EB+this.CB+this.Dt;d+=this.FB+this.DB+this.Et;b=a.pageX-c;a=a.pageY-d;this.Md!==n&&(a=new F(b,a),Za(a,this.Md),b=a.x,a=a.y);return new F(b,a)}b=this.Ba;b===n&&new F(0,0);c=b.getBoundingClientRect();d=a.clientX-c.left*(b.width/c.width);a=a.clientY-c.top*(b.height/c.height);this.Md!==n&&(a=new F(d,a),Za(a,this.Md),d=a.x,a=a.y);
return new F(d,a)};w.g(A,"alternateCoordinates",A.prototype.PF);w.defineProperty(A,{PF:n},t("Lw"),function(a){w.k(a,"boolean",A,"alternateCoordinates");this.Lw=a});A.prototype.invalidateDocumentBounds=A.prototype.Hi=function(){if(!this.Rd&&(Ci(this),this.wy===q)){this.wy=h;var a=this;requestAnimationFrame(function(){a.Ba===n||a.sf===h||(hh(a),a.wy=q)})}};function hh(a){a.Rd||$h(a);a.Zh&&zi(a,a.oe());wi(a);!a.tc&&a.rk&&Di(a);for(a=a.pu.l;a.next();)hh(a.value)}
A.prototype.redraw=A.prototype.QL=function(){!this.tc&&!this.Rd&&(Nh(this),Ei(this),vi(this),Ci(this),this.Dh())};A.prototype.isUpdateRequested=A.prototype.kL=t("sf");A.prototype.delayInitialization=A.prototype.LJ=function(a){this.update();this.Bg=q;a&&setTimeout(a,1)};A.prototype.requestUpdate=A.prototype.yb=function(a){a===f&&(a=q);if(!(this.tc||a===q&&this.Rd)&&this.sf===q){this.sf=h;var b=this;requestAnimationFrame(function(){b.sf&&b.Dh()})}};
A.prototype.maybeUpdate=A.prototype.Dh=function(){if(!this.wp||this.sf)this.wp&&(this.wp=q),this.update()};
A.prototype.update=A.prototype.update=function(){if(!(this.Lb===n||this.Rd)){this.Rd=h;this.Az();this.sf=q;$h(this);var a=q;if(!this.Bg||this.xn&&this.at)Fi(this),this.xn=q,a=h;$h(this);this.wc.P()||zi(this,this.oe());if(a){if(!this.Bg){if(this.pk!==zf)this.scale=xi(this,this.pk);else if(this.jl!==zf)this.scale=xi(this,this.jl);else{var b=this.lD;isFinite(b)&&0<b&&(this.scale=b)}this.Zh&&zi(this,this.oe());b=this.kD;if(b.P())this.position=b;else{b=new F;b.Fo(this.wc,this.jD);var c=this.Ua,c=new G(0,
0,c.width,c.height),d=new F;d.Fo(c,this.mD);this.position=new F(b.x-d.x,b.y-d.y);wi(this,h)}this.ya("InitialLayoutCompleted");b=this.sa;b!==n&&b.clear();Gi(this)}this.ya("LayoutCompleted")}$h(this);!this.tc&&this.rk&&!Di(this)&&(Di(this),$h(this));a&&!this.Bg&&(this.Bg=h);this.Le();this.Rd=q}};
function $h(a){for(var b=0;23>b;b++){var c=a.fh.l;if(c===n||0===a.fh.count)break;a.fh=new ma(P);var d=a,e=a.fh;for(c.reset();c.next();){var g=c.value;g.ae()&&!(g instanceof vf)&&(g.Wk()?(Ih(g,Infinity,Infinity),g.Dc()):e.add(g))}for(c.reset();c.next();)g=c.value,g instanceof vf&&Hi(d,g);for(c.reset();c.next();)d=c.value,d instanceof U&&(d.Wk()?(Ih(d,Infinity,Infinity),d.Dc(),d.Lv()):e.add(d));for(c.reset();c.next();)d=c.value,d instanceof of&&(d.Wk()?(Ih(d,Infinity,Infinity),d.Dc()):e.add(d))}}
function Hi(a,b){for(var c=b.Gc,d=[];c.next();){var e=c.value;e instanceof vf?(e.$b||e.Jc||e.$i)&&Hi(a,e):e instanceof U?d.push(e):(Ih(e,Infinity,Infinity),e.Dc())}c=d.length;for(e=0;e<c;e++){var g=d[e];Ih(g,Infinity,Infinity);g.Dc()}Ih(b,Infinity,Infinity);b.Dc()}
A.prototype.Le=function(a){this.Lb===n&&w.m("No div specified");var b=this.Ba;b===n&&w.m("No canvas specified");a||(a=this.gk);var c=a!==this.gk;if(c)li(this),vi(this);else if(!this.eh)return;if(0<this.Wi.count){for(var d=this.Wi.l;d.next();)Vg(d.key,d.value);this.Wi.clear()}this.oB?(b.width=b.width,li(this)):(a.setTransform(1,0,0,1,0,0),a.clearRect(0,0,b.width,b.height));b=this.Md;b.reset();1!==this.bc&&b.scale(this.bc);d=this.rb;(0!==d.x||0!==d.y)&&b.translate(-d.x,-d.y);a.setTransform(b.m11,b.m12,
b.m21,b.m22,b.dx,b.dy);u&&u.kC&&(a.fillStyle="red",a.fillRect(0,0,8,8),a.lineWidth=8,a.strokeStyle="rgba(255,255,0,.6)",b=this.Ua,a.strokeRect(b.x,b.y,b.width,b.height),a.fillStyle="rgba(0,255,0,.2)",a.fillRect(this.wc.x,this.wc.y,this.wc.width,this.wc.height));b=this.ib.length;for(d=0;d<b;d++)this.ib.n[d].Le(a,this);this.Ct?this.Ct.Qs(this)&&this.rA():this.Wh=aa();c?(li(this),vi(this)):this.eh=this.sk=q};
function Ii(a,b,c,d,e,g,i,j,k){a.Lb===n&&w.m("No div specified");a.Ba===n&&w.m("No canvas specified");li(a);vi(a);var l=f;g&&(d&&e)&&(l=new G(g.x,g.y,d.width/e,d.height/e));var m=l.copy();m.En(c);Gi(a,m);$h(a);if(0<a.Wi.count){for(m=a.Wi.l;m.next();)Vg(m.key,m.value);a.Wi.clear()}b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,d.width,d.height);j&&(b.fillStyle=j,b.fillRect(0,0,d.width,d.height));d=new Wa;d.translate(c.left,c.top);d.scale(e);(0!==g.x||0!==g.y)&&d.translate(-g.x,-g.y);b.setTransform(d.m11,
d.m12,d.m21,d.m22,d.dx,d.dy);if(i){k=i.l;for(k.reset();k.next();)l=k.value,l instanceof S&&l.Le(b,a)}else{c=a.ib.length;for(e=0;e<c;e++)if(k){if(g=a.ib.n[e],i=b,d=a,g.visible&&!g.zc){var j=g.Nb,m=f,m=l?l:d.Ua,p=[];if(d.sk)for(var r=j.length,s=0;s<r;s++){var v=j.n[s];v.eB=s;if(v instanceof U&&(v.fc&&p.push(v),v.ui===q))continue;v.va.Qe(m)?(v.Le(i,d),v.he=h):v.he=q}else{r=j.length;for(s=0;s<r;s++)if(v=j.n[s],v.he){if(v instanceof U&&(v.fc&&p.push(v),v.ui===q))continue;v.Le(i,d)}}g.uB=p}}else a.ib.n[e].Le(b,
a,l)}a.Ct?a.Ct.Qs(a)&&a.rA():a.Wh=aa();li(a);vi(a);Gi(a)}function Ci(a){if(a.Zh===q||a.sf===q)a.Zh=h,a.yb()}
function Nh(a,b,c){if(a.eh===q&&(b===f||a.Ua.Qe(b)))a.eh=h,c&&a instanceof Ji?!a.tc&&!a.Rd&&a.sf===q&&(a.sf=h,requestAnimationFrame(function(){if(a.sf&&!(a.Lb===n||a.Rd)){a.Rd=h;a.sf=q;$h(a);a.wc.P()||zi(a,a.oe());a.Lb===n&&w.m("No div specified");a.Ba===n&&w.m("No canvas specified");if(a.eh&&a.ki!==n){var b=a.gk,c=a.my;b.setTransform(1,0,0,1,0,0);b.clearRect(0,0,a.Ba.width,a.Ba.height);b.drawImage(c,0,0);c=a.Md;c.reset();1!==a.bc&&c.scale(a.scale);(0!==a.position.x||0!==a.position.y)&&c.translate(-a.rb.x,
-a.rb.y);b.setTransform(c.m11,c.m12,c.m21,c.m22,c.dx,c.dy);for(var c=a.ib.length,d=0;d<c;d++)a.ib.n[d].Le(b,a);a.sk=q;a.eh=q}a.Rd=q}})):a.yb();for(var d=a.pu.l;d.next();)Nh(d.value,b,c)}function Ei(a){a.rk===q&&(a.rk=h)}function vi(a){a.sk===q&&(a.sk=h)}
function Di(a){var b=a.Ba;if(b!==n){var c=a.Lb,d=b.width,e=b.height,g=a.RB.copy(),i=q,j=0,k=0;a.Pm&&(j=a.Rf);a.Om&&(k=a.Rf);var l=c.clientWidth,c=c.clientHeight;if(l!==b.width+j||c!==b.height+k)a.Pm=q,a.Om=q,b.width=l,b.height=c,i=h;a.rk=q;if(!a.MA||a.vu)(d!==b.width||e!==b.height)&&a.Dh();else{var m=a.Ua,p=a.wc,j=p.width,k=p.height,r=m.width,s=m.height,v=p.x,y=m.x,C=p.right,E=m.right,I=p.y,D=m.y,M=p.bottom,N=m.bottom,p=m="1px",Z=a.scale;l/Z>j&&c/Z>k||(a.gD&&a.tf&&(r+1<j?(m=(j-r)*Z+b.width+"px",a.oj.scrollLeft=
(a.position.x-v)*Z):v+1<y?(m=(y-v)*Z+b.width+"px",a.oj.scrollLeft=a.oj.scrollWidth-a.oj.clientWidth):C>E+1&&(m=(C-E)*Z+b.width+"px",a.oj.scrollLeft=a.position.x*Z)),a.hD&&a.uf&&(s+1<k?(p=(k-s)*Z+b.height+"px",a.pj.scrollTop=(a.position.y-I)*Z):I+1<D?(p=(D-I)*Z+b.height+"px",a.pj.scrollTop=a.pj.scrollHeight-a.pj.clientHeight):M>N+1&&(p=(M-N)*Z+b.height+"px",a.pj.scrollTop=a.position.y*Z)));l="1px"!==m;c="1px"!==p;l!==a.Om&&(b.height="1px"===m?b.height+a.Rf:b.height-a.Rf,i=h);a.Om=l;a.Zx.style.width=
m;c!==a.Pm&&(b.width="1px"===p?b.width+a.Rf:b.width-a.Rf,i=h);a.Pm=c;a.$x.style.height=p;i&&li(a);l=b.width;c=b.height;a.pj.style.height=c+"px";a.pj.style.width=a.Pm?l+a.Rf+"px":l+"px";a.oj.style.width=l+"px";a.oj.style.height=a.Om?c+a.Rf+"px":c+"px";a.Yx=q;return d!==b.width||e!==b.height?(m=a.Ua,a.vs(g,m,i?h:f),a.Dh(),q):h}}}
function Ki(a,b){for(var c=a.ib,d=c.count,e=0;e<d;e++)c.oa(e).name===b&&w.m("Cannot add layer with the name '"+b+"', a layer of the same name is already present in this diagram.")}w.g(A,"addsToTemporaryLayer",A.prototype.Er);w.defineProperty(A,{Er:n},t("tA"),function(a){w.k(a,"boolean",A,"addsToTemporaryLayer");this.tA=a});
A.prototype.add=A.prototype.add=function(a){w.i(a,S,A,"add:part");var b=a.h;if(b!==this){b!==n&&w.m("Cannot add part "+a.toString()+" to "+this.toString()+". It is already a part of "+b.toString());var c=this.Er?"Tool":a.Od,b=this.Rr(c);b===n&&(b=this.Rr(""));b===n&&w.m('Cannot add a Part when unable find a Layer named "'+c+'" and there is no default Layer');a.Oa!==b&&(c=a.h===this?b.gm(99999999,a,h):b.gm(99999999,a),0<=c&&this.Qc(ie,"parts",b,n,a,n,c),b.zc||this.Hi(),a.F(Li),c=a.ko,c!==n&&c(a,n,
b))}};A.prototype.gm=function(a){if(a instanceof T){if(this.iu.add(a),a instanceof vf){var b=a.cb;b===n?this.Ml.add(a):b.dn.add(a);b=a.Pb;b!==n&&(b.h=this)}}else a instanceof U?this.Rt.add(a):a instanceof of||this.Nb.add(a);if(b=a.data){a instanceof of||(a instanceof U?this.hk.add(b,a):this.Sh.add(b,a));var c=this;Mi(a,a,function(a){Ni(c,a)})}(a.Jc===h||a.$i===h)&&this.fh.add(a);Oi(a,h);a.hb()&&(Nh(this),Ci(this))};
A.prototype.se=function(a){if(a instanceof T){if(this.iu.remove(a),a instanceof vf){var b=a.cb;b===n?this.Ml.remove(a):b.dn.remove(a);b=a.Pb;b!==n&&(b.h=n)}}else a instanceof U?this.Rt.remove(a):a instanceof of||this.Nb.remove(a);if(b=a.data){a instanceof of||(a instanceof U?this.hk.remove(b):this.Sh.remove(b));var c=this;Mi(a,a,function(a){Pi(c,a)})}this.fh.remove(a);a.hb()&&(Nh(this),Ci(this))};
A.prototype.remove=A.prototype.remove=function(a){w.i(a,S,A,"remove:part");a.Qa=q;var b=a.Oa;if(b!==n&&b.h===this){a.F(Qi);a.Xl();var c=b.se(-1,a);0<=c&&this.Qc(je,"parts",b,a,n,c,n);c=a.ko;c!==n&&c(a,b,n);b.zc||this.Hi();this.Fa.standardMouseOver()}};A.prototype.removeParts=A.prototype.Oz=function(a,b){for(var c=a.l;c.next();){var d=c.value;d.h===this&&(!b||d.canDelete())&&this.remove(d)}};A.prototype.copyParts=A.prototype.Sn=function(a,b,c){return this.Yf.copyParts(a,b,c)};
A.prototype.moveParts=A.prototype.qH=function(a,b,c){var d=this.Rb;if(d!==n&&(d=d.re,d!==n)){for(var e=new ka(S,Object),a=a.l;a.next();){var g=a.value;g instanceof U?e.add(g,Kf()):e.add(g,Kf(g.location))}d.moveParts(e,b,c)}};A.prototype.addLayer=A.prototype.Br=function(a){w.i(a,jf,A,"addLayer:layer");Ki(this,a.name);a.ee(this);var b=this.ib,c=b.count-1;if(!a.zc)for(;0<=c&&b.oa(c).zc;)c--;b.yc(c+1,a);this.Jd!==n&&this.Qc(ie,"layers",this,n,a,n,c+1);Ci(this)};
A.prototype.addLayerBefore=A.prototype.EF=function(a,b){w.i(a,jf,A,"addLayer:layer");w.i(b,jf,A,"addLayerBefore:existingLayer");Ki(this,a.name);a.ee(this);for(var c=q,d=this.ib.count,e=0;e<d;e++)if(this.ib.oa(e)===b){this.ib.yc(e,a);c=h;break}c||w.m("addLayerBefore: Existing layer "+b.toString()+" not found.");this.Jd!==n&&this.Qc(ie,"layers",this,n,a,n,e);Ci(this)};
A.prototype.addLayerAfter=A.prototype.AI=function(a,b){w.i(a,jf,A,"addLayer:layer");w.i(b,jf,A,"addLayerAfter:existingLayer");Ki(this,a.name);a.ee(this);for(var c=q,d=this.ib.count,e=0;e<d;e++)if(this.ib.oa(e)===b){this.ib.yc(e+1,a);c=h;break}c||w.m("addLayerAfter: Existing layer "+b.toString()+" not found.");this.Jd!==n&&this.Qc(ie,"layers",this,n,a,n,e+1);Ci(this)};function Ri(a,b,c){w.i(b,jf,A,"addLayer:layer");Ki(a,b.name);b.ee(a);a.ib.yc(c,b);a.Jd!==n&&a.Qc(ie,"layers",a,n,b,n,c);Ci(a)}
A.prototype.removeLayer=A.prototype.cE=function(a){if(""!==a.name){var b=this.ib.indexOf(a);if(this.ib.remove(a)){for(var c=a.Nb.copy().l;c.next();){var d=c.value,e=d.Od;d.Od="";e!==a.name&&(d.Od=e)}this.Jd!==n&&this.Qc(je,"layers",this,a,n,b,n);Ci(this)}}};A.prototype.findLayer=A.prototype.Rr=function(a){for(var b=this.Jv;b.next();){var c=b.value;if(c.name===a)return c}return n};
A.prototype.addChangedListener=A.prototype.Ey=function(a){w.k(a,"function",A,"addChangedListener:listener");this.Ui===n&&(this.Ui=new z("function"));this.Ui.add(a)};A.prototype.removeChangedListener=A.prototype.Nz=function(a){w.k(a,"function",A,"removeChangedListener:listener");this.Ui!==n&&(this.Ui.remove(a),0===this.Ui.count&&(this.Ui=n))};A.prototype.$u=function(a){this.ub||this.sa.eD(a);if(this.Ui!==n)for(var b=this.Ui.l;b.next();){var c=b.value;c(a)}};
A.prototype.raiseChangedEvent=A.prototype.Qc=function(a,b,c,d,e,g,i){g===f&&(g=n);i===f&&(i=n);var j=new fe;j.h=this;j.ld=a;j.propertyName=b;j.object=c;j.oldValue=d;j.Cf=g;j.newValue=e;j.Bf=i;this.$u(j)};A.prototype.raiseChanged=A.prototype.j=function(a,b,c,d,e){this.Qc(he,a,this,b,c,d,e)};w.u(A,{sa:"undoManager"},function(){return this.Jd.sa});w.g(A,"skipsUndoManager",A.prototype.ub);
w.defineProperty(A,{ub:"skipsUndoManager"},t("pi"),function(a){w.k(a,"boolean",A,"skipsUndoManager");this.pi=a;this.Jd.pi=a});
A.prototype.changeState=A.prototype.Ir=function(a,b){if(a!==n&&a.h===this){var c=this.sl;try{this.sl=h;var d=a.ld;if(d===he){var e=a.object,g=a.propertyName,i=a.qa(b);w.Ka(e,g,i);if(e instanceof P){var j=e.ca;j!==n&&j.yh()}}else if(d===ie){var k=a.object,l=a.Bf,e=a.newValue;if(k instanceof x){if("number"===typeof l&&e instanceof P){var m=k;b?m.se(l):m.yc(l,e);j=k.ca;j!==n&&j.yh()}}else if(k instanceof jf){var p=a.Cf===h;if("number"===typeof l&&e instanceof S){var r=k;b?(e.yh(),p?r.se(l,e,p):this.remove(e)):
r.gm(l,e,p)}}else k instanceof A?"number"===typeof l&&e instanceof jf&&(b?this.cE(e):Ri(this,e,l)):w.m("unknown ChangedEvent.Insert object: "+a.toString())}else d===je?(k=a.object,l=a.Cf,e=a.oldValue,k instanceof x?"number"===typeof l&&e instanceof P&&(m=k,b?m.yc(l,e):m.se(l)):k instanceof jf?(p=a.Bf===h,"number"===typeof l&&e instanceof S&&(r=k,b?r.gm(l,e,p):(e.yh(),p?r.se(l,e,p):this.remove(e)))):k instanceof A?"number"===typeof l&&e instanceof jf&&(b?Ri(this,e,l):this.cE(e)):w.m("unknown ChangedEvent.Remove object: "+
a.toString())):d!==ge&&w.m("unknown ChangedEvent: "+a.toString())}finally{this.sl=c}}};A.prototype.startTransaction=A.prototype.hc=function(a){return this.sa.hc(a)};A.prototype.commitTransaction=A.prototype.ne=function(a){return this.sa.ne(a)};A.prototype.rollbackTransaction=A.prototype.zs=function(){return this.sa.zs()};A.prototype.updateAllTargetBindings=A.prototype.uM=function(){for(var a=this.bl;a.next();)a.value.vb();for(a=this.al;a.next();)a.value.vb();for(a=this.links;a.next();)a.value.vb()};
A.prototype.vs=function(a,b,c){if(!this.tc){vi(this);Nh(this,f,h);Ei(this);Ci(this);var d=this.Pb;d!==n&&(d.ks&&!c)&&(a.width!==b.width||a.height!==b.height||isNaN(a.x&&!isNaN(b.x))||isNaN(a.y&&!isNaN(b.y)))&&d.F();wi(this);this.ya("ViewportBoundsChanged",c?{}:n,a);Gi(this);a=this.Fa;a instanceof mf&&(this.N.M=this.PE(this.N.Yc),a.doMouseMove())}};
function Gi(a,b){var c=a.od;if(c!==n&&c.visible){for(var d,e=d=1,g=c.Ga.length,i=0;i<g;i++){var j=c.Ga.n[i],k=j.Gi;2>k||("LineV"===j.gb?e=e*k/gd(e,k):d=d*k/gd(d,k))}g=c.as;d=new bb(e*g.width,d*g.height);if(b)e=b.width,g=b.height,i=b.x,j=b.y;else if(k=a.Ua,e=k.width,g=k.height,i=k.x,j=k.y,!k.P())return;c.width=e+2*d.width;c.height=g+2*d.height;e=fd(i,j,0,0,d.width,d.height);c.ca.location=new F(e.x-d.width,e.y-d.height)}}
A.prototype.clearSelection=A.prototype.Oy=function(){var a=0<this.selection.count;a&&this.ya("ChangingSelection");yf(this);a&&this.ya("ChangedSelection")};function yf(a){a=a.selection;if(0<a.count){for(var b=a.sg(),c=b.length,d=0;d<c;d++)b[d].Qa=q;a.Ia();a.clear();a.freeze()}}A.prototype.select=A.prototype.select=function(a){if(a!==n&&a.Oa.h===this&&(!a.Qa||1<this.selection.count))this.ya("ChangingSelection"),yf(this),a.Qa=h,this.ya("ChangedSelection")};
A.prototype.selectCollection=A.prototype.Tz=function(a){this.ya("ChangingSelection");yf(this);for(a=a.l;a.next();)a.value.Qa=h;this.ya("ChangedSelection")};
A.prototype.scroll=function(a,b,c){c===f&&(c=1);var d="up"===b||"down"===b,e;"pixel"===a?e=c:"line"===a?e=c*(d?this.Bs:this.As):"page"===a?(a=d?this.Ua.height:this.Ua.width,a*=this.scale,0!==a&&(e=Math.max(a-(d?this.Bs:this.As),0),e*=c)):w.m("scrolling unit must be 'pixel', 'line', or 'page', not: "+a);e/=this.scale;c=this.position.copy();"up"===b?c.y=this.position.y-e:"down"===b?c.y=this.position.y+e:"left"===b?c.x=this.position.x-e:"right"===b?c.x=this.position.x+e:w.m("scrolling direction must be 'up', 'down', 'left', or 'right', not: "+
b);this.position=c};A.prototype.scrollToRect=A.prototype.$L=function(a){var b=this.Ua;b.Ul(a)||(a=a.av,a.x-=b.width/2,a.y-=b.height/2,this.position=a)};A.prototype.centerRect=A.prototype.nJ=function(a){var b=this.Ua,a=a.av;a.x-=b.width/2;a.y-=b.height/2;this.position=a};A.prototype.transformDocToView=A.prototype.Os=function(a){var b=this.Md;b.reset();1!==this.bc&&b.scale(this.bc);var c=this.rb;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return a.copy().transform(this.Md)};
A.prototype.transformViewToDoc=A.prototype.PE=function(a){var b=this.Md;b.reset();1!==this.bc&&b.scale(this.bc);var c=this.rb;(0!==c.x||0!==c.y)&&(isFinite(c.x)&&isFinite(c.y))&&b.translate(-c.x,-c.y);return Za(a.copy(),this.Md)};var zf;A.None=zf=w.s(A,"None",0);var Ai;A.Uniform=Ai=w.s(A,"Uniform",1);var Bi;A.UniformToFill=Bi=w.s(A,"UniformToFill",2);var zg;A.CycleAll=zg=w.s(A,"CycleAll",10);var Dg;A.CycleNotDirected=Dg=w.s(A,"CycleNotDirected",11);var Fg;
A.CycleNotDirectedFast=Fg=w.s(A,"CycleNotDirectedFast",12);var Gg;A.CycleNotUndirected=Gg=w.s(A,"CycleNotUndirected",13);var Ag;A.CycleDestinationTree=Ag=w.s(A,"CycleDestinationTree",14);var Cg;A.CycleSourceTree=Cg=w.s(A,"CycleSourceTree",15);w.g(A,"validCycle",A.prototype.VE);w.defineProperty(A,{VE:"validCycle"},t("Ru"),function(a){var b=this.Ru;b!==a&&(w.kb(a,A,A,"validCycle"),this.Ru=a,this.j("validCycle",b,a))});w.u(A,{Jv:"layers"},function(){return this.ib.l});w.g(A,"isModelReadOnly",A.prototype.ue);
w.defineProperty(A,{ue:"isModelReadOnly"},function(){var a=this.Jd;return a===n?q:a.eb},function(a){var b=this.Jd;b!==n&&(b.eb=a)});w.g(A,"isReadOnly",A.prototype.eb);w.defineProperty(A,{eb:"isReadOnly"},t("tk"),function(a){var b=this.tk;b!==a&&(w.k(a,"boolean",A,"isReadOnly"),this.tk=a,this.j("isReadOnly",b,a))});w.g(A,"isEnabled",A.prototype.isEnabled);
w.defineProperty(A,{isEnabled:"isEnabled"},t("ai"),function(a){var b=this.ai;b!==a&&(w.k(a,"boolean",A,"isEnabled"),this.ai=a,this.j("isEnabled",b,a))});w.g(A,"allowClipboard",A.prototype.Xu);w.defineProperty(A,{Xu:"allowClipboard"},t("Ts"),function(a){var b=this.Ts;b!==a&&(w.k(a,"boolean",A,"allowClipboard"),this.Ts=a,this.j("allowClipboard",b,a))});w.g(A,"allowCopy",A.prototype.tj);
w.defineProperty(A,{tj:"allowCopy"},t("Pj"),function(a){var b=this.Pj;b!==a&&(w.k(a,"boolean",A,"allowCopy"),this.Pj=a,this.j("allowCopy",b,a))});w.g(A,"allowDelete",A.prototype.Ik);w.defineProperty(A,{Ik:"allowDelete"},t("Qj"),function(a){var b=this.Qj;b!==a&&(w.k(a,"boolean",A,"allowDelete"),this.Qj=a,this.j("allowDelete",b,a))});w.g(A,"allowDragOut",A.prototype.Yu);
w.defineProperty(A,{Yu:"allowDragOut"},t("Us"),function(a){var b=this.Us;b!==a&&(w.k(a,"boolean",A,"allowDragOut"),this.Us=a,this.j("allowDragOut",b,a))});w.g(A,"allowDrop",A.prototype.bC);w.defineProperty(A,{bC:"allowDrop"},t("Vs"),function(a){var b=this.Vs;b!==a&&(w.k(a,"boolean",A,"allowDrop"),this.Vs=a,this.j("allowDrop",b,a))});w.g(A,"allowTextEdit",A.prototype.Mn);
w.defineProperty(A,{Mn:"allowTextEdit"},t("$j"),function(a){var b=this.$j;b!==a&&(w.k(a,"boolean",A,"allowTextEdit"),this.$j=a,this.j("allowTextEdit",b,a))});w.g(A,"allowGroup",A.prototype.Hn);w.defineProperty(A,{Hn:"allowGroup"},t("Rj"),function(a){var b=this.Rj;b!==a&&(w.k(a,"boolean",A,"allowGroup"),this.Rj=a,this.j("allowGroup",b,a))});w.g(A,"allowUngroup",A.prototype.Nn);
w.defineProperty(A,{Nn:"allowUngroup"},t("ak"),function(a){var b=this.ak;b!==a&&(w.k(a,"boolean",A,"allowUngroup"),this.ak=a,this.j("allowUngroup",b,a))});w.g(A,"allowInsert",A.prototype.In);w.defineProperty(A,{In:"allowInsert"},t("Xs"),function(a){var b=this.Xs;b!==a&&(w.k(a,"boolean",A,"allowInsert"),this.Xs=a,this.j("allowInsert",b,a))});w.g(A,"allowLink",A.prototype.Pl);
w.defineProperty(A,{Pl:"allowLink"},t("Sj"),function(a){var b=this.Sj;b!==a&&(w.k(a,"boolean",A,"allowLink"),this.Sj=a,this.j("allowLink",b,a))});w.g(A,"allowRelink",A.prototype.uj);w.defineProperty(A,{uj:"allowRelink"},t("Vj"),function(a){var b=this.Vj;b!==a&&(w.k(a,"boolean",A,"allowRelink"),this.Vj=a,this.j("allowRelink",b,a))});w.g(A,"allowMove",A.prototype.Jk);
w.defineProperty(A,{Jk:"allowMove"},t("Tj"),function(a){var b=this.Tj;b!==a&&(w.k(a,"boolean",A,"allowMove"),this.Tj=a,this.j("allowMove",b,a))});w.g(A,"allowPrint",A.prototype.Fr);w.defineProperty(A,{Fr:"allowPrint"},t("Uj"),function(a){var b=this.Uj;b!==a&&(w.k(a,"boolean",A,"allowPrint"),this.Uj=a,this.j("allowPrint",b,a))});w.g(A,"allowReshape",A.prototype.Jn);
w.defineProperty(A,{Jn:"allowReshape"},t("Wj"),function(a){var b=this.Wj;b!==a&&(w.k(a,"boolean",A,"allowReshape"),this.Wj=a,this.j("allowReshape",b,a))});w.g(A,"allowResize",A.prototype.Kn);w.defineProperty(A,{Kn:"allowResize"},t("Xj"),function(a){var b=this.Xj;b!==a&&(w.k(a,"boolean",A,"allowResize"),this.Xj=a,this.j("allowResize",b,a))});w.g(A,"allowRotate",A.prototype.Ln);
w.defineProperty(A,{Ln:"allowRotate"},t("Yj"),function(a){var b=this.Yj;b!==a&&(w.k(a,"boolean",A,"allowRotate"),this.Yj=a,this.j("allowRotate",b,a))});w.g(A,"allowSelect",A.prototype.ke);w.defineProperty(A,{ke:"allowSelect"},t("Zj"),function(a){var b=this.Zj;b!==a&&(w.k(a,"boolean",A,"allowSelect"),this.Zj=a,this.j("allowSelect",b,a))});w.g(A,"allowUndo",A.prototype.Gy);
w.defineProperty(A,{Gy:"allowUndo"},t("Ys"),function(a){var b=this.Ys;b!==a&&(w.k(a,"boolean",A,"allowUndo"),this.Ys=a,this.j("allowUndo",b,a))});w.g(A,"allowZoom",A.prototype.On);w.defineProperty(A,{On:"allowZoom"},t("$s"),function(a){var b=this.$s;b!==a&&(w.k(a,"boolean",A,"allowZoom"),this.$s=a,this.j("allowZoom",b,a))});w.g(A,"hasVerticalScrollbar",A.prototype.hD);
w.defineProperty(A,{hD:"hasVerticalScrollbar"},t("Bt"),function(a){var b=this.Bt;b!==a&&(w.k(a,"boolean",A,"hasVerticalScrollbar"),this.Bt=a,this.j("hasVerticalScrollbar",b,a),wi(this))});w.g(A,"hasHorizontalScrollbar",A.prototype.gD);w.defineProperty(A,{gD:"hasHorizontalScrollbar"},t("At"),function(a){var b=this.At;b!==a&&(w.k(a,"boolean",A,"hasHorizontalScrollbar"),this.At=a,this.j("hasHorizontalScrollbar",b,a),wi(this))});w.g(A,"allowHorizontalScroll",A.prototype.tf);
w.defineProperty(A,{tf:"allowHorizontalScroll"},t("Ws"),function(a){var b=this.Ws;b!==a&&(w.k(a,"boolean",A,"allowHorizontalScroll"),this.Ws=a,this.j("allowHorizontalScroll",b,a),wi(this))});w.g(A,"allowVerticalScroll",A.prototype.uf);w.defineProperty(A,{uf:"allowVerticalScroll"},t("Zs"),function(a){var b=this.Zs;b!==a&&(w.k(a,"boolean",A,"allowVerticalScroll"),this.Zs=a,this.j("allowVerticalScroll",b,a),wi(this))});w.g(A,"scrollHorizontalLineChange",A.prototype.As);
w.defineProperty(A,{As:"scrollHorizontalLineChange"},t("wu"),function(a){var b=this.wu;b!==a&&(w.k(a,"number",A,"scrollHorizontalLineChange"),0>a&&w.ra(a,">= 0",A,"scrollHorizontalLineChange"),this.wu=a,this.j("scrollHorizontalLineChange",b,a))});w.g(A,"scrollVerticalLineChange",A.prototype.Bs);
w.defineProperty(A,{Bs:"scrollVerticalLineChange"},t("xu"),function(a){var b=this.xu;b!==a&&(w.k(a,"number",A,"scrollVerticalLineChange"),0>a&&w.ra(a,">= 0",A,"scrollVerticalLineChange"),this.xu=a,this.j("scrollVerticalLineChange",b,a))});w.g(A,"lastInput",A.prototype.N);w.defineProperty(A,{N:"lastInput"},t("ac"),function(a){u&&w.i(a,$d,A,"lastInput");this.ac=a});w.g(A,"firstInput",A.prototype.xc);w.defineProperty(A,{xc:"firstInput"},t("Ag"),function(a){u&&w.i(a,$d,A,"firstInput");this.Ag=a});
w.g(A,"currentCursor",A.prototype.vc);w.defineProperty(A,{vc:"currentCursor"},t("nt"),function(a){w.k(a,"string",A,"currentCursor");this.Ba===n||(this.nt===a||""===a&&this.nt===this.jp)||(this.nt=a,""!==a?(this.Ba.style.cursor=a,document.body.style.cursor=a):(this.Ba.style.cursor=this.Xy,document.body.style.cursor=this.Xy))});w.g(A,"defaultCursor",A.prototype.Xy);
w.defineProperty(A,{Xy:"defaultCursor"},t("jp"),function(a){w.k(a,"string",A,"defaultCursor");var b=this.jp;b!==a&&(this.jp=a,this.j("defaultCursor",b,a))});w.g(A,"hasGestureZoom",A.prototype.MG);w.defineProperty(A,{MG:"hasGestureZoom"},t("Yh"),function(a){var b=this.Yh;b!==a&&(w.k(a,"boolean",A,"hasGestureZoom"),this.Yh=a,this.j("hasGestureZoom",b,a))});w.g(A,"click",A.prototype.click);
w.defineProperty(A,{click:"click"},t("Ph"),function(a){var b=this.Ph;b!==a&&(a!==n&&w.k(a,"function",A,"click"),this.Ph=a,this.j("click",b,a))});w.g(A,"doubleClick",A.prototype.Zl);w.defineProperty(A,{Zl:"doubleClick"},t("Th"),function(a){var b=this.Th;b!==a&&(a!==n&&w.k(a,"function",A,"doubleClick"),this.Th=a,this.j("doubleClick",b,a))});w.g(A,"contextClick",A.prototype.Kr);
w.defineProperty(A,{Kr:"contextClick"},t("Qh"),function(a){var b=this.Qh;b!==a&&(a!==n&&w.k(a,"function",A,"contextClick"),this.Qh=a,this.j("contextClick",b,a))});w.g(A,"mouseOver",A.prototype.rs);w.defineProperty(A,{rs:"mouseOver"},t("ii"),function(a){var b=this.ii;b!==a&&(a!==n&&w.k(a,"function",A,"mouseOver"),this.ii=a,this.j("mouseOver",b,a))});w.g(A,"mouseHover",A.prototype.qs);
w.defineProperty(A,{qs:"mouseHover"},t("hi"),function(a){var b=this.hi;b!==a&&(a!==n&&w.k(a,"function",A,"mouseHover"),this.hi=a,this.j("mouseHover",b,a))});w.g(A,"mouseHold",A.prototype.ps);w.defineProperty(A,{ps:"mouseHold"},t("gi"),function(a){var b=this.gi;b!==a&&(a!==n&&w.k(a,"function",A,"mouseHold"),this.gi=a,this.j("mouseHold",b,a))});w.g(A,"mouseDragOver",A.prototype.ND);
w.defineProperty(A,{ND:"mouseDragOver"},t("bu"),function(a){var b=this.bu;b!==a&&(a!==n&&w.k(a,"function",A,"mouseDragOver"),this.bu=a,this.j("mouseDragOver",b,a))});w.g(A,"mouseDrop",A.prototype.os);w.defineProperty(A,{os:"mouseDrop"},t("fi"),function(a){var b=this.fi;b!==a&&(a!==n&&w.k(a,"function",A,"mouseDrop"),this.fi=a,this.j("mouseDrop",b,a))});w.g(A,"toolTip",A.prototype.Ns);
w.defineProperty(A,{Ns:"toolTip"},t("ti"),function(a){var b=this.ti;b!==a&&(a!==n&&w.i(a,of,A,"toolTip"),this.ti=a,this.j("toolTip",b,a))});w.g(A,"contextMenu",A.prototype.contextMenu);w.defineProperty(A,{contextMenu:"contextMenu"},t("Rh"),function(a){var b=this.Rh;b!==a&&(a!==n&&w.i(a,of,A,"contextMenu"),this.Rh=a,this.j("contextMenu",b,a))});w.g(A,"commandHandler",A.prototype.Yf);
w.defineProperty(A,{Yf:"commandHandler"},t("Rw"),function(a){var b=this.Rw;b!==a&&(w.i(a,pa,A,"commandHandler"),a.h!==n&&w.m("Cannot share CommandHandlers between Diagrams: "+a.toString()),b!==n&&b.ee(n),this.Rw=a,a.ee(this))});w.g(A,"toolManager",A.prototype.Rb);w.defineProperty(A,{Rb:"toolManager"},t("Pu"),function(a){var b=this.Pu;b!==a&&(w.i(a,mf,A,"toolManager"),a.h!==n&&w.m("Cannot share ToolManagers between Diagrams: "+a.toString()),b!==n&&b.ee(n),this.Pu=a,a.ee(this))});
w.g(A,"defaultTool",A.prototype.mv);w.defineProperty(A,{mv:"defaultTool"},t("Zw"),function(a){var b=this.Zw;b!==a&&(w.i(a,Bf,A,"defaultTool"),this.Zw=a,this.Fa===b&&(this.Fa=a))});w.g(A,"currentTool",A.prototype.Fa);w.defineProperty(A,{Fa:"currentTool"},t("Uw"),function(a){var b=this.Uw;b!==n&&(b.Y&&b.doDeactivate(),b.cancelWaitAfter(),b.doStop());a===n&&(a=this.mv);a!==n&&(w.i(a,Bf,A,"currentTool"),this.Uw=a,a.ee(this),a.doStart())});w.u(A,{selection:"selection"},t("Au"));
w.g(A,"maxSelectionCount",A.prototype.FD);w.defineProperty(A,{FD:"maxSelectionCount"},t("Xt"),function(a){var b=this.Xt;if(b!==a)if(w.k(a,"number",A,"maxSelectionCount"),0<=a&&!isNaN(a)){if(this.Xt=a,this.j("maxSelectionCount",b,a),!this.sa.tb&&(a=this.selection.count-a,0<a)){this.ya("ChangingSelection");for(var b=this.selection.sg(),c=0;c<a;c++)b[c].Qa=q;this.ya("ChangedSelection")}}else w.ra(a,">= 0",A,"maxSelectionCount")});w.g(A,"nodeSelectionAdornmentTemplate",A.prototype.RD);
w.defineProperty(A,{RD:"nodeSelectionAdornmentTemplate"},t("hu"),function(a){var b=this.hu;b!==a&&(w.i(a,of,A,"nodeSelectionAdornmentTemplate"),this.hu=a,this.j("nodeSelectionAdornmentTemplate",b,a))});w.g(A,"groupSelectionAdornmentTemplate",A.prototype.cD);w.defineProperty(A,{cD:"groupSelectionAdornmentTemplate"},t("yt"),function(a){var b=this.yt;b!==a&&(w.i(a,of,A,"groupSelectionAdornmentTemplate"),this.yt=a,this.j("groupSelectionAdornmentTemplate",b,a))});
w.g(A,"linkSelectionAdornmentTemplate",A.prototype.CD);w.defineProperty(A,{CD:"linkSelectionAdornmentTemplate"},t("Qt"),function(a){var b=this.Qt;b!==a&&(w.i(a,of,A,"linkSelectionAdornmentTemplate"),this.Qt=a,this.j("linkSelectionAdornmentTemplate",b,a))});w.g(A,"isModified",A.prototype.XG);w.defineProperty(A,{XG:"isModified"},function(){var a=this.sa;return a===n?this.aB:a.Vl!==n?h:this.aB&&this.ok!==a.Gj},function(a){w.k(a,"boolean",A,"isModified");this.aB=a;var b=this.sa;!a&&b&&(this.ok=b.Gj)});
w.g(A,"model",A.prototype.V);w.defineProperty(A,{V:"model"},t("Jd"),function(a){var b=this.Jd;if(b!==a){w.i(a,B,A,"model");b!==n&&(b.sa!==a.sa&&b.sa.VG)&&w.m("Do not replace a Diagram.model while a transaction is in progress.");this.Bg=q;this.wp=h;this.sf=q;var c=this.Rd;this.Rd=h;b!==n&&(b.Nz(this.iB),b instanceof O&&Rh(this,b.Rg),Rh(this,b.gg));this.Jd=a;a.Ey(this.hB);Sh(this,a.gg);a instanceof O&&Th(this,a.Rg);a.Nz(this.hB);a.Ey(this.iB);this.Rd=c;this.yb();b!==n&&(a.sa.isEnabled=b.sa.isEnabled)}});
function Ph(a,b,c){var d=a.Fj(b);if(d!==n&&"string"===typeof c)d.vb(c),a.V instanceof De&&(b=a.zf(b),b!==n&&b.vb(c));else if("string"===typeof c){d=n;for(a=a.yl.l;a.next();){for(var e=a.value,g=0;g<e.length;g++){var i=e[g];i.Kf!==n&&(i=i.Kf.qa(b),i!==n&&(d===n&&(d=[]),d.push(i)))}if(d!==n)break}b=d;if(b!==n)for(d=0;d<b.length;d++)b[d].vb(c)}}function Ni(a,b){var c=b.uk;if(w.isArray(c)){var d=a.yl.qa(c);if(d===n)a.yl.add(c,[b]);else{for(c=0;c<d.length;c++)if(d[c]===b)return;d.push(b)}}}
function Pi(a,b){var c=b.uk;if(w.isArray(c)){var d=a.yl.qa(c);if(d!==n)for(var e=0;e<d.length;e++)if(d[e]===b){d.splice(e,1);0===d.length&&a.yl.remove(c);break}}}
A.prototype.clear=A.prototype.clear=function(){var a=n;this.od!==n&&(a=this.od.ca);this.V.clear();for(var b=this.ib.length,c=0;c<b;c++)this.ib.n[c].clear();this.fh.clear();this.Wi.clear();this.iu.clear();this.Ml.clear();this.Rt.clear();this.Nb.clear();this.Sh.clear();this.hk.clear();this.yl.clear();this.Au.Ia();this.Au.clear();this.Au.freeze();this.Cm=this.Vx=n;this.st=(new G(NaN,NaN,NaN,NaN)).freeze();a!==n&&(this.add(a),this.Nb.remove(a))};
A.prototype.reset=A.prototype.reset=function(){this.tc=h;this.clear();this.ib=new z(jf);this.rb=(new F(NaN,NaN)).freeze();this.bc=1;this.Zt=1E-4;this.Wt=100;this.Uu=(new F(NaN,NaN)).freeze();this.xt=(new G(NaN,NaN,NaN,NaN)).freeze();this.jl=zf;this.ol=Hb;this.pk=zf;this.Rm=Hb;this.Gt=this.Ft=Jb;this.bt=(new hb(16,16,16,16)).freeze();this.Mt=h;this.Ru=zg;this.jp="auto";this.Jd=this.Rh=this.ti=this.fi=this.bu=this.gi=this.hi=this.ii=this.Qh=this.Th=this.Ph=n;this.tk=q;this.Qj=this.Pj=this.Ts=this.ai=
h;this.Vs=this.Us=q;this.Zs=this.Ws=this.Bt=this.At=this.$s=this.Ys=this.Zj=this.Yj=this.Xj=this.Wj=this.Uj=this.Tj=this.Vj=this.Sj=this.Xs=this.ak=this.Rj=this.$j=h;this.xu=this.wu=16;this.ie=(new hb(5)).freeze();this.Xt=999999999;this.rd=n;ai(this);bi(this);this.od=n;this.V=new O;this.pi=h;this.Pb=new ci;this.tc=this.pi=q};
A.prototype.rebuildParts=A.prototype.lm=function(){for(var a=[],b=this.selection.l;b.next();){var c=b.value.data;c&&a.push(c)}b=this.V;b instanceof O&&Rh(this,b.Rg);Rh(this,b.gg);Sh(this,b.gg);b instanceof O&&Th(this,b.Rg);for(b=0;b<a.length;b++)if(c=this.Fj(a[b]))c.Qa=h};
function Sh(a,b){if(b!==n){for(var c=a.V,d=w.Sb(b),e=0;e<d;e++){var g=w.Eb(b,e);c.pe(g)?Uh(a,g,q):c instanceof O&&Vh(a,g)}if(c instanceof O||c instanceof De){for(e=0;e<d;e++)g=w.Eb(b,e),c.pe(g)&&Si(a,g);if(c instanceof O)for(c=a.links;c.next();)Ti(c.value)}Ui(a,q)}}
function Uh(a,b,c){if(!(b===f||b===n)&&!a.sa.tb&&!a.Sh.contains(b)){c===f&&(c=h);var d=a.getCategoryForNodeData(b),e=a.findTemplateForNodeData(b,d);e instanceof S&&(xf(e),e=e.copy(),e instanceof S&&(e.Yg=d,a.add(e),e.data=b,c&&Si(a,b)))}}A.prototype.getCategoryForNodeData=A.prototype.XC=function(a){var b=this.V,c=b.XC(a),d=q;b instanceof O&&(d=b.rz(a));d&&""===c&&(c="LinkLabel");return c};
A.prototype.findTemplateForNodeData=A.prototype.yK=function(a,b){var c=q,d=this.V;d instanceof O&&(c=d.oz(a));c?(c=this.kz.qa(b),c===n&&(c=this.kz.qa(""),c===n&&(w.vF===f&&(w.vF=h,w.trace('No Group template found for category "'+b+'"'),w.trace("  Using default group template")),c=this.HA))):(c=this.Hz.qa(b),c===n&&(c=this.Hz.qa(""),c===n&&(w.yF===f&&(w.yF=h,w.trace('No Node template found for category "'+b+'"'),w.trace("  Using default node template")),c=this.JA)));return c instanceof S?c:n};
function Si(a,b){var c=a.V;if(c instanceof O||c instanceof De){var d=c.mb(b);if(d!==f){var e=Ne(c,d),g=a.Tr(b);if(e!==n&&g!==n){for(e=e.l;e.next();){var i=e.value;if(c instanceof O)if(c.pe(i)){if(g instanceof vf&&c.bo(i)===d){var j=a.Fj(i);j!==n&&(j.cb=g)}}else{if(j=a.zf(i),j!==n){c.cm(i)===d&&(j.ga=g);c.dm(i)===d&&(j.la=g);for(var i=c.Vk(i),k=0;k<i.length;k++)if(i[k]===d){g.yd=j;break}}}else c instanceof De&&(c.pe(i)&&c.co(i)===d)&&(j=a.Tr(i),Qh(a,g,j))}bf(c,d)}c instanceof O?(c=c.bo(b),c!==f&&(c=
a.Zf(c),c instanceof vf&&(g.cb=c))):c instanceof De&&(c=c.co(b),c!==f&&(c=a.Zf(c),Qh(a,c,g)))}}}function Qh(a,b,c){if(!(b===n||c===n)){var d=a.Rb.xz,e=b,g=c;if(a.Xc)for(b=g.ve;b.next();){var i=b.value;if(i.la===g)return}else{e=c;g=b;for(b=e.ve;b.next();)if(i=b.value,i.ga===e)return}d!==n&&Bg(d,e,g,n)||(d=a.getCategoryForLinkData(c.data),b=a.findTemplateForLinkData(c.data,d),b instanceof U&&(xf(b),b=b.copy(),b instanceof U&&(b.Yg=d,b.ga=e,b.la=g,a.add(b),b.data=c.data)))}}
function Th(a,b){if(b!==n){for(var c=w.Sb(b),d=0;d<c;d++)Vh(a,w.Eb(b,d));Ui(a,q)}}
function Vh(a,b){if(!(b===f||b===n)&&!a.sa.tb&&!a.hk.contains(b)){var c=a.getCategoryForLinkData(b),d=a.findTemplateForLinkData(b,c);if(d instanceof U&&(xf(d),d=d.copy(),d instanceof U)){d.Yg=c;var c=a.V,e=c.GG(b);""!==e&&(d.Fi=e);e=c.cm(b);e!==f&&(e=a.Zf(e),e instanceof T&&(d.ga=e));e=c.JG(b);""!==e&&(d.Oj=e);e=c.dm(b);e!==f&&(e=a.Zf(e),e instanceof T&&(d.la=e));c=c.Vk(b);if(w.isArray(c))for(var e=w.Sb(c),g=0;g<e;g++){var i=a.Zf(w.Eb(c,g));i!==n&&(i.yd=d)}a.add(d);d.data=b}}}
A.prototype.getCategoryForLinkData=A.prototype.WC=function(a){var b=this.V,c="";b instanceof O?c=b.WC(a):b instanceof De&&(c=b.IG(a));return c};A.prototype.findTemplateForLinkData=A.prototype.xK=function(a,b){var c=this.vz.qa(b);c===n&&(c=this.vz.qa(""),c===n&&(w.xF===f&&(w.xF=h,w.trace('No Link template found for category "'+b+'"'),w.trace("  Using default link template")),c=this.IA));return c instanceof U?c:n};function Rh(a,b){for(var c=w.Sb(b),d=0;d<c;d++)Wh(a,w.Eb(b,d))}
function Wh(a,b){if(!(b===f||b===n)){var c=a.Fj(b);if(c instanceof S){c.Qa=q;var d=c.Oa;if(!(d===n||d.h!==a)){var e=a.V;if(e instanceof O&&c instanceof T){var g=e.mb(c.data);if(g!==f){for(var i=c.ve;i.next();){var j=i.value.data;Oe(e,g,j)}c.Ki&&(i=c.yd,i!==n&&(j=i.data,Oe(e,g,j)));if(c instanceof vf)for(i=c.Gc;i.next();)j=i.value.data,e.pe(j)&&Oe(e,g,j)}}else if(e instanceof De&&c instanceof T){i=a.zf(c.data);if(i!==n&&(i.Qa=q,j=i.Oa,j!==n)){var k=j.se(-1,i);0<=k&&a.Qc(je,"parts",j,i,n,k,n);k=i.ko;
k!==n&&k(i,j,n)}i=a.Xc;for(j=c.ve;j.next();)k=j.value,k=(i?k.la:k.ga).data,e.pe(k)&&Oe(e,g,k)}e=d.se(-1,c);0<=e&&a.Qc(je,"parts",d,c,n,e,n);e=c.ko;e!==n&&e(c,d,n)}}}}A.prototype.findPartForKey=A.prototype.uK=function(a){if(a===n||a===f)return n;a=this.V.Me(a);if(a===n)return n;a=this.Sh.qa(a);return a instanceof S?a:n};A.prototype.findNodeForKey=A.prototype.Zf=function(a){if(a===n||a===f)return n;a=this.V.Me(a);if(a===n)return n;a=this.Sh.qa(a);return a instanceof T?a:n};
A.prototype.findPartForData=A.prototype.Fj=function(a){if(a===n)return n;var b=this.Sh.qa(a);if(b instanceof S)return b;b=this.hk.qa(a);return b instanceof S?b:n};A.prototype.findNodeForData=A.prototype.Tr=function(a){if(a===n)return n;a=this.Sh.qa(a);return a instanceof T?a:n};A.prototype.findLinkForData=A.prototype.zf=function(a){if(a===n)return n;a=this.hk.qa(a);return a instanceof U?a:n};w.g(A,"nodeTemplate",A.prototype.uH);
w.defineProperty(A,{uH:"nodeTemplate"},function(){return this.ji.qa("")},function(a){var b=this.ji.qa("");b!==a&&(w.i(a,S,A,"nodeTemplate"),this.ji.add("",a),this.j("nodeTemplate",b,a),this.sa.tb||this.lm())});w.g(A,"nodeTemplateMap",A.prototype.Hz);w.defineProperty(A,{Hz:"nodeTemplateMap"},t("ji"),function(a){var b=this.ji;b!==a&&(w.i(a,ka,A,"nodeTemplateMap"),this.ji=a,this.j("nodeTemplateMap",b,a),this.sa.tb||this.lm())});w.g(A,"groupTemplate",A.prototype.LG);
w.defineProperty(A,{LG:"groupTemplate"},function(){return this.mk.qa("")},function(a){var b=this.mk.qa("");b!==a&&(w.i(a,vf,A,"groupTemplate"),this.mk.add("",a),this.j("groupTemplate",b,a),this.sa.tb||this.lm())});w.g(A,"groupTemplateMap",A.prototype.kz);w.defineProperty(A,{kz:"groupTemplateMap"},t("mk"),function(a){var b=this.mk;b!==a&&(w.i(a,ka,A,"groupTemplateMap"),this.mk=a,this.j("groupTemplateMap",b,a),this.sa.tb||this.lm())});w.g(A,"linkTemplate",A.prototype.hH);
w.defineProperty(A,{hH:"linkTemplate"},function(){return this.bj.qa("")},function(a){var b=this.bj.qa("");b!==a&&(w.i(a,U,A,"linkTemplate"),this.bj.add("",a),this.j("linkTemplate",b,a),this.sa.tb||this.lm())});w.g(A,"linkTemplateMap",A.prototype.vz);w.defineProperty(A,{vz:"linkTemplateMap"},t("bj"),function(a){var b=this.bj;b!==a&&(w.i(a,ka,A,"linkTemplateMap"),this.bj=a,this.j("linkTemplateMap",b,a),this.sa.tb||this.lm())});w.g(A,"isMouseCaptured",A.prototype.Fc);
w.defineProperty(A,{Fc:"isMouseCaptured"},t("bB"),function(a){var b=this.Ba;b!==n&&(a?(this.N.bubbles=q,b.removeEventListener("mousemove",this.to,q),b.removeEventListener("mousedown",this.so,q),b.removeEventListener("mouseup",this.vo,q),b.removeEventListener("mousewheel",this.Tg,q),b.removeEventListener("DOMMouseScroll",this.Tg,q),b.removeEventListener("mouseout",this.uo,q),window.addEventListener("mousemove",this.to,h),window.addEventListener("mousedown",this.so,h),window.addEventListener("mouseup",
this.vo,h),window.addEventListener("mousewheel",this.Tg,h),window.addEventListener("DOMMouseScroll",this.Tg,h),window.addEventListener("mouseout",this.uo,h),window.addEventListener("selectstart",this.preventDefault,q)):(window.removeEventListener("mousemove",this.to,h),window.removeEventListener("mousedown",this.so,h),window.removeEventListener("mouseup",this.vo,h),window.removeEventListener("mousewheel",this.Tg,h),window.removeEventListener("DOMMouseScroll",this.Tg,h),window.removeEventListener("mouseout",
this.uo,h),window.removeEventListener("selectstart",this.preventDefault,q),b.addEventListener("mousemove",this.to,q),b.addEventListener("mousedown",this.so,q),b.addEventListener("mouseup",this.vo,q),b.addEventListener("mousewheel",this.Tg,q),b.addEventListener("DOMMouseScroll",this.Tg,q),b.addEventListener("mouseout",this.uo,q)),this.bB=a)});w.g(A,"position",A.prototype.position);
w.defineProperty(A,{position:"position"},t("rb"),function(a){var b=this.rb;if(!b.I(a)){w.i(a,F,A,"position");var c=this.Ua.copy();c.x=b.x;c.y=b.y;a=a.copy();b.Ej(a)||(this.tc||this.Ba===n||(this.tc=h,b=this.scale,yi(this,a,this.wc,this.Ba.width/b,this.Ba.height/b,this.ol),this.tc=q),b=a);this.rb=b.O();this.vs(c,this.Ua);this.yb()}});w.g(A,"initialPosition",A.prototype.kD);w.defineProperty(A,{kD:"initialPosition"},t("tx"),function(a){this.tx.I(a)||(w.i(a,F,A,"initialPosition"),this.tx=a.O())});
w.g(A,"initialScale",A.prototype.lD);w.defineProperty(A,{lD:"initialScale"},t("ux"),function(a){this.ux!==a&&(w.k(a,"number",A,"initialScale"),this.ux=a)});w.g(A,"grid",A.prototype.Bv);
w.defineProperty(A,{Bv:"grid"},function(){this.od===n&&mi(this);return this.od},function(a){var b=this.od;if(b!==a){b===n&&(mi(this),b=this.od);w.i(a,x,A,"grid");a.type!==ui&&w.m("Diagram.grid must be a Panel of type Panel.Grid");var c=b.fa;c!==n&&c.remove(b);this.od=a;a.name="GRID";c!==n&&c.add(a);Nh(this);this.j("grid",b,a)}});w.u(A,{Ua:"viewportBounds"},function(){var a=this.Ba,b=this.RB;if(a===n)return b;var c=this.rb,d=this.bc;b.U(c.x,c.y,Math.max(a.width,0)/d,Math.max(a.height,0)/d);return b});
w.g(A,"fixedBounds",A.prototype.Xr);w.defineProperty(A,{Xr:"fixedBounds"},t("xt"),function(a){var b=this.xt;b.I(a)||(w.i(a,G,A,"fixedBounds"),this.xt=a=a.O(),Ci(this),this.j("fixedBounds",b,a))});w.u(A,{wc:"documentBounds"},t("st"));function zi(a,b){var c=a.st;c.I(b)||(b=b.O(),a.st=b,a.Zh=q,wi(a),a.ya("DocumentBoundsChanged",n,c.copy()),Ei(a))}w.g(A,"scale",A.prototype.scale);
w.defineProperty(A,{scale:"scale"},t("bc"),function(a){var b=this.bc;w.o(a,A,"scale");a<this.cg&&(a=this.cg);a>this.Te&&(a=this.Te);if(b!==a){var c=this.bc=a;if(!this.tc&&!this.Rd){this.tc=h;var d=this.Ba;if(d!==n){var a=this.Ua.copy(),e=d.width/c,g=d.height/c;a.width=d.width/b;a.height=d.height/b;d=this.Nh.copy();if(isNaN(d.x))switch(this.kv){case ec:d.x=0;break;case fc:d.x=e-1;break;case Ob:d.x=e/2;break;case Hb:case hc:d.x=e/2}if(isNaN(d.y))switch(this.kv){case dc:d.y=0;break;case gc:d.y=g-1;break;
case Ob:d.y=g/2;break;case Hb:case hc:d.y=g/2}var i=this.position,b=new F(i.x+d.x/b-d.x/c,i.y+d.y/b-d.y/c);yi(this,b,this.wc,e,g,this.ol);this.position=b;this.tc=q;this.vs(a,this.Ua)}}Nh(this);Ei(this)}});w.g(A,"autoScale",A.prototype.Ql);w.defineProperty(A,{Ql:"autoScale"},t("jl"),function(a){var b=this.jl;b!==a&&(w.kb(a,A,A,"autoScale"),this.jl=a,this.j("autoScale",b,a),a!==zf&&wi(this))});w.g(A,"initialAutoScale",A.prototype.PG);
w.defineProperty(A,{PG:"initialAutoScale"},t("pk"),function(a){var b=this.pk;b!==a&&(w.kb(a,A,A,"initialAutoScale"),this.pk=a,this.j("initialAutoScale",b,a))});w.g(A,"initialViewportSpot",A.prototype.mD);w.defineProperty(A,{mD:"initialViewportSpot"},t("Gt"),function(a){var b=this.Gt;b!==a&&(w.i(a,H,A,"initialViewportSpot"),tb(a)||w.m("initialViewportSpot must be a real Spot: "+a),this.Gt=a,this.j("initialViewportSpot",b,a))});w.g(A,"initialDocumentSpot",A.prototype.jD);
w.defineProperty(A,{jD:"initialDocumentSpot"},t("Ft"),function(a){var b=this.Ft;b!==a&&(w.i(a,H,A,"initialDocumentSpot"),tb(a)||w.m("initialViewportSpot must be a real Spot: "+a),this.Ft=a,this.j("initialDocumentSpot",b,a))});w.g(A,"minScale",A.prototype.cg);w.defineProperty(A,{cg:"minScale"},t("Zt"),function(a){w.o(a,A,"minScale");var b=this.Zt;b!==a&&0<a?(this.Zt=a,this.j("minScale",b,a),a>this.scale&&(this.scale=a)):w.ra(a,"> 0",A,"minScale")});w.g(A,"maxScale",A.prototype.Te);
w.defineProperty(A,{Te:"maxScale"},t("Wt"),function(a){w.o(a,A,"maxScale");var b=this.Wt;b!==a&&0<a?(this.Wt=a,this.j("maxScale",b,a),a<this.scale&&(this.scale=a)):w.ra(a,"> 0",A,"maxScale")});w.g(A,"zoomPoint",A.prototype.Nh);w.defineProperty(A,{Nh:"zoomPoint"},t("Uu"),function(a){this.Uu.I(a)||(w.i(a,F,A,"zoomPoint"),this.Uu=a=a.O(),Ci(this))});w.g(A,"contentAlignment",A.prototype.kv);
w.defineProperty(A,{kv:"contentAlignment"},t("ol"),function(a){var b=this.ol;b.I(a)||(w.i(a,H,A,"contentAlignment"),this.ol=a=a.O(),this.j("contentAlignment",b,a),wi(this))});w.g(A,"initialContentAlignment",A.prototype.QG);w.defineProperty(A,{QG:"initialContentAlignment"},t("Rm"),function(a){var b=this.Rm;b.I(a)||(w.i(a,H,A,"initialContentAlignment"),this.Rm=a=a.O(),this.j("initialContentAlignment",b,a))});w.g(A,"padding",A.prototype.padding);
w.defineProperty(A,{padding:"padding"},t("ie"),function(a){"number"===typeof a?a=new hb(a):w.i(a,hb,A,"padding");var b=this.ie;b.I(a)||(this.ie=a=a.O(),Ci(this),this.j("padding",b,a))});w.u(A,{al:"nodes"},function(){return this.iu.l});w.u(A,{links:"links"},function(){return this.Rt.l});w.u(A,{bl:"parts"},function(){return this.Nb.l});w.g(A,"layout",A.prototype.Pb);
w.defineProperty(A,{Pb:"layout"},t("rd"),function(a){var b=this.rd;b!==a&&(w.i(a,ci,A,"layout"),b!==n&&(b.h=n,b.group=n),this.rd=a,a.h=this,a.group=n,this.xn=this.at=h,this.j("layout",b,a),this.yb())});A.prototype.layoutDiagram=A.prototype.rL=function(a){$h(this);a&&Ui(this,h);Fi(this)};function Ui(a,b){for(var c=a.Ml.l;c.next();)Vi(a,c.value,b);a.Pb!==n&&(b?a.Pb.Se=q:a.Pb.F())}function Vi(a,b,c){if(b!==n){for(var d=b.dn.l;d.next();)Vi(a,d.value,c);b.Pb!==n&&(c?b.Pb.Se=q:b.Pb.F())}}
function Fi(a){for(var b=a.Ml.l;b.next();)Wi(a,b.value);b=a.Pb;b!==n&&!b.Se&&(b.doLayout(a),b.Se=h);a.at=q}function Wi(a,b){if(b!==n){for(var c=b.dn.l;c.next();)Wi(a,c.value);c=b.Pb;c!==n&&!c.Se&&(b.pB=!b.location.P(),c.doLayout(b),b.F(Xi),c.Se=h,Hi(a,b))}}w.g(A,"isTreePathToChildren",A.prototype.Xc);w.defineProperty(A,{Xc:"isTreePathToChildren"},t("Mt"),function(a){var b=this.Mt;if(b!==a&&(w.k(a,"boolean",A,"isTreePathToChildren"),this.Mt=a,this.j("isTreePathToChildren",b,a),!this.sa.tb))for(a=this.al;a.next();)Yi(a.value)});
w.g(A,"isCollapsingExpanding",A.prototype.ag);w.defineProperty(A,{ag:n},t("ZA"),ba("ZA"));function Zi(a,b){var c=a.ax.qa(b);if(c!==n)return c;c=a.ax.qa(b.toLowerCase());if(c!==n)return c;w.m("Unknown DiagramEvent name: "+b);return n}A.prototype.addDiagramListener=A.prototype.XB=function(a,b){w.k(a,"string",A,"addDiagramListener:name");w.k(b,"function",A,"addDiagramListener:listener");var c=Zi(this,a);c!==n&&c.add(b)};
A.prototype.removeDiagramListener=A.prototype.bE=function(a,b){w.k(a,"string",A,"removeDiagramListener:name");w.k(b,"function",A,"addDiagramListener:listener");var c=Zi(this,a);c!==n&&c.remove(b)};A.prototype.raiseDiagramEvent=A.prototype.ya=function(a,b,c){u&&w.k(a,"string",A,"raiseDiagramEvent:name");var d=Zi(this,a),e=new be;e.h=this;var g=this.$w.qa(a),a=g!==n?g:this.$w.qa(a.toLowerCase());e.name=a;b!==f&&(e.fw=b);c!==f&&(e.Rv=c);for(b=d.l;b.next();)c=b.value,c(e);return e.cancel};
function tg(a,b){for(var c=a.bm(b,function(a){return a.ca},function(a){return a instanceof U},h).l;c.next();){var d=c.value;d.Fh===$f&&d.Tb()}}function $i(a,b,c){if(b!==c)if(b.canAvoid()){for(var c=b.getAvoidableRectangle(),b=a.ud.Sl,d=a.ud.Rl,e=c.x+c.width,g=c.y+c.height,i=c.x;i<e;i+=b){for(var j=c.y;j<g;j+=d)aj(a.ud,i,j);aj(a.ud,i,g)}for(j=c.y;j<g;j+=d)aj(a.ud,e,j);aj(a.ud,e,g)}else if(b instanceof vf)for(b=b.Gc;b.next();)d=b.value,d instanceof T&&$i(a,d,c)}
function bj(a,b){if(a.ud!==n&&!a.ud.fs&&(b===n||b.canAvoid()))a.ud.fs=h}function hi(a,b,c){if(If!==n){c instanceof A||(c=n);var d=Qf;c!==d&&(d!==n&&d.Rb.re!==n&&d.Rb.re.doSimulatedDragLeave(),c!==n&&c.Rb.re!==n&&c.Rb.re.doSimulatedDragEnter());Qf=c;if(c===n)return h;d=c.Rb.re;d!==n&&(a!==n&&(b=c.Wh(a)),c.ac.M=b,c.ac.Dj=q,c.ac.Oi=q,d.doSimulatedDragOver());return h}return q}
function ji(a,b,c,d){if(If!==n){d===n&&(d=n);var e=Qf;d!==e&&(e!==n&&e.Rb.re!==n&&e.Rb.re.doSimulatedDragLeave(),d!==n&&d.Rb.re!==n&&d.Rb.re.doSimulatedDragEnter());Qf=d;if(d===n)return If.doCancel(),h;if(d!==a)return a=c,b!==n&&(a=d.Wh(b)),d.ac.M=a,d.ac.Dj=q,d.ac.Oi=h,b=d.Rb.re,b!==n&&b.doSimulatedDrop(),If!==n&&If.doCancel(),h}return q}w.g(A,"autoScrollRegion",A.prototype.hC);
w.defineProperty(A,{hC:"autoScrollRegion"},t("bt"),function(a){"number"===typeof a?a=new hb(a):w.i(a,hb,A,"autoScrollRegion");var b=this.bt;b.I(a)||(this.bt=a=a.O(),Ci(this),this.j("autoScrollRegion",b,a))});
function ig(a){if(a.Wg===n){a.Wg={};var b;b=a.Fa!==a.Rb.re?a.bF:a.cF;a.Wg.isEnabled=h;var c=setInterval(function(){var b=c;a.Wg!==n&&a.Wg.isEnabled&&(a.Wg=n,clearInterval(b),b=hg(a,a.Ow),b.Ei(a.position)||(a.position=b,a.N.M=a.PE(a.Ow),a.Fa.doMouseMove(),a.Zh=h,zi(a,a.oe()),a.eh=h,a.Dh(),ig(a)))},b);a.Wg.id=c}}function Lf(a){a.Wg!==n&&(a.Wg.isEnabled&&clearInterval(a.Wg.id),a.Wg=n)}
function hg(a,b){var c=a.position,d=a.hC;if(0>=d.top&&0>=d.left&&0>=d.right&&0>=d.bottom)return c;var e=a.Ua,g=a.scale,e=new G(0,0,e.width*g,e.height*g),i=new F(0,0);if(b.x>=e.x&&b.x<e.x+d.left){var j=Math.max(a.As,1),j=j|0;i.x-=j;b.x<e.x+d.left/2&&(i.x-=j);b.x<e.x+d.left/4&&(i.x-=4*j)}else b.x<=e.x+e.width&&b.x>e.x+e.width-d.right&&(j=Math.max(a.As,1),j|=0,i.x+=j,b.x>e.x+e.width-d.right/2&&(i.x+=j),b.x>e.x+e.width-d.right/4&&(i.x+=4*j));b.y>=e.y&&b.y<e.y+d.top?(j=Math.max(a.Bs,1),j|=0,i.y-=j,b.y<
e.y+d.top/2&&(i.y-=j),b.y<e.y+d.top/4&&(i.y-=4*j)):b.y<=e.y+e.height&&b.y>e.y+e.height-d.bottom&&(j=Math.max(a.Bs,1),j|=0,i.y+=j,b.y>e.y+e.height-d.bottom/2&&(i.y+=j),b.y>e.y+e.height-d.bottom/4&&(i.y+=4*j));i.Ei(new F(0,0))||(c=new F(c.x+i.x/g,c.y+i.y/g));return c}A.prototype.makeImage=A.prototype.tL=function(a){var b=document.createElement("img");b.src=this.jH(a);return b instanceof HTMLImageElement?b:n};
A.prototype.makeImageData=A.prototype.jH=function(a){this.Dh();if(this.Ba===n)return"";a===f&&(a={});"object"!==typeof a&&w.m("properties argument must be an Object.");var b=a.size||n,c=a.scale||n,d=a.maxSize||new bb(2E3,2E3),e=a.position||n,g=a.parts||n,i=a.padding||1,j=a.background||n,k=a.omitTemporary;k===f&&(k=h);b!==n&&(isNaN(b.width)&&isNaN(b.height))&&(b=n);i&&"number"===typeof i&&(i=new hb(i));i||(i=new hb(0));i.left=Math.max(i.left,0);i.right=Math.max(i.right,0);i.top=Math.max(i.top,0);i.bottom=
Math.max(i.bottom,0);this.ut=q;li(this);var l=document.createElement("canvas"),m=l.getContext("2d");if(!b&&!c&&!g&&!e)return l.width=this.Ba.width+Math.ceil(i.left+i.right),l.height=this.Ba.height+Math.ceil(i.top+i.bottom),Ii(this,m,i,new bb(l.width,l.height),this.bc,this.rb,g,j,k),this.ut=h,l.toDataURL(a.type,a.details);var p,r=new F(0,0);p=this.wc.copy();p.gI(this.padding);p.width-=r.x;p.height-=r.y;if(g){var s,v=h,g=g.l;for(g.reset();g.next();){var y=g.value;if(y instanceof S){var C=y.Oa;if(!C||
C.visible)if((!C||!C.zc)&&y.hb())y=y.va,y.P()&&(v?(v=q,s=y.copy()):s.Ni(y))}}v&&(s=new G(0,0,0,0));p.width=s.width;p.height=s.height;r.x=s.x;r.y=s.y}else r.x+=p.x,r.y+=p.y;e!==n&&e.P()&&(r=e,c||(c=1));s=e=0;i&&(e=i.left+i.right,s=i.top+i.bottom);v=y=0;b&&(y=b.width,v=b.height,isFinite(y)&&(y=Math.max(0,y-e)),isFinite(v)&&(v=Math.max(0,v-s)));b&&c?b.P()?(b=y,p=v):isNaN(v)?(b=y,p=p.height*c):(b=p.width*c,p=v):b?b.P()?(c=Math.min(y/p.width,v/p.height),b=y,p=v):isNaN(v)?(c=y/p.width,b=y,p=p.height*c):
(c=v/p.height,b=p.width*c,p=v):c?(b=p.width*c,p=p.height*c):(c=1,b=p.width,p=p.height);i?(b+=e,p+=s):i=new hb(0);d&&(e=d.width,isNaN(e)&&(e=2E3),d=d.height,isNaN(d)&&(d=2E3),isFinite(e)&&(b=Math.min(b,e)),isFinite(d)&&(p=Math.min(p,d)));l.width=b;l.height=p;Ii(this,m,i,new bb(Math.ceil(b),Math.ceil(p)),c,r,g,j,k);this.ut=h;return l.toDataURL(a.type,a.details)};A.inherit=function(a,b){w.k(a,"function",A,"inherit");w.k(b,"function",A,"inherit");w.Ea(a,b)};
function cj(a){1<arguments.length&&w.m("Palette constructor can only take one optional argument, the DIV HTML element or its id.");A.call(this,a);this.Yu=h;this.Jk=q;this.eb=h;this.kv=Kb;this.Pb=new dj}w.Q("Palette",cj);w.Ea(cj,A);
function Ji(a){1<arguments.length&&w.m("Overview constructor can only take one optional argument, the DIV HTML element or its id.");A.call(this,a);this.tc=h;this.ki=n;var b=new S,c=new V;c.stroke="magenta";c.$a=2;c.fill=n;c.name="BOXSHAPE";b.Ds="BOXSHAPE";b.Kv="BOXSHAPE";b.add(c);this.Ri=b;this.my=document.createElement("canvas");this.qF=this.my.getContext("2d");b=new ej;b.ee(this);this.Rb.Ve.yc(0,b);var d=this;this.TD=function(){fj(d)};this.SD=function(){d.ki!==n&&(Ci(d),Nh(d))};this.eb=h;this.ke=
q;this.Ql=Ai;this.Rb.jm=Df;this.tc=q}w.Q("Overview",Ji);w.Ea(Ji,A);
Ji.prototype.Le=function(){this.Lb===n&&w.m("No div specified");this.Ba===n&&w.m("No canvas specified");if(this.eh){var a=this.ki;if(a!==n){var b=this.Ba,c=this.gk,d=this.my,e=this.qF;d.width=b.width;d.height=b.height;c.Jw="";c.setTransform(1,0,0,1,0,0);c.clearRect(0,0,this.Ba.width,this.Ba.height);var g=this.Md;g.reset();1!==this.bc&&g.scale(this.scale);(0!==this.position.x||0!==this.position.y)&&g.translate(-this.rb.x,-this.rb.y);c.setTransform(g.m11,g.m12,g.m21,g.m22,g.dx,g.dy);for(var i=this.Ua,
j=a.ib.length,g=0;g<j;g++)for(var k=c,l=i,m=a.ib.n[g].Nb,p=this.scale,r=m.length,s=0;s<r;s++){var v=m.n[s],y=v.va;y.Qe(l)&&(1<y.width*p||1<y.height*p?v.Le(k,this):Mh(v,k))}e.drawImage(b,0,0);u&&u.kC&&(e.fillStyle="red",e.fillRect(0,d.height/2,d.width,4));a=this.ib.length;for(g=0;g<a;g++)this.ib.n[g].Le(c,this);this.eh=this.sk=q}}};w.g(Ji,"observed",Ji.prototype.vH);
w.defineProperty(Ji,{vH:"observed"},t("ki"),function(a){var b=this.ki;a!==n&&w.i(a,A,Ji,"observed");b!==a&&!(a instanceof Ji)&&(b!==n&&(this.remove(this.kd),b.bE("ViewportBoundsChanged",this.TD),b.bE("DocumentBoundsChanged",this.SD),b.pu.remove(this),this.Rb.Pr.Ss=n),this.ki=a,a!==n&&(a.XB("ViewportBoundsChanged",this.TD),a.XB("DocumentBoundsChanged",this.SD),a.pu.add(this),this.add(this.kd),fj(this),this.Rb.Pr.Ss=a),Ci(this),this.j("observed",b,a))});w.g(Ji,"box",Ji.prototype.kd);
w.defineProperty(Ji,{kd:"box"},t("Ri"),function(a){var b=this.Ri;b!==a&&(this.Ri=a,this.j("box",b,a))});function fj(a){var b=a.kd;if(b!==n){var c=a.ki;if(c!==n){a.eh=h;var c=c.Ua,d=b.Yv;d.wa=new bb(c.width,c.height);a=2/a.scale;d instanceof V&&(d.$a=a);b.location=new F(c.x-a/2,c.y-a/2)}}}Ji.prototype.oe=function(){var a=this.ki;return a===n?new G(0,0,0,0):a.wc};Ji.prototype.vs=function(a){this.tc||(vi(this),Nh(this),Ei(this),Ci(this),fj(this),this.ya("ViewportBoundsChanged",a))};
function ej(){Bf.call(this);this.name="MoveBox"}w.Ea(ej,Bf);ej.prototype.doStart=ej.prototype.az=function(){this.Y=this.h.Fc=h};ej.prototype.doMouseMove=ej.prototype.Og=function(){if(this.Y){var a=this.h;if(!(a===n||a.ki===n)){var b=a.ki,c=b.Ua,d=a.N.M;b.position=new F(d.x-c.width/2,d.y-c.height/2);a.yb()}}};ej.prototype.doMouseUp=ej.prototype.qe=function(){this.Y&&this.doMouseMove();this.stopTool()};ej.prototype.doStop=ej.prototype.Rk=function(){this.Y=q;var a=this.h;a.Fc=q;fj(a)};
function Fe(a){w.jc(this);this.ab=q;a===f?(this.T=He,this.Bm="black"):"string"===typeof a?(this.T=He,this.Bm=a):(u&&w.kb(a,Fe,Fe,"constructor:type"),this.T=a,this.Bm="black");a=this.T;a===Ie?(this.pn=Kb,this.Jm=Qb):this.Jm=a===Je?this.pn=Ob:this.pn=Gb;this.Fu=0;this.vt=NaN;this.yA=this.zA=this.xg=this.ru=this.vg=n}w.Q("Brush",Fe);var He;Fe.Solid=He=w.s(Fe,"Solid",0);var Ie;Fe.Linear=Ie=w.s(Fe,"Linear",1);var Je;Fe.Radial=Je=w.s(Fe,"Radial",2);var gj;Fe.Pattern=gj=w.s(Fe,"Pattern",2);
Fe.prototype.copy=Fe.prototype.copy=function(){var a=new Fe;a.T=this.T;a.Bm=this.Bm;a.pn=this.pn;a.Jm=this.Jm;a.Fu=this.Fu;a.vt=this.vt;this.vg!==n&&(a.vg=this.vg.copy());a.ru=this.ru;return a};Fe.prototype.Za=function(){this.freeze();Object.freeze(this);return this};Fe.prototype.freeze=function(){this.ab=h;this.vg!==n&&this.vg.freeze();return this};Fe.prototype.Ia=function(){Object.isFrozen(this)&&w.m("cannot thaw constant: "+this);this.ab=q;this.vg!==n&&this.vg.Ia();return this};
Fe.prototype.toString=function(){var a="Brush(";if(this.type===He)a+=this.color;else if(a=this.type===Ie?a+"Linear ":this.type===Je?a+"Radial ":this.type===gj?a+"Pattern ":a+"(unknown) ",a+=this.start+" "+this.end,this.Rn!==n)for(var b=this.Rn.l;b.next();)a+=" "+b.key+":"+b.value;return a+")"};
Fe.prototype.addColorStop=Fe.prototype.addColorStop=function(a,b){w.H(this);(a===n||1<a||0>a)&&w.ra(a,"0 <= loc <= 1",Fe,"addColorStop:loc");w.k(b,"string",Fe,"addColorStop:color");this.vg===n&&(this.vg=new ka("number","string"));this.vg.add(a,b);this.T===He&&(this.type=Ie);this.xg=n};w.g(Fe,"type",Fe.prototype.type);
w.defineProperty(Fe,{type:"type"},t("T"),function(a){w.H(this,a);w.kb(a,Fe,Fe,"type");this.T=a;zb(this.start)&&(a===Ie?this.start=Kb:a===Je&&(this.start=Ob));zb(this.end)&&(a===Ie?this.end=Qb:a===Je&&(this.end=Ob));this.xg=n});w.g(Fe,"color",Fe.prototype.color);w.defineProperty(Fe,{color:"color"},t("Bm"),function(a){w.H(this,a);w.k(a,"string",Fe,"color");this.Bm=a;this.xg=n});w.g(Fe,"start",Fe.prototype.start);
w.defineProperty(Fe,{start:"start"},t("pn"),function(a){w.H(this,a);a instanceof H||w.ic(a,"Spot",Fe,"start");this.pn=a.O();this.xg=n});w.g(Fe,"end",Fe.prototype.end);w.defineProperty(Fe,{end:"end"},t("Jm"),function(a){w.H(this,a);a instanceof H||w.ic(a,"Spot",Fe,"end");this.Jm=a.O();this.xg=n});w.g(Fe,"startRadius",Fe.prototype.Io);w.defineProperty(Fe,{Io:"startRadius"},t("Fu"),function(a){w.H(this,a);w.o(a,Fe,"startRadius");0>a&&w.ra(a,">= zero",Fe,"startRadius");this.Fu=a;this.xg=n});
w.g(Fe,"endRadius",Fe.prototype.Xn);w.defineProperty(Fe,{Xn:"endRadius"},t("vt"),function(a){w.H(this,a);w.o(a,Fe,"endRadius");0>a&&w.ra(a,">= zero",Fe,"endRadius");this.vt=a;this.xg=n});w.g(Fe,"colorStops",Fe.prototype.Rn);w.defineProperty(Fe,{Rn:"colorStops"},t("vg"),function(a){w.H(this,a);u&&w.i(a,ka,Fe,"colorStops");this.vg=a;this.xg=n});w.g(Fe,"pattern",Fe.prototype.pattern);w.defineProperty(Fe,{pattern:"pattern"},t("ru"),function(a){w.H(this,a);this.ru=a;this.xg=n});
Fe.randomColor=function(a,b){a===f&&(a=128);u&&(w.o(a,Fe,"randomColor:min"),(0>a||255<a)&&w.ra(a,"0 <= min <= 255",Fe,"randomColor:min"));b===f&&(b=Math.max(a,255));u&&(w.o(b,Fe,"randomColor:max"),(b<a||255<b)&&w.ra(b,"min <= max <= 255",Fe,"randomColor:max"));var c=Math.abs(b-a),d=Math.floor(a+Math.random()*c).toString(16),e=Math.floor(a+Math.random()*c).toString(16),c=Math.floor(a+Math.random()*c).toString(16);2>d.length&&(d="0"+d);2>e.length&&(e="0"+e);2>c.length&&(c="0"+c);return"#"+d+e+c};
function P(){w.jc(this);this.zk=n;this.Bb="";this.Of=this.Mg=h;this.xe=this.ye=n;this.rb=(new F(NaN,NaN)).freeze();this.Ce=(new bb(NaN,NaN)).freeze();this.Sd=pc;this.gj=kc;this.Md=new Wa;this.wm=new Wa;this.wk=new Wa;this.bc=1;this.oc=0;this.qh=eh;this.jq=(new hb(0)).freeze();this.Uc=(new G(NaN,NaN,NaN,NaN)).freeze();this.Ib=(new G(NaN,NaN,NaN,NaN)).freeze();this.Kc=(new G(0,0,NaN,NaN)).freeze();this.Jc=this.$b=this.rl=this.Tm=h;this.Eq=n;this.dh=Gb;this.$g=10;this.Zg=hj;this.bh=0;this.yp=n;this.Ap=
this.zp=q;this.Bp=Infinity;this.wh=Gb;this.th=10;this.sh=hj;this.vh=0;this.or=n;this.qr=this.pr=q;this.rr=Infinity;this.Kd=n;this.Aa=Hb;this.Rp=q;this.To=Hb;this.Tq=0;this.Ck=1;this.Z=0;this.dk=1;this.Wq=-Infinity;this.Vq=0;this.Xq=jc;this.Yq=ij;this.dp="";this.Rh=this.ti=this.fi=this.tq=this.sq=this.gi=this.hi=this.ii=this.vq=this.uq=this.Qh=this.Th=this.Ph=n;this.Kp=q;this.pc=this.Oo=this.Ro=this.Qo=this.Po=n;this.ym=q;this.pl=n;this.KB=new G(NaN,NaN,NaN,NaN);this.ml=q;this.ck=n;this.xm=q;this.Il=
n}w.Q("GraphObject",P);
P.prototype.xb=function(a){a.Bb=this.Bb;a.Mg=this.Mg;a.Of=this.Of;a.ye=this.ye;a.xe=this.xe;a.rb.Va(this.rb);a.Ce.Va(this.Ce);a.Sd=this.Sd.O();a.gj=this.gj.O();a.bc=this.bc;a.oc=this.oc;a.qh=this.qh;a.jq.Va(this.jq);a.Uc.Va(this.Uc);a.Ib.Va(this.Ib);a.Kc.Va(this.Kc);a.Eq=this.Eq;a.dh=this.dh.O();a.$g=this.$g;a.Zg=this.Zg;a.bh=this.bh;a.yp=this.yp;a.zp=this.zp;a.Ap=this.Ap;a.Bp=this.Bp;a.wh=this.wh.O();a.th=this.th;a.sh=this.sh;a.vh=this.vh;a.or=this.or;a.pr=this.pr;a.qr=this.qr;a.rr=this.rr;a.Aa=
this.Aa.O();a.Rp=this.Rp;a.To=this.To.O();a.Tq=this.Tq;a.Ck=this.Ck;a.Z=this.Z;a.dk=this.dk;a.Wq=this.Wq;a.Vq=this.Vq;a.Xq=this.Xq.O();a.Yq=this.Yq;a.dp=this.dp;a.Ph=this.Ph;a.Th=this.Th;a.Qh=this.Qh;a.uq=this.uq;a.vq=this.vq;a.ii=this.ii;a.hi=this.hi;a.gi=this.gi;a.sq=this.sq;a.tq=this.tq;a.fi=this.fi;a.ti=this.ti;a.Rh=this.Rh;a.Kp=this.Kp;a.Po=this.Po;a.Qo=this.Qo;a.Ro=this.Ro;a.Oo=this.Oo;a.pc=this.pc;a.ym=this.ym;if(Array.isArray(this.pl)){a.pl=this.pl.slice(0);for(var b=0;b<this.pl.length;b++){var c=
this.pl[b];a[c]=this[c]}}a.xm=this.xm;a.$b=this.$b;a.Jc=this.Jc;a.wk=this.wk.copy();a.ml=this.ml;this.ck!==n&&(a.ck=this.ck.copy())};P.prototype.Ah=function(a){a.Kd=n;a.Il=n;a.R()};P.prototype.copy=P.prototype.copy=function(){var a=new this.constructor;this.xb(a);return a};P.prototype.toString=function(){return w.Tk(Object.getPrototypeOf(this))+"#"+w.ec(this)};var jj;P.None=jj=w.s(P,"None",0);var eh;P.Default=eh=w.s(P,"Default",0);var kd;P.Fill=kd=w.s(P,"Fill",3);var fh;
P.Uniform=fh=w.s(P,"Uniform",1);var gh;P.UniformToFill=gh=w.s(P,"UniformToFill",2);var kj;P.Vertical=kj=w.s(P,"Vertical",4);var lj;P.Horizontal=lj=w.s(P,"Horizontal",5);P.prototype.Qc=function(a,b,c,d,e,g,i){var j=this.ca;if(j!==n&&(j.km(a,b,c,d,e,g,i),this.ym&&(c===this&&a===he)&&(a=this.Wr(),a!==n)))for(c=this.pc.l;c.next();)d=c.value,e=a.data,g=d.Is,g!==n&&(e=a.Ne(g)),e!==n&&(d.TE(this,e,b,g!==n?n:j.h),g!==n&&(e=a,""!==g&&(e=a.Ne(g)),e!==n&&(g=d.om,i=a,""!==g&&(i=a.Ne(g)),i!==n&&d.UE(i,e,b))))};
P.prototype.j=function(a,b,c){this.Qc(he,a,this,b,c)};function mj(a,b,c,d,e){var g=a.Uc,i=a.wk;i.reset();nj(a,i,b,c,d,e);a.wk=i;g.x=b;g.y=c;g.width=d;g.height=e;i.gs()||i.OE(g)}P.prototype.QC=function(a,b){if(this.Of===q)return q;var c=this.Sa,d=a.Yl(b);return $a(a.x,a.y,0,0,0,c.height)<d||$a(a.x,a.y,0,c.height,c.width,c.height)<d||$a(a.x,a.y,c.width,c.height,c.width,0)<d||$a(a.x,a.y,c.width,0,0,0)<d?h:q};
function oj(a,b,c,d){if(a instanceof x)for(var e=a.Ga.length;e--;){var g=a.Ga.n[e];if(g.visible){var i=g.va,j=a.va;i.x>j.width||(i.y>j.height||0>i.x+i.width||0>i.y+i.height)||(oj(g,b,c,d),b!==n&&(g=b(g)),g&&(c===n||c(g))&&d.add(g))}}}P.prototype.Kh=ca(h);
P.prototype.containsPoint=P.prototype.ua=function(a){u&&w.i(a,F,P,"containsPoint:p");var b=kb(this.transform,a),c=this.va;if(!c.P())return q;if(w.iy){var d=this.Sa,e=this.Uk()*(this.h!==n?this.h.scale:1),g=1/e;if(10>d.width*e&&10>d.height*e)return jb(c.x-5*g,c.y-5*g,c.width+10*g,c.height+10*g,b.x,b.y)}return(this.Cc!==f||this instanceof V?jb(c.x-5,c.y-5,c.width+10,c.height+10,b.x,b.y):c.ua(b))?this.ck&&!this.ck.ua(b)?q:this.xe!==n&&c.ua(b)||this.ye!==n&&this.Kc.ua(a)?h:this.xj(a):q};
P.prototype.xj=function(a){var b=this.Sa;return jb(0,0,b.width,b.height,a.x,a.y)};P.prototype.containsRect=P.prototype.Ul=function(a){u&&w.i(a,G,P,"containsRect:r");if(0===this.angle)return this.va.Ul(a);var b=this.Sa,b=new G(0,0,b.width,b.height),c=this.transform;return b.ua(c.Ii(new F(a.x,a.y)))&&b.ua(c.Ii(new F(a.x,a.bottom)))&&b.ua(c.Ii(new F(a.right,a.bottom)))&&b.ua(c.Ii(new F(a.right,a.y)))};
P.prototype.containedInRect=P.prototype.jv=function(a,b){u&&w.i(a,G,P,"containedInRect:r");if(b===f)return a.Ul(this.va);var c=this.Sa;return!a.ua(b.Ta(new F(0,0)))||!a.ua(b.Ta(new F(0,c.height)))||!a.ua(b.Ta(new F(c.width,c.height)))||!a.ua(b.Ta(new F(c.width,0)))?q:h};
P.prototype.intersectsRect=P.prototype.Qe=function(a,b){u&&w.i(a,G,P,"intersectsRect:r");if(b===f&&(b=this.transform,0===this.angle))return a.Qe(this.va);var c=this.Sa,d=b,e=new F(0,0),g=new F(0,c.height),i=new F(c.width,c.height),j=new F(c.width,0);if(a.ua(d.Ta(e))||a.ua(d.Ta(g))||a.ua(d.Ta(i))||a.ua(d.Ta(j)))return h;c=new G(0,0,c.width,c.height);return c.ua(d.Ii(new F(a.x,a.y)))||c.ua(d.Ii(new F(a.x,a.bottom)))||c.ua(d.Ii(new F(a.right,a.bottom)))||c.ua(d.Ii(new F(a.right,a.y)))||Tc(a,e,g)||Tc(a,
g,i)||Tc(a,i,j)||Tc(a,j,e)?h:q};P.prototype.getDocumentPoint=P.prototype.Ab=function(a){zb(a)&&w.m("Spot must be real");var b=this.Sa,a=new F(a.x*b.width+a.offsetX,a.y*b.height+a.offsetY);this.je.Ta(a);return a};P.prototype.getDocumentAngle=P.prototype.ao=function(){var a=this.je;return Math.atan2(a.m12,a.m11)*(180/Math.PI)};P.prototype.getDocumentScale=P.prototype.Uk=function(){var a=this.bc;return this.fa!==n?a*this.fa.Uk():a};P.prototype.getLocalPoint=P.prototype.YC=function(a){return this.je.Ii(a.copy())};
P.prototype.getNearestIntersectionPoint=P.prototype.ZC=function(a,b,c){return this.$r(a.x,a.y,b.x,b.y,c)};da=P.prototype;
da.$r=function(a,b,c,d,e){var g=this.transform,i=1/(g.m11*g.m22-g.m12*g.m21),j=g.m22*i,k=-g.m12*i,l=-g.m21*i,m=g.m11*i,p=i*(g.m21*g.dy-g.m22*g.dx),r=i*(g.m12*g.dx-g.m11*g.dy);if(this.Kk!==n)return g=this.va,Sc(g.left,g.top,g.right,g.bottom,a,b,c,d,e);if(!(this instanceof x)||this instanceof x&&this.background!==n)return i=a*j+b*l+p,a=a*k+b*m+r,j=c*j+d*l+p,c=c*k+d*m+r,e.U(0,0),d=this.Sa,c=Sc(0,0,d.width,d.height,i,a,j,c,e),e.transform(g),c;if(this instanceof x&&(this.Kk===n||this.Kk===f)){i=a*j+b*
l+p;a=a*k+b*m+r;j=c*j+d*l+p;d=c*k+d*m+r;e.U(j,d);k=(j-i)*(j-i)+(d-a)*(d-a);c=q;m=this.Ga.n;r=m.length;l=new F;for(p=0;p<r;p++)b=m[p],b.visible&&b.$r(i,a,j,d,l)&&(c=h,b=(i-l.x)*(i-l.x)+(a-l.y)*(a-l.y),b<k&&(k=b,e.set(l)));e.transform(g);return c}w.m("Unknown GraphObject case");return q};
function Ih(a,b,c,d,e){if(a.$b!==q){var g=a.margin,i=g.top+g.bottom,b=Math.max(b-(g.right+g.left),0),c=Math.max(c-i,0),g=a.wa,i=0;a.$a&&(i=a.$a);var b=isFinite(g.width)?g.width+i:b,c=isFinite(g.height)?g.height+i:c,g=d,i=e,j=a instanceof x;switch(pj(a)){case jj:i=g=0;j&&(c=b=Infinity);break;case kd:isFinite(b)&&b>d&&(g=b);isFinite(c)&&c>e&&(i=c);break;case lj:isFinite(b)&&b>d&&(g=b);i=0;j&&(c=Infinity);break;case kj:isFinite(c)&&c>e&&(i=c),g=0,j&&(b=Infinity)}var j=a.ce,k=a.we;g>j.width&&k.width<
j.width&&(g=j.width);i>j.height&&k.height<j.height&&(i=j.height);d=Math.max(g/a.scale,k.width);e=Math.max(i/a.scale,k.height);j.width<d&&(d=Math.min(k.width,d));j.height<e&&(e=Math.min(k.height,e));b=Math.min(j.width,b);c=Math.min(j.height,c);b=Math.max(d,b);c=Math.max(e,c);g=a.angle;if(90===g||270===g)g=b,b=c,c=g,g=d,d=e,e=g;a.Uc.Ia();a.ms(b,c,d,e);a.Uc.freeze();a.Uc.P()||w.m("Non-real measuredBounds has been set");a.$b=q}}
da.Dc=function(a,b,c,d,e){qj(this);var g=this.KB;g.set(this.Ib);this.Ib.Ia();if(this.Jc===q){var i=this.Ib;i.x=a;i.y=b;i.width=c;i.height=d}else this.wj(a,b,c,d);this.Ib.freeze();this.ck=e===f?n:e;e!==f?this.ml=h:this.fa&&(c=this.fa.Kc,d=this.xa,this.Kk!==n&&(d=this.Ib),e=b+d.height,i=a+d.width,this.ml=!(0<=a&&i<=c.width&&0<=b&&e<=c.height),this instanceof na&&(this.Vt>d.height&&(this.ml=h),this.bq.Mi>d.width&&(this.ml=h)));this.Ib.P()||w.m("Non-real actualBounds has been set");rj(this,g,this.Ib)};
da.wj=aa();function sj(a,b,c,d,e){var g=a.va;g.x=b;g.y=c;g.width=d;g.height=e;if(!a.wa.P()){var g=a.Uc,c=a.margin,b=c.right+c.left,i=c.top+c.bottom,c=g.width+b,g=g.height+i,d=d+b,e=e+i,b=pj(a);c===d&&g===e&&(b=jj);switch(b){case jj:if(c>d||g>e)a.$b=h,Ih(a,c>d?d:c,g>e?e:g);break;case kd:a.$b=h;Ih(a,d,e,0,0);break;case lj:a.$b=h;Ih(a,d,g,0,0);break;case kj:a.$b=h,Ih(a,c,e,0,0)}}}
function rj(a,b,c){a.Jc=q;var d=a.ca;if(d!==n){var e=d.h;if(e!==n)if(tj(d),a instanceof S){d=q;if(e.Zh===q){var g=e.wc,i=e.padding,e=g.x+i.left,j=g.y+i.top,k=g.width-2*i.right,g=g.height-2*i.bottom;b.P()&&(b.x>e&&b.y>j&&b.right<k&&b.bottom<g&&c.x>e&&c.y>j&&c.right<k&&c.bottom<g)&&(d=h)}(a.ju===h||!b.I(c))&&Oi(a,d)}else if(uj(a,d),vj(a),b=a.ca,b!==n&&(b.Dk===a||b.Jl===a||b.Kl===a))b.ju=h}}function uj(a,b){a.We!==n&&(b.ju=h);if(a instanceof x)for(var c=a.Ga,d=c.length,e=0;e<d;e++)uj(c.n[e],b)}
da.Le=function(a,b){if(this.Mg)if(this instanceof x&&(this.type===wj||this.type===xj)){var c=this.Ib;0===c.width||(0===c.height||isNaN(c.x)||isNaN(c.y))||(this.xe!==n&&(yj(this,a,this.xe,h,h),a.fillRect(c.x,c.y,c.width,c.height)),this.ye!==n&&(yj(this,a,this.ye,h),a.fillRect(c.x,c.y,c.width,c.height)),this.Wn(a,b))}else{var d=q;if(this instanceof S){d=h;if(!this.hb())return;if(this.Jf){var e=this.on;a.shadowOffsetX=e.x*b.scale;a.shadowOffsetY=e.y*b.scale;a.shadowColor=this.nn;a.shadowBlur=this.mn}}var g=
q;this.ca&&(g=this.ca.io);c=this.Ib;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){var e=this.transform,i=this.fa,j=this.wm;j.reset();i!==n&&(i.Kh()?j.multiply(i.je):i.fa!==n&&j.multiply(i.fa.je));j.multiply(this.Md);if(j=this.ml){u&&u.wG&&u.trace("clip"+this.toString());var k=i.Kh()?i.Sa:i.va;if(this.ck)var l=this.ck,m=Math.max(l.x,Math.max(c.x,k.x)),p=Math.max(l.y,Math.max(c.y,k.y)),r=Math.abs(m-Math.min(l.right,Math.min(c.right,k.right))),l=Math.abs(p-Math.min(l.bottom,Math.min(c.bottom,
k.bottom)));else m=Math.max(c.x,k.x),p=Math.max(c.y,k.y),r=Math.min(c.right,k.right)-m,l=Math.min(c.bottom,k.bottom)-p;if(m>c.width+c.x||c.x>k.width+k.x||p>c.height+c.y||c.y>k.height+k.y)return;a.save();a.beginPath();a.rect(m,p,r,l);a.clip()}this.xe!==n&&(yj(this,a,this.xe,h,h),a.fillRect(c.x,c.y,c.width,c.height));e.gs()||a.transform(e.m11,e.m12,e.m21,e.m22,e.dx,e.dy);this.ye!==n&&(p=this.Sa,k=c=0,m=p.width,p=p.height,r=0,this instanceof V&&(p=this.Ha.Fb,c=p.x,k=p.y,m=p.width,p=p.height,r=this.rh),
yj(this,a,this.ye,h),a.fillRect(c-r/2,k-r/2,m+r,p+r));if(g&&(this.ye!==n||this.xe!==n||i!==n&&i.xm||i!==n&&i.type===Xh&&i.Ll!==this)){this.xm=h;var s=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=0;a.shadowOffsetY=0;a.shadowBlur=0}else this.xm=q;this.Wn(a,b);g&&this.xm===h&&(a.shadowOffsetX=s[0],a.shadowOffsetY=s[1],a.shadowBlur=s[2]);d&&g&&(a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0);j?(a.restore(),li(b,a)):e.gs()||(d=1/(e.m11*e.m22-e.m12*e.m21),a.transform(e.m22*d,-e.m12*
d,-e.m21*d,e.m11*d,d*(e.m21*e.dy-e.m22*e.dx),d*(e.m12*e.dx-e.m11*e.dy)))}}};da.Wn=aa();
function yj(a,b,c,d,e){if(c!==n)if("string"===typeof c)d?b.sm!==c&&(b.fillStyle=c,b.sm=c):b.tm!==c&&(b.strokeStyle=c,b.tm=c);else if(c.type===He)c=c.color,d?b.sm!==c&&(b.fillStyle=c,b.sm=c):b.tm!==c&&(b.strokeStyle=c,b.tm=c);else{var g,i=a.Sa,j=i.width,i=i.height;if(c.xg&&c.type===gj||c.zA==j&&c.yA==i)g=c.xg;else{var k,l,m,p=m=0;e&&(a=a.va,j=a.width,i=a.height,m=a.x,p=a.y);c.start instanceof F?(a=c.start.x,e=c.start.y):c.start instanceof H?(a=c.start.x*j,e=c.start.y*i):(a=Ob.x*j,e=Ob.y*i);c.end instanceof
F?(k=c.end.x,l=c.end.y):c.end instanceof H?(k=c.end.x*j,l=c.end.y*i):c.type===Ie?(k=Qb.x*j,l=Qb.y*i):(k=Ob.x*j,l=Ob.y*i);a+=m;k+=m;e+=p;l+=p;c.type===Ie?g=b.createLinearGradient(a,e,k,l):c.type===Je?(m=isNaN(c.Xn)?Math.max(j,i)/2:c.Xn,isNaN(c.Io)?(g=0,m=Math.max(j,i)/2):g=c.Io,g=b.createRadialGradient(a,e,g,k,l,m)):c.type===gj?g=b.createPattern(c.pattern,"repeat"):w.ic(c.type,"Brush type");if(c.type!==gj&&(m=c.Rn))for(m=m.l;m.next();)g.addColorStop(m.key,m.value);c.xg=g;c.zA=j;c.yA=i}d?b.sm!==g&&
(b.fillStyle=g,b.sm=g):b.tm!==g&&(b.strokeStyle=g,b.tm=g)}}P.prototype.isContainedBy=P.prototype.Ji=function(a){if(a instanceof x)a:{if(!(this===a||a===n))for(var b=this.fa;b!==n;){if(b===a){a=h;break a}b=b.fa}a=q}else a=q;return a};P.prototype.isVisibleObject=P.prototype.Xk=function(){if(!this.visible)return q;var a=this.fa;return a!==n?a.Xk():h};
function zj(a){if(a.Tm===h){var b=a.Md;b.reset();if(!a.Ib.P()||!a.Uc.P()){a.Tm=q;return}b.translate(a.Ib.x,a.Ib.y);b.translate(-a.xa.x,-a.xa.y);var c=a.Sa;nj(a,b,c.x,c.y,c.width,c.height);a.Tm=q;a.rl=h}a.rl===h&&(a.fa===n?(a.wm.set(a.Md),a.rl=q):a.fa.je!==n&&(b=a.wm,b.reset(),b.multiply(a.fa.wm),b.multiply(a.Md),a.rl=q))}
function nj(a,b,c,d,e,g){1!==a.scale&&b.scale(a.scale);if(0!==a.angle){var i=Ob;a.bg&&tb(a.bg)&&(i=a.bg);var j=new F;if(a instanceof S&&a.Xb!==a){c=a.Xb;d=c.Sa;j.mm(d.x,d.y,d.width,d.height,i);c.wk.Ta(j);j.offset(-c.xa.x,-c.xa.y);for(i=c.fa;i!==n&&i!==a;)i.wk.Ta(j),j.offset(-i.xa.x,-i.xa.y),i=i.fa}else j.mm(c,d,e,g,i);b.rotate(a.angle,j.x,j.y)}}
P.prototype.R=function(a){if(this.$b!==h){this.Jc=this.$b=h;this.fa!==n?a||(this.fa.$b=q,this.fa.R()):(a=this.h,a!==n&&(a.fh.add(this),this instanceof T&&(a.sa.tb||this.Qg(),this.yd!==n&&Aj(this.yd)),a.yb()));if(this instanceof x){var a=this.T===Xh,b=n,c=this.Ga,d=c.length;a&&(b=Ej(this,c,d));for(var e=0;e<d;e++){var g=c.n[e];a&&g===b?g.R(h):g.wa.P()||(g instanceof dh||g instanceof x||pj(g)!==jj)&&g.R(h)}}vj(this)}};
function Mj(a){if(a.$b===q&&(a.$b=h,a.Jc=h,a instanceof x))for(var a=a.Ga.n,b=a.length,c=0;c<b;c++)Mj(a[c])}function Aj(a){if(a.Jc===q){if(a.fa!==n)a.fa.R();else{var b=a.h;b!==n&&(b.fh.add(a),a instanceof T&&a.Qg(),b.yb())}a.Jc=h}}function qj(a){if(a.Tm===q&&(a.Tm=h,a.rl=h,a instanceof x))for(a=a.elements;a.next();)Pj(a.value)}function Pj(a){a.rl=h;if(a instanceof x)for(a=a.elements;a.next();)Pj(a.value)}function vj(a){if(a.fa!==n)vj(a.fa);else{var b=a.h;b!==n&&a.Ib.P()&&Nh(b,a.Ib)}}
function pj(a){var b=a.Ih,c=a.fa;if(c&&c.T===Qj)return Rj(a,c.Zd(a.nc),c.Yd(a.Ec));if(c&&c.T===Xh){if(c.Ll===n){var d=c.Ga,e=d.length;Ej(c,d,e)}if(c.Ll===a)return kd}if(b===eh){if(c){c.T===ch&&c.Ll===n&&(d=c.Ga,e=d.length,Ej(c,d,e));if(c.Ll===a)return kd;a=c.Yy;return a===eh?jj:a}return jj}return b}
function Rj(a,b,c){var d=a.Ih;if(d!==eh)return d;var e=d=f;switch(b.Ih){case kj:e=h;break;case kd:e=h}switch(c.Ih){case lj:d=h;break;case kd:d=h}a=a.fa.Yy;d=d===f&&(a===lj||a===kd)?h:q;e=e===f&&(a===kj||a===kd)?h:q;return d===h&&e===h?kd:d===h?lj:e===h?kj:jj}w.g(P,"segmentOrientation",P.prototype.Cs);w.defineProperty(P,{Cs:"segmentOrientation"},t("Yq"),function(a){var b=this.Yq;b!==a&&(u&&w.kb(a,U,P,"segmentOrientation"),this.Yq=a,this.R(),this.j("segmentOrientation",b,a))});
w.g(P,"segmentIndex",P.prototype.Gh);w.defineProperty(P,{Gh:"segmentIndex"},t("Wq"),function(a){u&&w.k(a,"number",P,"segmentIndex");var a=Math.round(a),b=this.Wq;b!==a&&(this.Wq=a,this.R(),this.j("segmentIndex",b,a))});w.g(P,"segmentFraction",P.prototype.Rz);w.defineProperty(P,{Rz:"segmentFraction"},t("Vq"),function(a){u&&w.k(a,"number",P,"segmentFraction");isNaN(a)?a=0:0>a?a=0:1<a&&(a=1);var b=this.Vq;b!==a&&(this.Vq=a,this.R(),this.j("segmentFraction",b,a))});w.g(P,"segmentOffset",P.prototype.Sz);
w.defineProperty(P,{Sz:"segmentOffset"},t("Xq"),function(a){var b=this.Xq;b.I(a)||(u&&w.i(a,F,P,"segmentOffset"),this.Xq=a=a.O(),this.R(),this.j("segmentOffset",b,a))});w.g(P,"stretch",P.prototype.Ih);w.defineProperty(P,{Ih:"stretch"},t("qh"),function(a){var b=this.qh;b!==a&&(u&&w.kb(a,P,P,"stretch"),this.qh=a,this.R(),this.j("stretch",b,a))});w.g(P,"name",P.prototype.name);
w.defineProperty(P,{name:"name"},t("Bb"),function(a){var b=this.Bb;b!==a&&(u&&w.k(a,"string",P,"name"),this.Bb=a,this.j("name",b,a))});w.g(P,"visible",P.prototype.visible);w.defineProperty(P,{visible:"visible"},t("Mg"),function(a){var b=this.Mg;b!==a&&(u&&w.k(a,"boolean",P,"visible"),this.Mg=a,this.j("visible",b,a),b=this.fa,b!==n?b.R():this instanceof S&&(this.R(),tj(this),a?(this.F(Sj),this.Pi()):(this.F(Tj),this.yh())),vj(this),Uj(this))});w.g(P,"areaBackground",P.prototype.Kk);
w.defineProperty(P,{Kk:"areaBackground"},t("xe"),function(a){var b=this.xe;if(b!==a&&(a===n||"string"===typeof a||a instanceof Fe))a instanceof Fe&&a.freeze(),this.xe=a,vj(this),this.j("areaBackground",b,a)});w.g(P,"background",P.prototype.background);w.defineProperty(P,{background:"background"},t("ye"),function(a){var b=this.ye;if(b!==a&&(a===n||"string"===typeof a||a instanceof Fe))a instanceof Fe&&a.freeze(),this.ye=a,vj(this),this.j("background",b,a)});
w.u(P,{ca:"part"},function(){if(this instanceof S)return this;if(this.Il)return this.Il;var a;for(a=this.fa;a;){if(a instanceof S)return this.Il=a;a=a.fa}return n});P.prototype.dl=ba("zk");w.u(P,{fa:"panel"},t("zk"));w.u(P,{Oa:"layer"},function(){var a=this.ca;return a!==n?a.Oa:n});w.u(P,{h:"diagram"},function(){var a=this.ca;return a!==n?a.h:n},{configurable:h});w.g(P,"position",P.prototype.position);
w.defineProperty(P,{position:"position"},t("rb"),function(a){var b=this.rb;if(!b.I(a)){u&&w.i(a,F,P,"position");if(this instanceof S){if(!a.P())return;var c=this.ej;if(this.Jc===q){var d=this.an,e=c.copy();c.U(a.x+d.x,a.y+d.y);c.I(e)||this.j("location",e,c);this.rb=a=a.O();Vj(this);qj(this);this.j("position",b,a);return}c.U(NaN,NaN)}this.rb=a=a.O();Aj(this);qj(this);this.j("position",b,a)}});w.u(P,{va:"actualBounds"},t("Ib"));w.g(P,"scale",P.prototype.scale);
w.defineProperty(P,{scale:"scale"},t("bc"),function(a){var b=this.bc;b!==a&&(u&&w.o(a,P,"scale"),0>=a&&w.m("GraphObject.scale must be greater than zero"),this.bc=a,qj(this),this.R(),this.j("scale",b,a))});w.g(P,"angle",P.prototype.angle);w.defineProperty(P,{angle:"angle"},t("oc"),function(a){var b=this.oc;b!==a&&(u&&w.o(a,P,"angle"),a%=360,0>a&&(a+=360),this.oc=a,this.R(),qj(this),this.j("angle",b,a))});w.g(P,"desiredSize",P.prototype.wa);
w.defineProperty(P,{wa:"desiredSize"},t("Ce"),function(a){var b=this.Ce;b.I(a)||(u&&w.i(a,bb,P,"desiredSize"),this.Ce=a=a.O(),this.R(),this instanceof V&&this.$f(),this.j("desiredSize",b,a))});w.g(P,"width",P.prototype.width);w.defineProperty(P,{width:"width"},function(){return this.Ce.width},function(a){if(this.Ce.width!==a){u&&w.k(a,"number",P,"width");var b=this.Ce;this.Ce=a=(new bb(a,this.Ce.height)).freeze();this.R();this instanceof V&&this.$f();this.j("desiredSize",b,a)}});w.g(P,"height",P.prototype.height);
w.defineProperty(P,{height:"height"},function(){return this.Ce.height},function(a){if(this.Ce.height!==a){u&&w.k(a,"number",P,"height");var b=this.Ce;this.Ce=a=(new bb(this.Ce.width,a)).freeze();this.R();this instanceof V&&this.$f();this.j("desiredSize",b,a)}});w.g(P,"minSize",P.prototype.we);
w.defineProperty(P,{we:"minSize"},t("Sd"),function(a){var b=this.Sd;b.I(a)||(u&&w.i(a,bb,P,"minSize"),a=a.copy(),isNaN(a.width)&&(a.width=0),isNaN(a.height)&&(a.height=0),a.freeze(),this.Sd=a,this.R(),this.j("minSize",b,a))});w.g(P,"maxSize",P.prototype.ce);w.defineProperty(P,{ce:"maxSize"},t("gj"),function(a){var b=this.gj;b.I(a)||(u&&w.i(a,bb,P,"maxSize"),a=a.copy(),isNaN(a.width)&&(a.width=Infinity),isNaN(a.height)&&(a.height=Infinity),a.freeze(),this.gj=a,this.R(),this.j("maxSize",b,a))});
w.u(P,{xa:"measuredBounds"},t("Uc"));w.u(P,{Sa:"naturalBounds"},t("Kc"),{configurable:h});w.g(P,"margin",P.prototype.margin);w.defineProperty(P,{margin:"margin"},t("jq"),function(a){"number"===typeof a?a=new hb(a):u&&w.i(a,hb,P,"margin");var b=this.jq;b.I(a)||(this.jq=a=a.O(),this.R(),this.j("margin",b,a))});w.u(P,{transform:n},function(){this.Tm===h&&zj(this);return this.Md});w.u(P,{je:n},function(){this.rl===h&&zj(this);return this.wm});w.g(P,"alignment",P.prototype.Db);
w.defineProperty(P,{Db:"alignment"},t("Aa"),function(a){var b=this.Aa;b.I(a)||(u?w.i(a,H,P,"alignment"):zb(a)&&!Eb(a)&&w.m("alignment must be a real Spot or Spot.Default"),this.Aa=a=a.O(),Aj(this),this.j("alignment",b,a))});w.g(P,"column",P.prototype.Ec);w.defineProperty(P,{Ec:"column"},t("Z"),function(a){u&&w.o(a,P,"column");var a=Math.round(a),b=this.Z;b!==a&&(0>a&&w.ra(a,">= 0",P,"column"),this.Z=a,this.R(),this.j("column",b,a))});w.g(P,"columnSpan",P.prototype.pC);
w.defineProperty(P,{pC:"columnSpan"},t("dk"),function(a){u&&w.o(a,P,"columnSpan");var a=Math.round(a),b=this.dk;b!==a&&(1>a&&w.ra(a,">= 1",P,"columnSpan"),this.dk=a,this.R(),this.j("columnSpan",b,a))});w.g(P,"row",P.prototype.nc);w.defineProperty(P,{nc:"row"},t("Tq"),function(a){u&&w.o(a,P,"row");var a=Math.round(a),b=this.Tq;b!==a&&(0>a&&w.ra(a,">= 0",P,"row"),this.Tq=a,this.R(),this.j("row",b,a))});w.g(P,"rowSpan",P.prototype.rowSpan);
w.defineProperty(P,{rowSpan:"rowSpan"},t("Ck"),function(a){u&&w.o(a,P,"rowSpan");var a=Math.round(a),b=this.Ck;b!==a&&(1>a&&w.ra(a,">= 1",P,"rowSpan"),this.Ck=a,this.R(),this.j("rowSpan",b,a))});w.g(P,"isPanelMain",P.prototype.Li);w.defineProperty(P,{Li:"isPanelMain"},t("Rp"),function(a){var b=this.Rp;b!==a&&(u&&w.k(a,"boolean",P,"isPanelMain"),this.Rp=a,this.R(),this.j("isPanelMain",b,a))});w.g(P,"alignmentFocus",P.prototype.sj);
w.defineProperty(P,{sj:"alignmentFocus"},t("To"),function(a){var b=this.To;b.I(a)||(u?w.i(a,H,P,"alignmentFocus"):zb(a)&&!Eb(a)&&w.m("alignmentFocus must be a real Spot or Spot.Default"),this.To=a=a.O(),this.R(),this.j("alignmentFocus",b,a))});w.g(P,"portId",P.prototype.We);
w.defineProperty(P,{We:"portId"},t("Eq"),function(a){var b=this.Eq;if(b!==a){u&&a!==n&&w.k(a,"string",P,"portId");var c=this.ca;c!==n&&!(c instanceof T)&&(w.m("portID being set on a Link: "+a),c=n);b!==n&&c&&Wj(c,this);this.Eq=a;a!==n&&c&&(c.ed===n&&Xj(c),Yj(c,this));this.j("portId",b,a)}});function Zj(a){var b={value:n};$j(a,b);return b.value}function $j(a,b){var c=a.fa;return c===n||!$j(c,b)&&a.visible?(b.value=a,q):h}function Uj(a){var b=a.ca;b instanceof T&&(a=a.h)&&!a.sa.tb&&b.Qg()}
w.g(P,"toSpot",P.prototype.ob);w.defineProperty(P,{ob:"toSpot"},t("wh"),function(a){var b=this.wh;b.I(a)||(u&&w.i(a,H,P,"toSpot"),this.wh=a=a.O(),this.j("toSpot",b,a),Uj(this))});w.g(P,"toEndSegmentLength",P.prototype.fl);w.defineProperty(P,{fl:"toEndSegmentLength"},t("th"),function(a){var b=this.th;b!==a&&(u&&w.k(a,"number",P,"toEndSegmentLength"),0>a&&w.ra(a,">= 0",P,"toEndSegmentLength"),this.th=a,this.j("toEndSegmentLength",b,a),Uj(this))});w.g(P,"toEndSegmentDirection",P.prototype.Ls);
w.defineProperty(P,{Ls:"toEndSegmentDirection"},t("sh"),function(a){var b=this.sh;b!==a&&(u&&w.kb(a,T,P,"toEndSegmentDirection"),this.sh=a,this.j("toEndSegmentDirection",b,a),Uj(this))});w.g(P,"toShortLength",P.prototype.Ms);w.defineProperty(P,{Ms:"toShortLength"},t("vh"),function(a){var b=this.vh;b!==a&&(u&&w.k(a,"number",P,"toShortLength"),this.vh=a,this.j("toShortLength",b,a),Uj(this))});w.g(P,"toLinkable",P.prototype.cA);
w.defineProperty(P,{cA:"toLinkable"},t("or"),function(a){var b=this.or;b!==a&&(u&&a!==n&&w.k(a,"boolean",P,"toLinkable"),this.or=a,this.j("toLinkable",b,a))});w.g(P,"toLinkableDuplicates",P.prototype.GE);w.defineProperty(P,{GE:"toLinkableDuplicates"},t("pr"),function(a){var b=this.pr;b!==a&&(u&&w.k(a,"boolean",P,"toLinkableDuplicates"),this.pr=a,this.j("toLinkableDuplicates",b,a))});w.g(P,"toLinkableSelfNode",P.prototype.HE);
w.defineProperty(P,{HE:"toLinkableSelfNode"},t("qr"),function(a){var b=this.qr;b!==a&&(u&&w.k(a,"boolean",P,"toLinkableSelfNode"),this.qr=a,this.j("toLinkableSelfNode",b,a))});w.g(P,"toMaxLinks",P.prototype.IE);w.defineProperty(P,{IE:"toMaxLinks"},t("rr"),function(a){var b=this.rr;b!==a&&(u&&w.o(a,P,"toMaxLinks"),0>a&&w.ra(a,">= 0",P,"toMaxLinks"),this.rr=a,this.j("toMaxLinks",b,a))});w.g(P,"fromSpot",P.prototype.lb);
w.defineProperty(P,{lb:"fromSpot"},t("dh"),function(a){var b=this.dh;b.I(a)||(u&&w.i(a,H,P,"fromSpot"),this.dh=a=a.O(),this.j("fromSpot",b,a),Uj(this))});w.g(P,"fromEndSegmentLength",P.prototype.Sk);w.defineProperty(P,{Sk:"fromEndSegmentLength"},t("$g"),function(a){var b=this.$g;b!==a&&(u&&w.k(a,"number",P,"fromEndSegmentLength"),0>a&&w.ra(a,">= 0",P,"fromEndSegmentLength"),this.$g=a,this.j("fromEndSegmentLength",b,a),Uj(this))});w.g(P,"fromEndSegmentDirection",P.prototype.Yr);
w.defineProperty(P,{Yr:"fromEndSegmentDirection"},t("Zg"),function(a){var b=this.Zg;b!==a&&(u&&w.kb(a,T,P,"fromEndSegmentDirection"),this.Zg=a,this.j("fromEndSegmentDirection",b,a),Uj(this))});w.g(P,"fromShortLength",P.prototype.Zr);w.defineProperty(P,{Zr:"fromShortLength"},t("bh"),function(a){var b=this.bh;b!==a&&(u&&w.k(a,"number",P,"fromShortLength"),this.bh=a,this.j("fromShortLength",b,a),Uj(this))});w.g(P,"fromLinkable",P.prototype.fz);
w.defineProperty(P,{fz:"fromLinkable"},t("yp"),function(a){var b=this.yp;b!==a&&(u&&a!==n&&w.k(a,"boolean",P,"fromLinkable"),this.yp=a,this.j("fromLinkable",b,a))});w.g(P,"fromLinkableDuplicates",P.prototype.SC);w.defineProperty(P,{SC:"fromLinkableDuplicates"},t("zp"),function(a){var b=this.zp;b!==a&&(u&&w.k(a,"boolean",P,"fromLinkableDuplicates"),this.zp=a,this.j("fromLinkableDuplicates",b,a))});w.g(P,"fromLinkableSelfNode",P.prototype.TC);
w.defineProperty(P,{TC:"fromLinkableSelfNode"},t("Ap"),function(a){var b=this.Ap;b!==a&&(u&&w.k(a,"boolean",P,"fromLinkableSelfNode"),this.Ap=a,this.j("fromLinkableSelfNode",b,a))});w.g(P,"fromMaxLinks",P.prototype.UC);w.defineProperty(P,{UC:"fromMaxLinks"},t("Bp"),function(a){var b=this.Bp;b!==a&&(u&&w.o(a,P,"fromMaxLinks"),0>a&&w.ra(a,">= 0",P,"fromMaxLinks"),this.Bp=a,this.j("fromMaxLinks",b,a))});w.g(P,"cursor",P.prototype.cursor);
w.defineProperty(P,{cursor:"cursor"},t("dp"),function(a){var b=this.dp;b!==a&&(w.k(a,"string",P,"cursor"),this.dp=a,this.j("cursor",b,a))});w.g(P,"click",P.prototype.click);w.defineProperty(P,{click:"click"},t("Ph"),function(a){var b=this.Ph;b!==a&&(a!==n&&w.k(a,"function",P,"click"),this.Ph=a,this.j("click",b,a))});w.g(P,"doubleClick",P.prototype.Zl);
w.defineProperty(P,{Zl:"doubleClick"},t("Th"),function(a){var b=this.Th;b!==a&&(a!==n&&w.k(a,"function",P,"doubleClick"),this.Th=a,this.j("doubleClick",b,a))});w.g(P,"contextClick",P.prototype.Kr);w.defineProperty(P,{Kr:"contextClick"},t("Qh"),function(a){var b=this.Qh;b!==a&&(a!==n&&w.k(a,"function",P,"contextClick"),this.Qh=a,this.j("contextClick",b,a))});w.g(P,"mouseEnter",P.prototype.Cz);
w.defineProperty(P,{Cz:"mouseEnter"},t("uq"),function(a){var b=this.uq;b!==a&&(a!==n&&w.k(a,"function",P,"mouseEnter"),this.uq=a,this.j("mouseEnter",b,a))});w.g(P,"mouseLeave",P.prototype.Dz);w.defineProperty(P,{Dz:"mouseLeave"},t("vq"),function(a){var b=this.vq;b!==a&&(a!==n&&w.k(a,"function",P,"mouseLeave"),this.vq=a,this.j("mouseLeave",b,a))});w.g(P,"mouseOver",P.prototype.rs);
w.defineProperty(P,{rs:"mouseOver"},t("ii"),function(a){var b=this.ii;b!==a&&(a!==n&&w.k(a,"function",P,"mouseOver"),this.ii=a,this.j("mouseOver",b,a))});w.g(P,"mouseHover",P.prototype.qs);w.defineProperty(P,{qs:"mouseHover"},t("hi"),function(a){var b=this.hi;b!==a&&(a!==n&&w.k(a,"function",P,"mouseHover"),this.hi=a,this.j("mouseHover",b,a))});w.g(P,"mouseHold",P.prototype.ps);
w.defineProperty(P,{ps:"mouseHold"},t("gi"),function(a){var b=this.gi;b!==a&&(a!==n&&w.k(a,"function",P,"mouseHold"),this.gi=a,this.j("mouseHold",b,a))});w.g(P,"mouseDragEnter",P.prototype.MD);w.defineProperty(P,{MD:"mouseDragEnter"},t("sq"),function(a){var b=this.sq;b!==a&&(a!==n&&w.k(a,"function",P,"mouseDragEnter"),this.sq=a,this.j("mouseDragEnter",b,a))});w.g(P,"mouseDragLeave",P.prototype.Bz);
w.defineProperty(P,{Bz:"mouseDragLeave"},t("tq"),function(a){var b=this.tq;b!==a&&(a!==n&&w.k(a,"function",P,"mouseDragLeave"),this.tq=a,this.j("mouseDragLeave",b,a))});w.g(P,"mouseDrop",P.prototype.os);w.defineProperty(P,{os:"mouseDrop"},t("fi"),function(a){var b=this.fi;b!==a&&(a!==n&&w.k(a,"function",P,"mouseDrop"),this.fi=a,this.j("mouseDrop",b,a))});w.g(P,"actionDown",P.prototype.By);
w.defineProperty(P,{By:"actionDown"},t("Po"),function(a){var b=this.Po;b!==a&&(a!==n&&w.k(a,"function",P,"actionDown"),this.Po=a,this.j("actionDown",b,a))});w.g(P,"actionUp",P.prototype.Dy);w.defineProperty(P,{Dy:"actionUp"},t("Ro"),function(a){var b=this.Ro;b!==a&&(a!==n&&w.k(a,"function",P,"actionUp"),this.Ro=a,this.j("actionUp",b,a))});w.g(P,"actionMove",P.prototype.Cy);
w.defineProperty(P,{Cy:"actionMove"},t("Qo"),function(a){var b=this.Qo;b!==a&&(a!==n&&w.k(a,"function",P,"actionMove"),this.Qo=a,this.j("actionMove",b,a))});w.g(P,"actionCancel",P.prototype.Ay);w.defineProperty(P,{Ay:"actionCancel"},t("Oo"),function(a){var b=this.Oo;b!==a&&(a!==n&&w.k(a,"function",P,"actionCancel"),this.Oo=a,this.j("actionCancel",b,a))});w.g(P,"toolTip",P.prototype.Ns);
w.defineProperty(P,{Ns:"toolTip"},t("ti"),function(a){var b=this.ti;b!==a&&(a!==n&&w.i(a,of,P,"toolTip"),this.ti=a,this.j("toolTip",b,a))});w.g(P,"contextMenu",P.prototype.contextMenu);w.defineProperty(P,{contextMenu:"contextMenu"},t("Rh"),function(a){var b=this.Rh;b!==a&&(a!==n&&w.i(a,of,P,"contextMenu"),this.Rh=a,this.j("contextMenu",b,a))});w.g(P,"isActionable",P.prototype.Cv);
w.defineProperty(P,{Cv:"isActionable"},t("Kp"),function(a){var b=this.Kp;b!==a&&(w.k(a,"boolean",P,"isActionable"),this.Kp=a,this.j("isActionable",b,a))});w.g(P,"pickable",P.prototype.VD);w.defineProperty(P,{VD:"pickable"},t("Of"),function(a){var b=this.Of;b!==a&&(w.k(a,"boolean",P,"pickable"),this.Of=a,this.j("pickable",b,a))});
P.prototype.bind=P.prototype.bind=function(a){a.Tf=this;var b=this.Wr();b!==n&&ak(b)&&w.m("Cannot add a Binding to a template that has already been copied: "+a);this.pc===n&&(this.pc=new z(df));this.pc.add(a)};P.prototype.findTemplateBinder=P.prototype.Wr=function(){for(var a=this instanceof x?this:this.fa;a!==n;){if(a.kl!==n&&a instanceof x)return a;a=a.fa}return n};P.fromSvg=function(a){return bk(a)};var ck;
P.make=ck=function(a,b){var c=n,d=n;if("function"===typeof a)d=a;else if("string"===typeof a){var e=dk.qa(a);"function"===typeof e?c=e():d=ea[a]}c===n&&(d===f&&(c=window.$,c!==f&&c.noop!==f&&w.m("GraphObject.make failed to complete. Is it conflicting with another $ var? (such as jQuery)"),w.m("GraphObject.make failed to complete, it may be conflicting with another var.")),(d===n||!d.constructor)&&w.m("GraphObject.make requires a class function or class name, not: "+a),c=new d);e=1;c instanceof A&&
1<arguments.length&&(d=arguments[1],"string"===typeof d||d instanceof HTMLDivElement?(c.Bi=n,ei(c,d),e++):w.m("Unknown argument to Diagram constructor: "+d));for(;e<arguments.length;e++)if(d=arguments[e],d===f)w.m("Undefined value at argument "+e+" for object being constructed by GraphObject.make: "+c);else if("string"===typeof d)if(c instanceof na)c.text=d;else if(c instanceof V)c.gb=d;else if(c instanceof ek)c.source=d;else if(c instanceof x){var g=w.am(x,d);g!==n?c.type=g:w.m("Unknown Panel type as an argument to GraphObject.make: "+
d)}else c instanceof Fe?(g=w.am(Fe,d),g!==n?c.type=g:w.m("Unknown Brush type as an argument to GraphObject.make: "+d)):c instanceof hd?(g=w.am(hd,d),g!==n?c.type=g:w.m("Unknown Geometry type as an argument to GraphObject.make: "+d)):c instanceof Ed?(g=w.am(Ed,d),g!==n?c.type=g:w.m("Unknown PathSegment type as an argument to GraphObject.make: "+d)):w.m("Unable to use a string as an argument to GraphObject.make: "+d);else if(d instanceof P)c instanceof x||w.m("A GraphObject can only be added to a Panel, not to: "+
c),c.add(d);else if(d instanceof fk)c instanceof x||w.m("A RowColumnDefinition can only be added to a Panel, not to: "+c),g=d.Iv?c.Zd(d.index):c.Yd(d.index),w.i(d,fk,fk,"copyFrom:pd"),d.Iv?g.height=d.height:g.width=d.width,g.dg=d.dg,g.de=d.de,g.Db=d.Db,g.Gs=d.Gs,g.pc=d.pc;else if(d instanceof ja)c instanceof U&&d.me===U?d===gk||d===$f?c.Fh=d:d===hk||d===ik||d===jk?c.xf=d:d===kk||d===lk||d===mk?c.Wu=d:d===nk||d===ij||w.m("Unknown Link enum value for a Link property: "+d):c instanceof x&&d.me===x?c.type=
d:c instanceof na&&d.me===na?c.iA=d:c instanceof P&&d.me===U?0===d.name.indexOf("Orient")?c.Cs=d:w.m("Unknown Link enum value for GraphObject.segmentOrientation property: "+d):c instanceof P&&d.me===P?c.Ih=d:c instanceof A&&d.me===A?c.Ql=d:c instanceof Fe&&d.me===Fe?c.type=d:c instanceof hd&&d.me===hd?c.type=d:c instanceof Ed&&d.me===Ed?c.type=d:c instanceof df&&d.me===df?c.mode=d:c instanceof fe&&d.me===fe?c.ld=d:c instanceof W&&d.me===W?0===d.name.indexOf("Alignment")?c.Db=d:0===d.name.indexOf("Arrangement")?
c.le=d:0===d.name.indexOf("Compaction")?c.hv=d:0===d.name.indexOf("Path")?c.path=d:0===d.name.indexOf("Sorting")?c.ng=d:0===d.name.indexOf("Style")?c.RE=d:w.m("Unknown enum value: "+d):c instanceof X&&d.me===X?0===d.name.indexOf("Aggressive")?c.aC=d:0===d.name.indexOf("Cycle")?c.yC=d:0===d.name.indexOf("Init")?c.nD=d:0===d.name.indexOf("Layer")?c.xD=d:w.m("Unknown enum value: "+d):c instanceof dj&&d.me===dj?d===ok||d===pk||d===qk||d===rk?c.ng=d:d===sk||d===tk?c.le=d:d===uk||d===vk?c.Db=d:w.m("Unknown enum value: "+
d):c instanceof wk&&d.me===wk?d===xk||d===yk||d===zk||d===Ak||d===Bk?c.ng=d:d===Ck||d===Dk||d===Ek||d===Fk?c.direction=d:d===Gk||d===Hk||d===Ik||d===Jk?c.le=d:d===Kk||d===Lk?c.us=d:w.m("Unknown enum value: "+d):w.m("No property to set for this enum value: "+d);else if(d instanceof df)c instanceof P||c instanceof fk?c.bind(d):w.m("A Binding can only be applied to a GraphObject or RowColumnDefinition, not to: "+c);else if(d instanceof jd)c instanceof hd?c.sb.add(d):w.m("A PathFigure can only be added to a Geometry, not to: "+
c);else if(d instanceof Ed)c instanceof jd?c.za.add(d):w.m("A PathSegment can only be added to a PathFigure, not to: "+c);else if(w.nb(d))if(c instanceof Fe){var g={},i;for(i in d){var j=parseFloat(i);isNaN(j)?g[i]=d[i]:c.addColorStop(j,d[i])}w.Uz(c,g)}else c instanceof fk?(d.row!==f?(g=d.row,(g===f||g===n||Infinity===g||isNaN(g)||0>g)&&w.m("Must specify non-negative integer row for RowColumnDefinition "+d),c.vl=h,c.ea=g):d.column!==f?(g=d.column,(g===f||g===n||Infinity===g||isNaN(g)||0>g)&&w.m("Must specify non-negative integer column for RowColumnDefinition "+
d),c.vl=q,c.ea=g):w.m("Must specify row or column value in a RowColumnDefinition "+d),g=w.kG(d,"row","column"),w.Uz(c,g)):w.Uz(c,d);else w.m('Unknown initializer "'+d+'" for object being constructed by GraphObject.make: '+c);return c};var dk;P.Builders=dk=new ka("string","function");
dk.add("Button",function(){var a=new Fe(Ie);a.addColorStop(0,"white");a.addColorStop(1,"lightgray");var b=new Fe(Ie);b.addColorStop(0,"white");b.addColorStop(1,"dodgerblue");var c=ck(x,Xh,{Cv:h},ck(V,{name:"ButtonBorder",gb:"RoundedRectangle",fill:a,stroke:"gray"}));c.Cz=function(a,c){var g=c.oa(0),i=c._buttonFillOver;i===f&&(i=b);c._buttonFillNormal=g.fill;g.fill=i;i=c._buttonStrokeOver;i===f&&(i="blue");c._buttonStrokeNormal=g.stroke;g.stroke=i};c.Dz=function(b,c){var g=c.oa(0),i=c._buttonFillNormal;
i===f&&(i=a);g.fill=i;i=c._buttonStrokeNormal;i===f&&(i="gray");g.stroke=i};return c});
dk.add("TreeExpanderButton",function(){var a=ck("Button",ck(V,{name:"ButtonIcon",gb:"MinusLine",wa:new bb(6,6)},(new df("figure","isTreeExpanded",function(a,c){var d=n,e=c.fa;e&&(d=a?e._treeExpandedFigure:e._treeCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Iz("")),{visible:q},(new df("visible","isTreeLeaf",function(a){return!a})).Iz(""));a.click=function(a,c){var d=c.ca;if(d instanceof T){var e=d.h;e===n||e.eb||(a.$d=h,d.be?e.Yf.collapseTree(d):e.Yf.expandTree(d))}};return a});
dk.add("SubGraphExpanderButton",function(){var a=ck("Button",ck(V,{name:"ButtonIcon",gb:"MinusLine",wa:new bb(6,6)},(new df("figure","isSubGraphExpanded",function(a,c){var d=n,e=c.fa;e&&(d=a?e._subGraphExpandedFigure:e._subGraphCollapsedFigure);d||(d=a?"MinusLine":"PlusLine");return d})).Iz("")));a.click=function(a,c){var d=c.ca;if(d instanceof vf){var e=d.h;e===n||e.eb||(a.$d=h,d.Re?e.Yf.collapseSubGraph(d):e.Yf.expandSubGraph(d))}};return a});
dk.add("ContextMenuButton",function(){var a=ck("Button");a.Ih=lj;var b=a.Ne("ButtonBorder");b instanceof V&&(b.gb="Rectangle",b.v=new H(0,0,2,2),b.w=new H(1,1,-2,-2));return a});
function x(a){P.call(this);a===f?0===arguments.length?this.T=jh:w.m("invalid argument to Panel constructor: undefined"):(w.kb(a,x,x,"type"),this.T=a);this.Ga=new z(P);this.ie=(new hb).freeze();this.gp=Hb;this.Zb=eh;this.gh=q;this.T===ui&&(this.gh=h);this.li=1;this.Ie=[];this.Ae=[];this.Zo=this.Uq=Mk;this.Zm=this.wn=0;this.An=fh;this.Fp=(new bb(10,10)).freeze();this.Gp=(new F(0,0)).freeze();this.kl=this.Em=n;this.Ax="";this.Cg=this.uk=n;this.Um="category";this.Kf=n;this.Wb=new G(NaN,NaN,NaN,NaN);this.oF=
new G(0,0,0,0);this.xI=new bb(0,0);this.Ll=n}w.Q("Panel",x);w.Ea(x,P);
x.prototype.xb=function(a){P.prototype.xb.call(this,a);a.T=this.T;a.ie.Va(this.ie);a.gp=this.gp.O();a.Zb=this.Zb;if(0<this.Ie.length){for(var b=[],c=this.Ie,d=c.length,e=0;e<d;e++)if(c[e]!==f){var g=c[e].copy();g.dl(a);b[e]=g}a.Ie=b}if(0<this.Ae.length){b=[];c=this.Ae;d=c.length;for(e=0;e<d;e++)c[e]!==f&&(g=c[e].copy(),g.dl(a),b[e]=g);a.Ae=b}a.Uq=this.Uq;a.Zo=this.Zo;a.wn=this.wn;a.Zm=this.Zm;a.An=this.An;a.Fp.Va(this.Fp);a.Gp.Va(this.Gp);a.gh=this.gh;a.li=this.li;a.Em=this.Em;a.kl=this.kl;a.Ax=this.Ax;
a.uk=this.uk;a.Cg=this.Cg;a.Um=this.Um;this._buttonFillNormal&&(a._buttonFillNormal=this._buttonFillNormal);this._buttonFillOver&&(a._buttonFillOver=this._buttonFillOver);this._buttonStrokeNormal&&(a._buttonStrokeNormal=this._buttonStrokeNormal);this._buttonStrokeOver&&(a._buttonStrokeOver=this._buttonStrokeOver);this._treeExpandedFigure&&(a._treeExpandedFigure=this._treeExpandedFigure);this._treeCollapsedFigure&&(a._treeCollapsedFigure=this._treeCollapsedFigure);this._subGraphExpandedFigure&&(a._subGraphExpandedFigure=
this._subGraphExpandedFigure);this._subGraphCollapsedFigure&&(a._subGraphCollapsedFigure=this._subGraphCollapsedFigure);a.Wb=this.Wb.copy()};x.prototype.Ah=function(a){P.prototype.Ah.call(this,a);a.Ga=this.Ga;for(var b=a.Ga.l;b.next();)b.value.zk=a};
x.prototype.copy=x.prototype.copy=function(){var a=P.prototype.copy.call(this);if(a instanceof x){var b=this.Ga;if(0<b.length)for(var c=b.length,d=0;d<c;d++){var e=b.n[d].copy(),g=a;e.dl(g);e.Il=n;var i=g.Ga,j=i.count;i.yc(j,e);i=g.ca;if(i!==n){var k=g.h;k!==n&&k.sa.tb||i.Qc(ie,"elements",g,n,e,n,j)}}return a}return n};x.prototype.toString=function(){return"Panel("+this.type+")#"+w.ec(this)};var jh;x.Position=jh=w.s(x,"Position",0);x.Horizontal=w.s(x,"Horizontal",1);var fi;
x.Vertical=fi=w.s(x,"Vertical",2);var ch;x.Spot=ch=w.s(x,"Spot",3);var Xh;x.Auto=Xh=w.s(x,"Auto",4);var Qj;x.Table=Qj=w.s(x,"Table",5);x.Viewbox=w.s(x,"Viewbox",6);var wj;x.TableRow=wj=w.s(x,"TableRow",7);var xj;x.TableColumn=xj=w.s(x,"TableColumn",8);var Ug;x.Link=Ug=w.s(x,"Link",9);var ui;x.Grid=ui=w.s(x,"Grid",10);w.u(x,{elements:"elements"},function(){return this.Ga.l});w.u(x,{Sa:"naturalBounds"},t("Kc"));w.g(x,"padding",x.prototype.padding);
w.defineProperty(x,{padding:"padding"},t("ie"),function(a){"number"===typeof a?a=new hb(a):w.i(a,hb,x,"padding");var b=this.ie;b.I(a)||(this.ie=a=a.O(),this.R(),this.j("padding",b,a))});w.g(x,"type",x.prototype.type);w.defineProperty(x,{type:"type"},t("T"),function(a){var b=this.T;b!==a&&(u&&w.kb(a,x,x,"type"),(b===wj||b===xj)&&w.m("Cannot change Panel.type when it is already a TableRow or a TableColumn: "+a),this.T=a,this.T===ui&&(this.gh=h),this.R(),this.j("type",b,a))});
w.g(x,"defaultAlignment",x.prototype.Aj);w.defineProperty(x,{Aj:"defaultAlignment"},t("gp"),function(a){var b=this.gp;b.I(a)||(u&&w.i(a,H,x,"defaultAlignment"),this.gp=a=a.O(),this.R(),this.j("defaultAlignment",b,a))});w.g(x,"defaultStretch",x.prototype.Yy);w.defineProperty(x,{Yy:"defaultStretch"},t("Zb"),function(a){var b=this.Zb;b!==a&&(w.kb(a,P,x,"defaultStretch"),this.Zb=a,this.R(),this.j("defaultStretch",b,a))});w.g(x,"viewboxStretch",x.prototype.pI);
w.defineProperty(x,{pI:"viewboxStretch"},t("An"),function(a){var b=this.An;b!==a&&(w.kb(a,P,x,"viewboxStretch"),this.An=a,this.j("viewboxStretch",b,a))});w.g(x,"gridCellSize",x.prototype.as);w.defineProperty(x,{as:"gridCellSize"},t("Fp"),function(a){var b=this.Fp;b.I(a)||(w.i(a,bb,x,"gridCellSize"),(!a.P()||0===a.width||0===a.height)&&w.m("Invalid Panel.gridCellSize: "+a),this.Fp=a.O(),this.h!==n&&this===this.h.Bv&&Gi(this.h),vj(this),this.j("gridCellSize",b,a))});w.g(x,"gridOrigin",x.prototype.iz);
w.defineProperty(x,{iz:"gridOrigin"},t("Gp"),function(a){var b=this.Gp;b.I(a)||(w.i(a,F,x,"gridOrigin"),a.P()||w.m("Invalid Panel.gridOrigin: "+a),this.Gp=a.O(),vj(this),this.j("gridOrigin",b,a))});
x.prototype.Wn=function(a,b){var c=this.opacity,d=1;1!==c&&(d=a.globalAlpha,a.globalAlpha=d*c);if(this.T===ui){c=this.Uk()*b.scale;0>=c&&(c=1);var e=this.as,d=e.width,e=e.height,g=this.Sa,i=g.width,g=g.height,j=Math.ceil(i/d),k=Math.ceil(g/e),l=this.iz;a.save();a.beginPath();a.rect(0,0,i,g);a.clip();for(var m=[],p=this.Ga.n,r=this.Ga.length,s=0;s<r;s++){var v=[];m.push(v);var y=p[s];if(y.visible)for(var y="LineV"===y.gb,C=s+1;C<r;C++){var E=p[C];E.visible&&"LineV"===E.gb===y&&(E=E.Gi,2<=E&&v.push(E))}}p=
this.Ga.length;for(r=0;r<p;r++)if(y=this.Ga.n[r],y.visible){s=m[r];v=y.Gi;if("LineV"===y.gb){a.lineWidth=y.$a;yj(this,a,y.stroke,q);a.beginPath();for(C=y=Math.floor(-l.x/d);C<=y+j&&!(E=C*d+l.x,0<=E&&(E<i&&Nk(C,v,s))&&(a.moveTo(E,0),a.lineTo(E,g),2>d*v*c));C++);}else{a.lineWidth=y.$a;yj(this,a,y.stroke,q);a.beginPath();for(C=y=Math.floor(-l.y/e);C<=y+k&&!(E=C*e+l.y,0<=E&&(E<=g&&Nk(C,v,s))&&(a.moveTo(0,E),a.lineTo(i,E),2>e*v*c));C++);}a.stroke()}a.restore();li(b,a)}else{e=this.Ga.length;for(i=0;i<e;i++)this.Ga.n[i].Le(a,
b);u&&u.iK&&this instanceof U&&u.hK(a,b,this);1!==c&&(a.globalAlpha=d)}};function Nk(a,b,c){if(0!==a%b)return q;for(var b=c.length,d=0;d<b;d++)if(0===a%c[d])return q;return h}
x.prototype.ms=function(a,b,c,d){var e=this.Wb;e.width=0;e.height=0;var g=this.wa,i=this.we;c===f&&(c=i.width,d=i.height);var c=Math.max(c,i.width),d=Math.max(d,i.height),j=this.ce;isNaN(g.width)||(a=Math.min(g.width,j.width));isNaN(g.height)||(b=Math.min(g.height,j.height));var a=Math.max(c,a),b=Math.max(d,b),k=this.padding,a=Math.max(a-k.left-k.right,0),b=Math.max(b-k.top-k.bottom,0),l=this.Ga,m=l.length;if(0===m){var p=this.Kc;db(p,!isNaN(g.width)?a:0,!isNaN(g.height)?b:0);mj(this,0,0,p.width,
p.height)}else{var r=this.T.Bb;switch(r){case "Position":var s=a,v=b,y=c,C=d;e.x=0;e.y=0;e.width=0;for(var E=e.height=0;E<m;E++){var I=l.n[E];if(I.visible||I===this.Xb){var D=I.margin,M=D.right+D.left,N=D.top+D.bottom;Ih(I,s,v,y,C);var Z=I.xa,va=Math.max(Z.width+M,0),la=Math.max(Z.height+N,0),ta=I.position.x,Ea=I.position.y;isFinite(ta)||(ta=0);isFinite(Ea)||(Ea=0);if(I instanceof V&&I.nz)var Ha=I.$a/2,ta=ta-Ha,Ea=Ea-Ha;e.Wb(ta,Ea,va,la)}}break;case "Vertical":for(var cb=a,rb=c,Xa=[],Na=0;Na<m;Na++){var gb=
l.n[Na];if(gb.visible||gb===this.Xb){var Ya=pj(gb);if(Ya!==jj&&Ya!==kj)Xa.push(gb);else{var nb=gb.margin,vd=nb.right+nb.left,me=nb.top+nb.bottom;Ih(gb,cb,Infinity,rb,0);var Nd=gb.xa,Ub=Math.max(Nd.width+vd,0),Fc=Math.max(Nd.height+me,0);e.width=Math.max(e.width,Ub);e.height+=Fc}}}var ae=Xa.length;if(0!==ae){this.wa.width?cb=Math.min(this.wa.width,this.ce.width):0!==e.width&&(cb=Math.min(e.width,this.ce.width));for(Na=0;Na<ae;Na++)if(gb=Xa[Na],gb.visible||gb===this.Xb)nb=gb.margin,vd=nb.right+nb.left,
me=nb.top+nb.bottom,Ih(gb,cb,Infinity,rb,0),Nd=gb.xa,Ub=Math.max(Nd.width+vd,0),Fc=Math.max(Nd.height+me,0),e.width=Math.max(e.width,Ub),e.height+=Fc}break;case "Horizontal":for(var oe=b,Rf=d,Vc=[],yd=0;yd<m;yd++){var cc=l.n[yd];if(cc.visible||cc===this.Xb){var Sf=pj(cc);if(Sf!==jj&&Sf!==lj)Vc.push(cc);else{var Mc=cc.margin,Pe=Mc.right+Mc.left,pf=Mc.top+Mc.bottom;Ih(cc,Infinity,oe,0,Rf);var qf=cc.xa,Wc=Math.max(qf.width+Pe,0),Nc=Math.max(qf.height+pf,0);e.width+=Wc;e.height=Math.max(e.height,Nc)}}}var Qe=
Vc.length;if(0!==Qe){this.wa.height?oe=Math.min(this.wa.height,this.ce.height):0!==e.height&&(oe=Math.min(e.height,this.ce.height));for(yd=0;yd<Qe;yd++)if(cc=Vc[yd],cc.visible||cc===this.Xb)Mc=cc.margin,Pe=Mc.right+Mc.left,pf=Mc.top+Mc.bottom,Ih(cc,Infinity,oe,0,Rf),qf=cc.xa,Wc=Math.max(qf.width+Pe,0),Nc=Math.max(qf.height+pf,0),e.width+=Wc,e.height=Math.max(e.height,Nc)}break;case "Spot":a:{var ce=a,Mb=b,de=c,pe=d,lc=Ej(this,l,m),wb=lc.margin,Xc,Nb,Qd=wb.right+wb.left,qe=wb.top+wb.bottom;Ih(lc,ce,
Mb,de,pe);var Cb=lc.xa,R=Cb.width,Vb=Cb.height,Q=Math.max(R+Qd,0),ha=Math.max(Vb+qe,0);e.x=-wb.left;e.y=-wb.top;e.width=Q;e.height=ha;for(var Ab=0;Ab<m;Ab++){var Fb=l.n[Ab];if(Fb!==lc&&(Fb.visible||Fb===this.Xb)){wb=Fb.margin;Xc=wb.right+wb.left;Nb=wb.top+wb.bottom;Ih(Fb,ce,Mb,0,0);var Cb=Fb.xa,Q=Math.max(Cb.width+Xc,0),ha=Math.max(Cb.height+Nb,0),Ga=Fb.Db;Eb(Ga)&&(Ga=this.Aj);tb(Ga)||(Ga=Ob);var oa=Fb.sj;Eb(oa)&&(oa=Ob);e.Wb(Ga.x*R+Ga.offsetX-(oa.x*Cb.width-oa.offsetX)-wb.left,Ga.y*Vb+Ga.offsetY-
(oa.y*Cb.height-oa.offsetY)-wb.top,Q,ha)}}var Aa=lc.Ih;Aa===eh&&(Aa=pj(lc));switch(Aa){case jj:break a;case kd:if(!isFinite(ce)&&!isFinite(Mb))break a;break;case lj:if(!isFinite(ce))break a;break;case kj:if(!isFinite(Mb))break a}Cb=lc.xa;R=Cb.width;Vb=Cb.height;Q=Math.max(R+Qd,0);ha=Math.max(Vb+qe,0);wb=lc.margin;e.x=-wb.left;e.y=-wb.top;e.width=Q;e.height=ha;for(Ab=0;Ab<m;Ab++)if(Fb=l.n[Ab],Fb!==lc&&(Fb.visible||Fb===this.Xb))wb=Fb.margin,Xc=wb.right+wb.left,Nb=wb.top+wb.bottom,Cb=Fb.xa,Q=Math.max(Cb.width+
Xc,0),ha=Math.max(Cb.height+Nb,0),Ga=Fb.Db,Eb(Ga)&&(Ga=this.Aj),tb(Ga)||(Ga=Ob),oa=Fb.sj,Eb(oa)&&(oa=Ob),e.Wb(Ga.x*R+Ga.offsetX-(oa.x*Cb.width-oa.offsetX)-wb.left,Ga.y*Vb+Ga.offsetY-(oa.y*Cb.height-oa.offsetY)-wb.top,Q,ha)}break;case "Auto":var Pa=a,Yc=b,xc=c,ld=d,xb=Ej(this,l,m),Zc=xb.margin,Ib=Zc.right+Zc.left,eb=Zc.top+Zc.bottom;Ih(xb,Pa,Yc,xc,ld);var yc=xb.xa,Re=Math.max(yc.width+Ib,0),re=Math.max(yc.height+eb,0),zd=(new F).mm(0,0,Re,re,Ok(xb)),rf=(new F).mm(0,0,Re,re,Pk(xb)),Tf=new G(zd,rf),
kg=Pa,se=Yc;isFinite(Pa)&&(kg=Tf.width);isFinite(Yc)&&(se=Tf.height);for(var Rd=new bb(0,0),te=0;te<m;te++){var Ad=l.n[te];if(Ad!==xb&&(Ad.visible||Ad===this.Xb)){var Zc=Ad.margin,Se=Zc.right+Zc.left,Wb=Zc.top+Zc.bottom;Ih(Ad,kg,se,xc,ld);yc=Ad.xa;Re=Math.max(yc.width+Se,0);re=Math.max(yc.height+Wb,0);Rd=new bb(Math.max(Re,Rd.width),Math.max(re,Rd.height))}}if(1===m)e.width=Re,e.height=re;else{var Oc=Ok(xb),ue=Pk(xb),$c,Te;ue.x!==Oc.x&&ue.y!==Oc.y&&($c=Rd.width/Math.abs(ue.x-Oc.x),Te=Rd.height/Math.abs(ue.y-
Oc.y));var ve=0;xb instanceof V&&(ve=xb.$a*xb.scale);$c+=Math.abs(Oc.offsetX)+Math.abs(ue.offsetX)+ve;Te+=Math.abs(Oc.offsetY)+Math.abs(ue.offsetY)+ve;var Sd=xb.Ih;Sd===eh&&(Sd=pj(xb));switch(Sd){case jj:ld=xc=0;break;case kd:isFinite(Pa)&&($c=Pa);isFinite(Yc)&&(Te=Yc);break;case lj:isFinite(Pa)&&($c=Pa);ld=0;break;case kj:xc=0,isFinite(Yc)&&(Te=Yc)}xb instanceof V&&(xb.nh?xb.ek=n:xb.Ha=n);Mj(xb);Ih(xb,$c,Te,xc,ld);e.width=xb.xa.width+Ib;e.height=xb.xa.height+eb}break;case "Table":for(var Td=a,we=
b,yb=m,Bd=c,lb=d,Bb=[],zc=[],wa=0;wa<yb;wa++){var ya=l.n[wa];if(ya instanceof x&&(ya.type===wj||ya.type===xj)&&ya.visible){zc.push(ya);for(var Bj=ya.Ga,zl=Bj.length,Pc=0;Pc<zl;Pc++){var Jg=Bj.n[Pc];ya.type===wj?Jg.nc=ya.nc:ya.type===xj&&(Jg.Ec=ya.Ec);Bb.push(Jg)}}else Bb.push(ya)}for(var yb=Bb.length,Gc=[],wa=0;wa<yb;wa++)ya=Bb[wa],ya.$b=h,ya.Jc=h,Gc[ya.nc]||(Gc[ya.nc]=[]),Gc[ya.nc][ya.Ec]||(Gc[ya.nc][ya.Ec]=[]),Gc[ya.nc][ya.Ec].push(ya);for(var ni=[],wh=[],Kg=[],Xb={count:0},Ue={count:0},Ud=Td,Ac=
we,Cd=this.Ie,yb=Cd.length,wa=0;wa<yb;wa++){var Ba=Cd[wa];Ba!==f&&Qk(Ba,0)}Cd=this.Ae;yb=Cd.length;for(wa=0;wa<yb;wa++)Ba=Cd[wa],Ba!==f&&Qk(Ba,0);for(var ad,lg=Gc.length,wa=0;wa<lg;wa++)if(Gc[wa]){var Cj=Gc[wa].length,vb=this.Zd(wa);Qk(vb,0);for(Pc=0;Pc<Cj;Pc++)if(Gc[wa][Pc]){var sb=this.Yd(Pc);ni[Pc]===f&&(Qk(sb,0),ni[Pc]=h);for(var Dj=Gc[wa][Pc],xh=Dj.length,mg=0;mg<xh;mg++)if(ya=Dj[mg],ya.visible||ya===this.Xb)if(1<ya.Ck||1<ya.dk)wh.push(ya);else{var ee=Rj(ya,vb,sb);if(ee!==jj&&!ya.wa.P())Xb[Pc]===
f&&(Xb[Pc]=-1,Xb.count++),Ue[wa]===f&&(Ue[wa]=-1,Ue.count++),Kg.push(ya),Ih(ya,Infinity,Infinity,Bd,lb);else{var ng=isFinite(sb.width)?sb.width:Td,og=isFinite(vb.height)?vb.height:we,Yb=new bb(Math.max(sb.dg,Math.min(ng,sb.de)),Math.max(vb.dg,Math.min(og,vb.de))),Db=ya.margin,Ve=Db.right+Db.left,Vd=Db.top+Db.bottom;Ih(ya,Infinity,Infinity,Bd,lb);var Qc=ya.xa,sf=Math.max(Qc.width+Ve,0),Uf=Math.max(Qc.height+Vd,0),Ba=this.Zd(wa);ad=Math.max(Uf-Ba.Xa,0);ad>Ac&&(ad=Ac);Qk(Ba,Ba.Xa+ad);Ac=Math.max(Ac-
ad,0);Ba=this.Yd(Pc);ad=Math.max(sf-Ba.Xa,0);ad>Ud&&(ad=Ud);Qk(Ba,Ba.Xa+ad);Ud=Math.max(Ud-ad,0)}}}}for(var We=0,Xe=0,yb=this.ev,wa=0;wa<yb;wa++)this.Ae[wa]!==f&&(We+=this.Yd(wa).Xa);yb=this.Vv;for(wa=0;wa<yb;wa++)this.Ie[wa]!==f&&(Xe+=this.Zd(wa).Xa);Ud=Math.max(Td-We,0);Ac=Math.max(we-Xe,0);yb=Kg.length;for(wa=0;wa<yb;wa++){var ya=Kg[wa],vb=this.Zd(ya.nc),sb=this.Yd(ya.Ec),oi=ya.xa,Db=ya.margin,Ve=Db.right+Db.left,Vd=Db.top+Db.bottom;Xb[ya.Ec]=Math.max(oi.width+Ve-sb.hd,0);Ue[ya.nc]=Math.max(oi.height+
Vd-vb.hd,0)}var nd=0,pg=0;for(wa in Ue)"count"!==wa&&(nd+=Ue[wa]);for(wa in Xb)"count"!==wa&&(pg+=Xb[wa]);for(wa=0;wa<yb;wa++)if(ya=Kg[wa],ya.visible||ya===this.Xb){vb=this.Zd(ya.nc);sb=this.Yd(ya.Ec);ng=isFinite(sb.width)?sb.width:isFinite(Ud)?sb.hd+Xb[ya.Ec]/pg*Ud:sb.hd||Ud;og=isFinite(vb.height)?vb.height:isFinite(Ac)?vb.hd+Ue[ya.nc]/nd*Ac:vb.hd||Ac;Yb=new bb(Math.max(sb.dg,Math.min(ng,sb.de)),Math.max(vb.dg,Math.min(og,vb.de)));ee=Rj(ya,vb,sb);switch(ee){case lj:Yb.height=Infinity;break;case kj:Yb.width=
Infinity}Db=ya.margin;Ve=Db.right+Db.left;Vd=Db.top+Db.bottom;Mj(ya);Ih(ya,Yb.width,Yb.height,sb.dg,vb.dg);var Qc=ya.xa,sf=Math.max(Qc.width+Ve,0),Uf=Math.max(Qc.height+Vd,0),Vf;Vf=vb.hd;Qk(vb,Math.max(vb.Xa,Uf));ad=vb.hd-Vf;Ac=Math.max(Ac-ad,0);Vf=sb.hd;Qk(sb,Math.max(sb.Xa,sf));ad=sb.hd-Vf;Ud=Math.max(Ud-ad,0)}yb=wh.length;for(wa=0;wa<yb;wa++)if(ya=wh[wa],ya.visible||ya===this.Xb){vb=this.Zd(ya.nc);sb=this.Yd(ya.Ec);Yb=new bb(Math.max(sb.dg,Math.min(Td,sb.de)),Math.max(vb.dg,Math.min(we,vb.de)));
ee=Rj(ya,vb,sb);switch(ee){case kd:0!==sb.hd&&(Yb.width=Math.min(Yb.width,sb.hd));0!==vb.hd&&(Yb.height=Math.min(Yb.height,vb.hd));break;case lj:0!==sb.hd&&(Yb.width=Math.min(Yb.width,sb.hd));break;case kj:0!==vb.hd&&(Yb.height=Math.min(Yb.height,vb.hd))}isFinite(sb.width)&&(Yb.width=sb.width);isFinite(vb.height)&&(Yb.height=vb.height);for(var od=new bb(0,0),Bc=1;Bc<ya.Ck&&!(ya.nc+Bc>=this.Vv);Bc++)Ba=this.Zd(ya.nc+Bc),od.height+=Math.max(Ba.dg,isNaN(Ba.pf)?Ba.de:Math.min(Ba.pf,Ba.de));for(Bc=1;Bc<
ya.dk&&!(ya.Ec+Bc>=this.ev);Bc++)Ba=this.Yd(ya.Ec+Bc),od.width+=Math.max(Ba.dg,isNaN(Ba.pf)?Ba.de:Math.min(Ba.pf,Ba.de));Yb.width+=od.width;Yb.height+=od.height;Db=ya.margin;Ve=Db.right+Db.left;Vd=Db.top+Db.bottom;Ih(ya,Yb.width,Yb.height,Bd,lb);for(var Qc=ya.xa,sf=Math.max(Qc.width+Ve,0),Uf=Math.max(Qc.height+Vd,0),qg=0,Bc=0;Bc<ya.Ck;Bc++)Ba=this.Zd(ya.nc+Bc),qg+=Ba.Xa||0;if(qg<Uf)for(var Wd=Uf-qg;0<Wd;){var Ye=Ba.Xa||0;isNaN(Ba.height)&&Ba.de>Ye&&(Qk(Ba,Math.min(Ba.de,Ye+Wd)),Ba.Xa!==Ye&&(Wd-=Ba.Xa-
Ye));if(-1===Ba.index-1)break;Ba=this.Zd(Ba.index-1)}for(var tf=0,Bc=0;Bc<ya.dk;Bc++)Ba=this.Yd(ya.Ec+Bc),tf+=Ba.Xa||0;if(tf<sf)for(Wd=sf-tf;0<Wd;){Ye=Ba.Xa||0;isNaN(Ba.width)&&Ba.de>Ye&&(Qk(Ba,Math.min(Ba.de,Ye+Wd)),Ba.Xa!==Ye&&(Wd-=Ba.Xa-Ye));if(-1===Ba.index-1)break;Ba=this.Yd(Ba.index-1)}}for(var xe=0,Ze=0,ee=pj(this),Lg=this.wa,Mg=this.ce,pd=Xe=We=0,ye=0,yb=this.ev,wa=0;wa<yb;wa++)this.Ae[wa]!==f&&(Ba=this.Yd(wa),isFinite(Ba.width)?pd+=Ba.width:Rk(Ba)===Sk?pd+=Ba.Xa:We+=Ba.Xa);var xe=isFinite(Lg.width)?
Math.min(Lg.width,Mg.width):ee!==jj&&isFinite(Td)?Td:We,xe=Math.max(xe,this.we.width),xe=Math.max(xe-pd,0),Og=Math.max(xe/We,1);isFinite(Og)||(Og=1);for(wa=0;wa<yb;wa++)this.Ae[wa]!==f&&(Ba=this.Yd(wa),!isFinite(Ba.width)&&Rk(Ba)!==Sk&&Qk(Ba,Ba.Xa*Og),Ba.rb=e.width,e.width+=Ba.Xa);yb=this.Vv;for(wa=0;wa<yb;wa++)this.Ie[wa]!==f&&(Ba=this.Zd(wa),isFinite(Ba.height)?ye+=Ba.height:Rk(Ba)===Sk?ye+=Ba.Xa:Xe+=Ba.Xa);var Ze=isFinite(Lg.height)?Math.min(Lg.height,Mg.height):ee!==jj&&isFinite(we)?we:Xe,Ze=
Math.max(Ze,this.we.height),Ze=Math.max(Ze-ye,0),rg=Math.max(Ze/Xe,1);isFinite(rg)||(rg=1);for(wa=0;wa<yb;wa++)this.Ie[wa]!==f&&(Ba=this.Zd(wa),!isFinite(Ba.height)&&Rk(Ba)!==Sk&&Qk(Ba,Ba.Xa*rg),Ba.rb=e.height,e.height+=Ba.Xa);yb=zc.length;for(wa=0;wa<yb;wa++){var bd=zc[wa];bd.type===wj?(ng=e.width,Ba=this.Zd(bd.nc),og=Ba.hd):(Ba=this.Yd(bd.Ec),ng=Ba.hd,og=e.height);bd.Uc.U(0,0,ng,og);bd.$b=q;Gc[bd.nc]||(Gc[bd.nc]=[]);Gc[bd.nc][bd.Ec]||(Gc[bd.nc][bd.Ec]=[]);Gc[bd.nc][bd.Ec].push(bd)}this.mF=Gc;break;
case "Viewbox":var Wf=a,ze=b,yh=c,zh=d;1<m&&w.m("Viewbox Panel cannot contain more than one GraphObject.");var tc=l.n[0];tc.bc=1;Mj(tc);Ih(tc,Infinity,Infinity,yh,zh);var pi=tc.xa,Fj=tc.margin,jo=Fj.right+Fj.left,ko=Fj.top+Fj.bottom;if(isFinite(Wf)||isFinite(ze)){var dq=tc.scale,lo=pi.width,mo=pi.height,no=Math.max(Wf-jo,0),oo=Math.max(ze-ko,0);tc.bc=this.An===fh?tc.bc*Math.min(no/lo,oo/mo):tc.bc*Math.max(no/lo,oo/mo);dq!==tc.scale&&(tc.$b=h,Ih(tc,Infinity,Infinity,yh,zh))}pi=tc.xa;e.width=isFinite(Wf)?
Wf:Math.max(pi.width+jo,0);e.height=isFinite(ze)?ze:Math.max(pi.height+ko,0);break;case "Link":var po=this instanceof of?this.Hk:this;if(0===m){var Gj=this.Kc;db(Gj,0,0);var Xd=this.xa;Xd.U(0,0,0,0)}else{var Hj=this.Ep(),$e=this.Xh(),af=$e.copy();af.x=0;af.y=0;var Pg,Ah=this.nx();Pg=this.ja!==f?this.ja:Ah.count;for(var Ij=new F(Infinity,Infinity),Qg=0;Qg<Pg;Qg++){var qo=Ah.n[Qg];Ij.x=Math.min(qo.x,Ij.x);Ij.y=Math.min(qo.y,Ij.y)}this.ej=new F($e.x,$e.y);this.Oh.clear();Hj!==n&&(Tk(Hj,$e.width,$e.height),
Xd=Hj.xa,af.Ni(Xd),this.Oh.add(Xd));for(var Rg=n,sg=n,Xf=n,Qg=0;Qg<m;Qg++){var mc=l.n[Qg];if(mc!==Hj)if(mc.Li&&mc instanceof V)Tk(mc,$e.width,$e.height),Xd=mc.xa,af.Ni(Xd),this.Oh.add(Xd);else if(2>Pg)Ih(mc,Infinity,Infinity),Xd=mc.xa,af.Ni(Xd),this.Oh.add(Xd);else{Rg===n&&(Rg=new Wa,sg=new F,Xf=new F);var Yf=mc.Gh,so=mc.Rz,Al=mc.sj;zb(Al)&&(Al=Ob);var Jj=mc.Cs,eq=mc.Sz,qi,ri,Kj=0;if(Yf<-Pg||Yf>=Pg){var to=po.KD,Lj=po.JD;Jj!==ij&&(Kj=Uk(Jj,Lj),mc.angle=Kj);qi=to.x-$e.x;ri=to.y-$e.y}else{var uf,Bh;
if(0<=Yf)uf=Ah.n[Yf],Bh=Yf<Pg-1?Ah.n[Yf+1]:uf;else{var Bl=Pg+Yf;uf=Ah.n[Bl];Bh=0<Bl?Ah.n[Bl-1]:uf}Lj=0<=Yf?uf.Ai(Bh):Bh.Ai(uf);Jj!==ij&&(Kj=Uk(Jj,Lj),mc.oc=Kj);qi=uf.x+(Bh.x-uf.x)*so-$e.x;ri=uf.y+(Bh.y-uf.y)*so-$e.y}Ih(mc,Infinity,Infinity);var Xd=mc.xa,Gj=mc.Sa,si=0;mc instanceof V&&(si=mc.$a);var uo=Gj.width+si,vo=Gj.height+si;Rg.reset();Rg.translate(-Xd.x,-Xd.y);Rg.scale(mc.scale,mc.scale);Rg.rotate(mc.angle,uo/2,vo/2);var wo=new G(0,0,uo,vo);sg.Fo(wo,Al);Rg.Ta(sg);var fq=-sg.x+si/2,gq=-sg.y+si/
2;Xf.set(eq);isNaN(Xf.x)&&(Xf.x=0<=Yf?sg.x+3:-(sg.x+3));isNaN(Xf.y)&&(Xf.y=-(sg.y+3));Xf.rotate(Lj);qi+=Xf.x;ri+=Xf.y;var ti=wo;ti.set(Xd);ti.x=qi+fq;ti.y=ri+gq;this.Oh.add(ti);af.Ni(ti)}}if(this.Fe)for(var xo=this.Ij;xo.next();)Ih(xo.value,Infinity,Infinity);this.Wb=af;var Nj=this.ej;Nj&&Nj.U(Nj.x+af.x,Nj.y+af.y);db(e,af.width||0,af.height||0)}break;case "Grid":break;case "TableRow":case "TableColumn":w.m(this.toString()+" is not an element of a Table Panel. TableRow and TableColumn Panels can only be elements of a Table Panel.");
break;default:w.m("Unknown panel type: "+r)}var Ae=e.width,Be=e.height,Oj=this.padding,hq=Oj.top+Oj.bottom,Ae=Ae+(Oj.left+Oj.right),Be=Be+hq;isFinite(g.width)&&(Ae=g.width);isFinite(g.height)&&(Be=g.height);Ae=Math.min(j.width,Ae);Be=Math.min(j.height,Be);Ae=Math.max(i.width,Ae);Be=Math.max(i.height,Be);Ae=Math.max(c,Ae);Be=Math.max(d,Be);e.width=Ae;e.height=Be;p=this.Kc;db(p,Ae,Be);mj(this,0,0,Ae,Be)}};
function Ej(a,b,c){for(var d=0;d<c;d++){var e=b.n[d];if(e.Li===h)return a.Ll=e}b=b.n[0];return a.Ll=b}
x.prototype.wj=function(a,b,c,d){var e=this.Wb,g=this.Ga,i=g.length,j=this.oF;j.reset();if(0===i){var k=this.va;k.x=a;k.y=b;k.width=c;k.height=d}else{if(!this.wa.P()){var l=pj(this),m=this.Uc,p=m.width,r=m.height,s=this.margin,v=s.left+s.right,y=s.top+s.bottom;p===c&&r===d&&(l=jj);switch(l){case jj:if(p>c||r>d)this.R(),Ih(this,p>c?c:p,r>d?d:r);break;case kd:this.$b=h;Ih(this,c+v,d+y,0,0);break;case lj:this.$b=h;Ih(this,c+v,r+y,0,0);break;case kj:this.$b=h,Ih(this,p+v,d+y,0,0)}}k=this.va;k.x=a;k.y=
b;k.width=c;k.height=d;var C=this.T.Bb;switch(C){case "Position":for(var E=e.x-this.padding.left,I=e.y-this.padding.top,D=0;D<i;D++){var M=g.n[D],N=M.xa,Z=M.margin,va=M.position.x,la=M.position.y;j.x=isNaN(va)?-E:va-E;j.y=isNaN(la)?-I:la-I;if(M instanceof V&&M.nz){var ta=M.$a/2;j.x-=ta;j.y-=ta}j.x+=Z.left;j.y+=Z.top;j.width=N.width;j.height=N.height;M.visible&&M.Dc(j.x,j.y,j.width,j.height)}break;case "Vertical":for(var Ea=this.padding.left,Ha=this.padding.top,cb=0;cb<i;cb++){var rb=Ea,Xa=g.n[cb],
Na=Xa.xa,gb=Xa.margin,Ya=gb.left+gb.right,nb=Ea+this.padding.right,vd=Na.width,me=pj(Xa);if(isNaN(Xa.wa.width)&&me===kd||me===lj)vd=Math.max(e.width-Ya-nb,0);var Nd=vd+Ya+nb,Ub=Xa.Db;Eb(Ub)&&(Ub=this.Aj);tb(Ub)||(Ub=Ob);j.x=rb+Ub.offsetX+gb.left+(e.width*Ub.x-Nd*Ub.x);j.y=Ha+Ub.offsetY+gb.top;j.width=vd;j.height=Na.height;Xa.visible&&(Xa.Dc(j.x,j.y,j.width,j.height),Ha+=Na.height+gb.bottom+gb.top)}break;case "Horizontal":for(var Fc=this.padding.top,ae=this.padding.left,oe=0;oe<i;oe++){var Rf=Fc,Vc=
g.n[oe],yd=Vc.xa,cc=Vc.margin,Sf=cc.top+cc.bottom,Mc=Fc+this.padding.bottom,Pe=yd.height,pf=pj(Vc);if(isNaN(Vc.wa.height)&&pf===kd||pf===kj)Pe=Math.max(e.height-Sf-Mc,0);var qf=Pe+Sf+Mc,Wc=Vc.Db;Eb(Wc)&&(Wc=this.Aj);tb(Wc)||(Wc=Ob);j.x=ae+Wc.offsetX+cc.left;j.y=Rf+Wc.offsetY+cc.top+(e.height*Wc.y-qf*Wc.y);j.width=yd.width;j.height=Pe;Vc.visible&&(Vc.Dc(j.x,j.y,j.width,j.height),ae+=yd.width+cc.left+cc.right)}break;case "Spot":var Nc=Ej(this,g,i),Qe=Nc.xa,ce=Qe.width,Mb=Qe.height,de=this.padding,pe=
de.left,lc=de.top;j.x=pe-e.x;j.y=lc-e.y;Nc.Dc(j.x,j.y,ce,Mb);for(var wb=0;wb<i;wb++){var Xc=g.n[wb];if(Xc!==Nc){var Nb=Xc.xa,Qd=Nb.width,qe=Nb.height,Cb=Xc.Db;Eb(Cb)&&(Cb=this.Aj);tb(Cb)||(Cb=Ob);var R=Xc.sj;Eb(R)&&(R=Ob);j.x=Cb.x*ce+Cb.offsetX-(R.x*Qd-R.offsetX);j.y=Cb.y*Mb+Cb.offsetY-(R.y*qe-R.offsetY);j.x-=e.x;j.y-=e.y;Xc.visible&&Xc.Dc(pe+j.x,lc+j.y,Qd,qe)}}break;case "Auto":var Vb=Ej(this,g,i),Q=Vb.xa,ha=new G(0,0,Q.width,Q.height),Ab=new G(0,0,1,1),Fb=Vb.margin,Ga=Fb.left,oa=Fb.top,Aa=this.padding,
Pa=Aa.left,Yc=Aa.top;j.x=Ga;j.y=oa;j.width=Q.width;j.height=Q.height;Vb.Dc(Pa+j.x,Yc+j.y,j.width,j.height);var xc=Ok(Vb),ld=Pk(Vb),xb=(new F).Fo(ha,xc),Zc=(new F).Fo(ha,ld);Ab.x=xb.x;Ab.y=xb.y;Ab.hw(Zc);Ab.x+=Ga+Pa;Ab.y+=oa+Yc;for(var Ib=0;Ib<i;Ib++){var eb=g.n[Ib];if(eb!==Vb){var yc=eb.xa,Fb=eb.margin,Re=Math.max(yc.width+Fb.right+Fb.left,0),re=Math.max(yc.height+Fb.top+Fb.bottom,0),zd=eb.Db;Eb(zd)&&(zd=this.Aj);tb(zd)||(zd=Ob);j.x=Ab.width*zd.x+zd.offsetX-Re*zd.x+Fb.left+Ab.x;j.y=Ab.height*zd.y+
zd.offsetY-re*zd.y+Fb.top+Ab.y;j.width=Ab.width;j.height=Ab.height;eb.visible&&(jb(Ab.x,Ab.y,Ab.width,Ab.height,j.x,j.y,yc.width,yc.height)?eb.Dc(j.x,j.y,yc.width,yc.height):eb.Dc(j.x,j.y,yc.width,yc.height,new G(Ab.x,Ab.y,Ab.width,Ab.height)))}}break;case "Table":for(var rf=this.padding,Tf=rf.left,kg=rf.top,se=this.mF,Rd,te,Ad=se.length,Se=0,Wb=0;Wb<Ad;Wb++)se[Wb]&&(Se=Math.max(Se,se[Wb].length));for(var Oc=Math.min(this.wn,Ad-1);Oc!==Ad&&(this.Ie[Oc]===f||0===this.Ie[Oc].Xa);)Oc++;for(var Oc=Math.min(Oc,
Ad-1),ue=-this.Ie[Oc].rb,$c=Math.min(this.Zm,Se-1);$c!==Se&&(this.Ae[$c]===f||0===this.Ae[$c].Xa);)$c++;for(var $c=Math.min($c,Se-1),Te=-this.Ae[$c].rb,Wb=0;Wb<Ad;Wb++)if(se[Wb]){var Se=se[Wb].length,ve=this.Zd(Wb);te=ve.rb+ue+kg;for(var Sd=0;Sd<Se;Sd++)if(se[Wb][Sd]){var Td=this.Yd(Sd);Rd=Td.rb+Te+Tf;for(var we=se[Wb][Sd],yb=we.length,Bd=0;Bd<yb;Bd++){var lb=we[Bd],Bb=lb.xa;if(lb instanceof x&&(lb.type===wj||lb.type===xj)){lb.Ib.Ia();var zc=lb.Ib;zc.x=lb.type===wj?Tf:Rd;zc.y=lb.type===xj?kg:te;zc.width=
Bb.width;zc.height=Bb.height;lb.Ib.freeze();lb.Jc=q}else{for(var wa=new bb(0,0),ya=1;ya<lb.rowSpan&&!(Wb+ya>=this.Vv);ya++){var Bj=this.Zd(Wb+ya);wa.height+=Bj.Xa}for(ya=1;ya<lb.pC&&!(Sd+ya>=this.ev);ya++){var zl=this.Yd(Sd+ya);wa.width+=zl.Xa}var Pc=Td.Xa+wa.width,Jg=ve.Xa+wa.height;j.x=Rd;j.y=te;j.width=Pc;j.height=Jg;var Gc=Rd,ni=te,wh=Pc,Kg=Jg,Xb=lb.Db.copy();if(Eb(Xb)){Xb.Va(this.Aj);tb(Xb)||Xb.Va(Ob);var Ue=Td.Db;tb(Ue)&&(Xb.x=Ue.x,Xb.offsetX=Ue.offsetX);var Ud=ve.Db;tb(Ud)&&(Xb.y=Ud.y,Xb.offsetY=
Ud.offsetY)}tb(Xb)||(Xb=Ob);var Ac=Bb.width,Cd=Bb.height,Ba=lb.ce,ad=lb.we,Ac=Math.min(Ba.width,Ac),Cd=Math.min(Ba.height,Cd),Ac=Math.max(ad.width,Ac),Cd=Math.max(ad.height,Cd),lg=lb.margin,Cj=lg.left+lg.right,vb=lg.top+lg.bottom,sb=Rj(lb,ve,Td);if(isNaN(lb.wa.width)&&sb===kd||sb===lj)Ac=Math.max(Pc-Cj,0);if(isNaN(lb.wa.height)&&sb===kd||sb===kj)Cd=Math.max(Jg-vb,0);var Dj=Cd+vb;j.x+=j.width*Xb.x-(Ac+Cj)*Xb.x+Xb.offsetX+lg.left;j.y+=j.height*Xb.y-Dj*Xb.y+Xb.offsetY+lg.top;lb.visible&&(jb(Gc,ni,wh,
Kg,j.x,j.y,Ac,Cd)?lb.Dc(j.x,j.y,Ac,Cd):lb.Dc(j.x,j.y,Ac,Cd,new G(Gc,ni,wh,Kg)))}}}}for(Wb=0;Wb<i;Wb++)if(lb=g.n[Wb],lb instanceof x&&(lb.type===wj||lb.type===xj))zc=lb.Ib,lb.Kc.Ia(),lb.Kc.Go(0,0,zc.width,zc.height),lb.Kc.freeze();break;case "Viewbox":var xh=g.n[0],mg=xh.xa,ee=xh.margin,ng=ee.top+ee.bottom,og=Math.max(mg.width+(ee.right+ee.left),0),Yb=Math.max(mg.height+ng,0),Db=xh.Db;Eb(Db)&&(Db=this.Aj);tb(Db)||(Db=Ob);j.x=e.width*Db.x-og*Db.x+Db.offsetX;j.y=e.height*Db.y-Yb*Db.y+Db.offsetY;j.width=
mg.width;j.height=mg.height;xh.Dc(j.x,j.y,j.width,j.height);break;case "Link":var Ve=this.Ep(),Vd=0;if(Ve!==n&&Vd<this.Oh.count){var Qc=this.Oh.n[Vd];Vd++;Ve.Dc(Qc.x-this.Wb.x,Qc.y-this.Wb.y,Qc.width,Qc.height)}for(var sf=0;sf<i;sf++){var Uf=g.n[sf];Uf!==Ve&&Vd<this.Oh.count&&(Qc=this.Oh.n[Vd],Vd++,Uf.Dc(Qc.x-this.Wb.x,Qc.y-this.Wb.y,Qc.width,Qc.height))}var We=this.nx(),Xe=We.count;if(2<=Xe&&this.Fe)for(var oi=this.Ij;oi.next();){var nd=oi.value,pg=Xe,Vf=We,od=nd.Gh,Bc=nd.Rz,qg=nd.sj;zb(qg)&&(qg=
Ob);var Wd=nd.Cs,Ye=nd.Sz,tf=f,xe=f,Ze=0;if(od<-pg||od>=pg){var Lg=this.KD,Mg=this.JD;Wd!==ij&&(Ze=Uk(Wd,Mg),nd.angle=Ze);tf=Lg.x;xe=Lg.y}else{var pd=f,ye=f;if(0<=od)pd=Vf.n[od],ye=od<pg-1?Vf.n[od+1]:pd;else var Og=pg+od,pd=Vf.n[Og],ye=0<Og?Vf.n[Og-1]:pd;Mg=0<=od?pd.Ai(ye):ye.Ai(pd);Wd!==ij&&(Ze=Uk(Wd,Mg),nd.angle=Ze);tf=pd.x+(ye.x-pd.x)*Bc;xe=pd.y+(ye.y-pd.y)*Bc}var rg=new Wa;rg.scale(nd.scale,nd.scale);rg.rotate(nd.angle,0,0);var bd=nd.Sa,Wf=new G(0,0,bd.width,bd.height),ze=new F;ze.Fo(Wf,qg);rg.Ta(ze);
var yh=-ze.x,zh=-ze.y,tc=Ye.copy();isNaN(tc.x)&&(tc.x=0<=od?ze.x+3:-(ze.x+3));isNaN(tc.y)&&(tc.y=-(ze.y+3));tc.rotate(Mg);tf+=tc.x;xe+=tc.y;rg.OE(Wf);yh+=Wf.x;zh+=Wf.y;nd.position=new F(tf+yh,xe+zh)}this.Lv();break;case "Grid":break;case "TableRow":case "TableColumn":w.m(this.toString()+" is not an element of a Table Panel.TableRow and TableColumn panels can only be elements of a Table Panel.");break;default:w.m("Unknown panel type: "+C)}}};
x.prototype.xj=function(a){var b=this.Sa;if(jb(0,0,b.width,b.height,a.x,a.y)){for(var c=this.Ga.length,b=new F;c--;){var d=this.Ga.n[0];if(d.visible||d===this.Xb)if(Za(b.set(a),d.transform),d.ua(b))return h}return this.ye===n&&this.xe===n?q:h}return q};function Vk(a,b,c){c(a,b);if(b instanceof x)for(b=b.elements;b.next();)Vk(a,b.value,c)}function Mi(a,b,c){c(b);for(b=b.elements;b.next();){var d=b.value;d instanceof x&&Mi(a,d,c)}}
function Wk(a,b,c){if(c(b))return b;if(b instanceof x)for(b=b.elements;b.next();){var d=Wk(a,b.value,c);if(d!==n)return b.zg(),d}return n}x.prototype.findObject=x.prototype.Ne=function(a){if(this.name===a)return this;for(var b=this.elements;b.next();){var c=b.value;if(c.name===a)return c;if(c instanceof x&&!c.WG()&&(c=c.Ne(a),c!==n))return c}return n};function Af(a,b){for(var c=a.elements;c.next();){var d=c.value;if(b(d))return d;if(d instanceof x&&(d=Af(d,b),d!==n))return d}return n}da=x.prototype;
da.Kh=function(){return!(this.type===wj||this.type===xj)};
da.xd=function(a,b,c){if(this.Of===q)return n;b===f&&(b=n);c===f&&(c=n);if(this.Jc)return n;var d=this.Sa,e=1/this.Uk(),g=this.Kh()?a:Za((new F).set(a),this.transform);if(jb(-(5*e),-(5*e),d.width+10*e,d.height+10*e,g.x,g.y)){if(!this.gh)for(var i=this.Ga.length,e=new F;i--;){var j=this.Ga.n[i];if(j.visible||j===this.Xb){j.Kh()?Za(e.set(a),j.transform):e.set(a);var k=n;j instanceof x?k=j.xd(e,b,c):j.Of===h&&j.ua(e)&&(k=j);if(k!==n&&(b!==n&&(k=b(k)),k&&(c===n||c(k))))return k}}return this.background===
n&&this.Kk===n?n:jb(0,0,d.width,d.height,g.x,g.y)?this:n}return n};
da.Zn=function(a,b,c,d){if(this.Of===q)return q;b===f&&(b=n);c===f&&(c=n);!(d instanceof z)&&!(d instanceof ma)&&(d=new z(P));var e=this.Sa,g=this.Kh()?a:Za((new F).set(a),this.transform);if(jb(0,0,e.width,e.height,g.x,g.y)){if(!this.gh){g=this.Ga.length;for(e=new F;g--;){var i=this.Ga.n[g];if(i.visible||i===this.Xb)if(i.Kh()?Za(e.set(a),i.transform):e.set(a),(i instanceof x?i.Zn(e,b,c,d):i.ua(e))&&i.Of!==q)b!==n&&(i=b(i)),i&&(c===n||c(i))&&d.add(i)}}return this.background!==n||this.Kk!==n}return q};
da.bm=function(a,b,c,d,e,g){if(this.Of===q)return q;g===f&&(g=new Wa);b===f&&(b=n);c===f&&(c=n);g.multiply(this.transform);if(this.jv(a,g))return oj(this,b,c,e),h;if(this.Qe(a,g)){if(!this.gh)for(var i=this.Ga.length;i--;){var j=this.Ga.n[i];if(j.visible||j===this.Xb){var k=j.va,l=this.va;if(!(k.x>l.width||k.y>l.height||0>k.x+k.width||0>k.y+k.height)){if(j instanceof x)k=j.bm(a,b,c,d,e,g.copy());else{var k=j,l=a,m=d,p=g.copy();k.Of===q?k=q:(p===f&&(p=new Wa),p.multiply(k.transform),k=m?k.Qe(l,p):
k.jv(l,p))}k&&(b!==n&&(j=b(j)),j&&(c===n||c(j))&&e.add(j))}}}return d}return q};
da.$n=function(a,b,c,d,e){if(this.Of===q)return q;c===f&&(c=n);d===f&&(d=n);var g=this.Sa,i=this.Kh()?a:Za((new F).set(a),this.transform),j=this.Kh()?b:Za((new F).set(b),this.transform),j=i.Yl(j);if(0<i.x&&i.x<g.width&&0<i.y&&i.y<g.height||$a(i.x,i.y,0,0,0,g.height)<j||$a(i.x,i.y,0,g.height,g.width,g.height)<j||$a(i.x,i.y,g.width,g.height,g.width,0)<j||$a(i.x,i.y,g.width,0,0,0)<j){if(!this.gh){g=new F;i=new F;for(j=this.Ga.length;j--;){var k=this.Ga.n[j];if(k.visible||k===this.Xb){var l=k.va,m=this.va;
if(!(l.x>m.width||l.y>m.height||0>l.x+l.width||0>l.y+l.height))if(l=k.transform,k.Kh()?(Za(g.set(a),l),Za(i.set(b),l)):(g.set(a),i.set(b)),k instanceof x?k.$n(g,i,c,d,e):k.QC(g,i))c!==n&&(k=c(k)),k&&(d===n||d(k))&&e.add(k)}}}return h}return q};function Ok(a){var b=a.v;if(b===f||b===Hb)b=n;b===n&&a instanceof V&&(a=a.Ha,a!==n&&(b=a.v));b===n&&(b=Jb);return b}function Pk(a){var b=a.w;if(b===f||b===Hb)b=n;b===n&&a instanceof V&&(a=a.Ha,a!==n&&(b=a.w));b===n&&(b=Rb);return b}
x.prototype.add=x.prototype.add=function(a){w.i(a,P,x,"add:element");this.yc(this.Ga.count,a)};x.prototype.elt=x.prototype.oa=function(a){return this.Ga.oa(a)};
x.prototype.insertAt=x.prototype.yc=function(a,b){b instanceof S&&w.m("Cannot add a Part to a Panel: "+b);if(this===b||this.Ji(b))this===b&&w.m("Cannot make a Panel contain itself: "+this.toString()),w.m("Cannot make a Panel indirectly contain itself: "+this.toString()+" already contains "+b.toString());var c=b.fa;c!==n&&c!==this&&w.m("Cannot add a GraphObject that already belongs to another Panel to this Panel: "+b.toString()+", already contained by "+c.toString()+", cannot be shared by this Panel: "+
this.toString());this.T===ui&&!(b instanceof V)&&w.m("Can only add Shapes to a Grid Panel, not: "+b);b.dl(this);b.Il=n;if(this.sz!==n){var d=b.data;d!==n&&"object"===typeof d&&(this.Kf===n&&(this.Kf=new ka(Object,x)),this.Kf.add(d,b))}var e=this.Ga,d=-1;if(c===this){for(var g=-1,i=e.count,j=0;j<i;j++)if(e.n[j]===b){g=j;break}if(-1!==g){if(g===a||g+1>=e.count&&a>=e.count)return;e.Xe(g);d=g}else w.m("element "+b.toString()+" has panel "+c.toString()+" but is not contained by it.")}if(0>a||a>e.count)a=
e.count;e.yc(a,b);this.R();b.R();c=this.ca;c!==n&&(e=this.h,e!==n&&e.sa.tb||(-1!==d&&c.Qc(je,"elements",this,b,n,d,n),c.Qc(ie,"elements",this,n,b,n,a)))};x.prototype.remove=x.prototype.remove=function(a){w.i(a,P,x,"remove:element");for(var b=this.Ga,c=b.count,d=-1,e=0;e<c;e++)if(b.n[e]===a){d=e;break}-1!==d&&this.se(d)};x.prototype.removeAt=x.prototype.Xe=function(a){u&&w.o(a,x,"removeAt:idx");0<=a&&this.se(a)};
x.prototype.se=function(a){var b=this.Ga,c=b.oa(a);c.Il=n;c.dl(n);if(this.Kf!==n){var d=c.data;"object"===typeof d&&this.Kf.remove(d)}b.Xe(a);this.$b=q;this.R();b=this.ca;b!==n&&(d=this.h,d!==n&&d.sa.tb||b.Qc(je,"elements",this,c,n,a,n))};w.u(x,{Vv:"rowCount"},function(){return this.Ie.length});
x.prototype.getRowDefinition=x.prototype.Zd=function(a){u&&w.o(a,x,"getRowDefinition:idx");0>a&&w.ra(a,">= 0",x,"getRowDefinition:idx");var a=Math.round(a),b=this.Ie;if(b[a]===f){var c=new fk;c.dl(this);c.vl=h;c.ea=a;b[a]=c}return b[a]};x.prototype.removeRowDefinition=x.prototype.VL=function(a){u&&w.o(a,x,"removeRowDefinition:idx");0>a&&w.ra(a,">= 0",x,"removeRowDefinition:idx");var a=Math.round(a),b=this.Ie;b[a]&&(b[a]=f)};w.u(x,{ev:"columnCount"},function(){return this.Ae.length});
x.prototype.getColumnDefinition=x.prototype.Yd=function(a){u&&w.o(a,x,"getColumnDefinition:idx");0>a&&w.ra(a,">= 0",x,"getColumnDefinition:idx");var a=Math.round(a),b=this.Ae;if(b[a]===f){var c=new fk;c.dl(this);c.vl=h;c.ea=a;b[a]=c}return b[a]};x.prototype.removeColumnDefinition=x.prototype.UL=function(a){u&&w.o(a,x,"removeColumnDefinition:idx");0>a&&w.ra(a,">= 0",x,"removeColumnDefinition:idx");var a=Math.round(a),b=this.Ae;b[a]&&(b[a]=f)};w.g(x,"rowSizing",x.prototype.pE);
w.defineProperty(x,{pE:"rowSizing"},t("Uq"),function(a){var b=this.Uq;b!==a&&(a!==Mk&&a!==Sk&&w.m("rowSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Uq=a,this.R(),this.j("rowSizing",b,a))});w.g(x,"columnSizing",x.prototype.oC);
w.defineProperty(x,{oC:"columnSizing"},t("Zo"),function(a){var b=this.Zo;b!==a&&(a!==Mk&&a!==Sk&&w.m("columnSizing must be RowColumnDefinition.ProportionalExtra or RowColumnDefinition.None"),this.Zo=a,this.R(),this.j("columnSizing",b,a))});w.g(x,"topIndex",x.prototype.nI);w.defineProperty(x,{nI:"topIndex"},t("wn"),function(a){var b=this.wn;b!==a&&((!isFinite(a)||0>a)&&w.m("topIndex must be greater than zero and a real number. Was "+a),this.wn=a,Aj(this),this.j("topIndex",b,a))});
w.g(x,"leftIndex",x.prototype.fH);w.defineProperty(x,{fH:"leftIndex"},t("Zm"),function(a){var b=this.Zm;b!==a&&((!isFinite(a)||0>a)&&w.m("leftIndex must be greater than zero and a real number. Was "+a),this.Zm=a,Aj(this),this.j("leftIndex",b,a))});w.g(x,"data",x.prototype.data);
w.defineProperty(x,{data:"data"},t("Em"),function(a){var b=this.Em;if(b!==a){var c=this instanceof S&&!(this instanceof of);c&&w.k(a,"object",x,"data");xf(this);this.Em=a;var d=this.h;d!==n&&(c?this instanceof U?(b!==n&&d.hk.remove(b),a!==n&&d.hk.add(a,this)):(b!==n&&d.Sh.remove(b),a!==n&&d.Sh.add(a,this)):(c=this.fa,c!==n&&c.Kf!==n&&(b!==n&&c.Kf.remove(b),a!==n&&c.Kf.add(a,this))));this.j("data",b,a);d!==n&&d.sa.tb||a!==n&&this.vb()}});function ak(a){a=a.kl;return a!==n&&a.ab}
function xf(a){var b=a.kl;if(b===n)a.data!==n&&w.m("Template cannot have .data be non-null: "+a),a.kl=b=new z(df);else if(b.ab)return;var c=new z(P);Vk(a,a,function(a,d){var e=d.pc;if(e!==n){d.ym=q;for(var g=e.l;g.next();){e=g.value;e.mode===ff&&(d.ym=h);var i=e.Is;if(i!==n){var r=a;""!==i&&(r=a.Ne(i));r!==n&&(c.add(r),r.hr===f&&(r.hr=new z(df)),r.hr.add(e))}b.add(e)}}if(d instanceof x){if(0<d.Ie.length){g=d.Ie;i=g.length;for(r=0;r<i;r++){var s=g[r];if(s!==f&&s.pc!==n)for(var v=s.pc.l;v.next();)e=
v.value,e.Tf=s,e.ky=2,e.Ku=s.index,b.add(e)}}if(0<d.Ae.length){g=d.Ae;i=g.length;for(r=0;r<i;r++)if(s=g[r],s!==f&&s.pc!==n)for(v=s.pc.l;v.next();)e=v.value,e.Tf=s,e.ky=1,e.Ku=s.index,b.add(e)}}});for(var d=c.l;d.next();){var e=d.value;if(e.hr!==f){e.ym=h;for(var g=e.hr.l;g.next();){var i=g.value;e.pc===n&&(e.pc=new z(df));e.pc.add(i)}}delete e.hr}for(d=b.l;d.next();)e=d.value,g=e.Tf,g!==n&&(e.Tf=n,g===a?e.om="":(g instanceof fk&&(g=g.fa),e.om=""!==g.name?g.name:g.name="_"+w.ec(g)));b.freeze();a instanceof
S&&a.ae()&&(Ih(a,Infinity,Infinity),a.Dc())}
x.prototype.updateTargetBindings=x.prototype.vb=function(a){var b=this.kl;if(b!==n){a===f&&(a="");for(b=b.l;b.next();){var c=b.value,d=c.Yz;if(!(""!==a&&d!==a)&&(d=c.$z,!(c.sC===n&&""===d))){var d=this.data,e=c.Is;e!==n&&(d=this.Ne(e));if(d===n)u&&w.trace("Binding error: missing GraphObject named "+e+" in "+this.toString());else{var e=this,g=c.om;if(""!==g){if(e=this.Ne(g),e===n)continue}else c.Tf!==n&&(e=c.Tf);g=c.ky;if(0!==g){if(!(e instanceof x))continue;1===g?e=e.Yd(c.Ku):2===g&&(e=e.Zd(c.Ku))}e!==
f&&c.UE(e,d)}}}}};w.g(x,"itemArray",x.prototype.sz);w.defineProperty(x,{sz:"itemArray"},t("uk"),function(a){var b=this.uk;if(b!==a){u&&(a!==n&&!w.isArray(a))&&w.m("Panel.itemArray must be an Array-like object or null, not: "+a);var c=this.h;c!==n&&b!==n&&Pi(c,this);this.uk=a;c!==n&&a!==n&&Ni(c,this);this.j("itemArray",b,a);c!==n&&c.sa.tb||this.Mz()}});
x.prototype.rebuildItemElements=x.prototype.Mz=function(){var a=0;if(this.type===ch||this.type===Xh||this.type===Ug)a=1;for(;this.Ga.length>a;)this.se(a);a=this.sz;if(a!==n)for(var b=w.Sb(a),c=0;c<b;c++)Yh(this,w.Eb(a,c))};
function Yh(a,b,c){if(!(b===f||b===n)){var d=a.getCategoryForItemData(b),e=a.findTemplateForItemData(b,d);e instanceof x&&(xf(e),e=e.copy(),"object"===typeof b&&(a.Kf===n&&(a.Kf=new ka(Object,x)),a.Kf.add(b,e)),"number"===typeof c?((a.type===ch||a.type===Xh)&&c++,a.yc(c,e),Xk(e,c),Zh(a,c)):(a.add(e),Xk(e,a.Ga.count-1)),e.Ax=d,e.data=b)}}function Zh(a,b){for(var c=a.Ga,d=b+1;d<c.length;){var e=c.oa(d);e instanceof x&&Xk(e,d);d++}}function Xk(a,b){a.type===wj?a.nc=b:a.type===xj&&(a.Ec=b)}
x.prototype.isItemPanel=x.prototype.WG=function(){return this.uk!==n||this.Cg!==n};w.g(x,"itemTemplate",x.prototype.bH);w.defineProperty(x,{bH:"itemTemplate"},function(){return this.Cg===n?n:this.Cg.qa("")},function(a){this.Cg===n&&(this.Cg=new ka("string",x));var b=this.Cg.qa("");b!==a&&(w.i(a,x,x,"itemTemplate"),a instanceof S&&w.m("itemTemplate must not be a Part: "+a),this.Cg.add("",a),this.j("itemTemplate",b,a),a=this.h,a!==n&&a.sa.tb||this.Mz())});w.g(x,"itemTemplateMap",x.prototype.vD);
w.defineProperty(x,{vD:"itemTemplateMap"},t("Cg"),function(a){var b=this.Cg;if(b!==a){w.i(a,ka,x,"itemTemplateMap");for(var c=a.l;c.next();){var d=c.value;d instanceof S&&w.m("Template in itemTemplateMap must not be a Part: "+d)}this.Cg=a;this.j("itemTemplateMap",b,a);a=this.h;a!==n&&a.sa.tb||this.Mz()}});w.g(x,"itemCategoryProperty",x.prototype.aH);
w.defineProperty(x,{aH:"itemCategoryProperty"},t("Um"),function(a){var b=this.Um;b!==a&&("string"!==typeof a&&"function"!==typeof a&&w.ic(a,"string or function",x,"itemCategoryProperty"),this.Um=a,this.j("itemCategoryProperty",b,a))});
x.prototype.getCategoryForItemData=x.prototype.GK=function(a){if(a===n)return"";var b=this.Um;if("function"===typeof b)b=b(a);else if("string"===typeof b&&"object"===typeof a){if(""===b)return"";b=w.Wa(a,b)}else return"";if(b===f)return"";if("string"===typeof b)return b;u&&w.trace("Panel.getCategoryForItemData found a non-string category for "+a+": "+b);return""};
x.prototype.findTemplateForItemData=x.prototype.wK=function(a,b){var c=this.vD,d=n;c!==n&&(d=c.qa(b));d===n&&(w.wF||(w.wF=h,w.trace('No item template Panel found for category "'+b+'" on '+this),w.trace("  Using default item template."),c=new x,d=new na,d.bind(new df("text","",ke)),c.add(d),w.fF=c),d=w.fF);return d instanceof x?d:n};w.g(x,"isAtomic",x.prototype.UG);
w.defineProperty(x,{UG:"isAtomic"},t("gh"),function(a){var b=this.gh;b!==a&&(w.k(a,"boolean",x,"isAtomic"),this.gh=a,this.j("isAtomic",b,a))});w.g(x,"opacity",x.prototype.opacity);w.defineProperty(x,{opacity:"opacity"},t("li"),function(a){var b=this.li;b!==a&&(w.k(a,"number",x,"opacity"),(0>a||1<a)&&w.ra(a,"0 <= val <= 1",x,"opacity"),this.li=a,this.j("opacity",b,a),a=this.h,a!==n&&Nh(a))});
function fk(){w.jc(this);this.zk=n;this.vl=h;this.ea=0;this.pf=NaN;this.El=0;this.Dl=Infinity;this.Aa=Hb;this.rb=this.Xa=0;this.pc=n;this.er=Yk;this.qh=eh}w.Q("RowColumnDefinition",fk);fk.prototype.copy=function(){var a=new fk;a.vl=this.vl;a.ea=this.ea;a.pf=this.pf;a.El=this.El;a.Dl=this.Dl;a.Aa=this.Aa;a.Xa=this.Xa;a.rb=this.rb;a.qh=this.qh;a.er=this.er;a.pc=this.pc;return a};var Yk;fk.Default=Yk=w.s(fk,"Default",0);var Sk;fk.None=Sk=w.s(fk,"None",1);var Mk;
fk.ProportionalExtra=Mk=w.s(fk,"ProportionalExtra",2);fk.prototype.dl=ba("zk");function Qk(a,b){a.Xa=isNaN(a.pf)?Math.max(Math.min(a.Dl,b),a.El):Math.max(Math.min(a.Dl,a.pf),a.El)}fk.prototype.Td=function(a,b,c,d,e){var g=this.zk;if(g!==n){g.R();for(var i=this.Iv,j=g.Ga,k=j.length,l=0;l<k;l++){var m=j.n[l];(i?m.nc:m.Ec)===this.index&&m.R()}g.Qc(he,a,this,b,c,d,e);if(this.pc!==n&&(b=g.Wr(),b!==n&&(b=b.data,b!==n)))for(c=this.pc.l;c.next();)c.value.TE(this,b,a,n)}};w.u(fk,{fa:"panel"},t("zk"));
w.u(fk,{Iv:"isRow"},t("vl"));w.u(fk,{index:"index"},t("ea"));w.g(fk,"height",fk.prototype.height);w.defineProperty(fk,{height:"height"},t("pf"),function(a){var b=this.pf;b!==a&&(u&&w.k(a,"number",fk,"height"),0>a&&w.ra(a,">= 0",fk,"height"),this.pf=a,Qk(this,this.Xa),this.Td("size",b,a))});w.g(fk,"width",fk.prototype.width);
w.defineProperty(fk,{width:"width"},t("pf"),function(a){var b=this.pf;b!==a&&(u&&w.k(a,"number",fk,"width"),0>a&&w.ra(a,">= 0",fk,"width"),this.pf=a,Qk(this,this.Xa),this.Td("size",b,a))});w.g(fk,"minimum",fk.prototype.dg);w.defineProperty(fk,{dg:"minimum"},t("El"),function(a){var b=this.El;b!==a&&(u&&w.k(a,"number",fk,"minimum"),(0>a||!isFinite(a))&&w.ra(a,">= 0",fk,"minimum"),this.El=a,Qk(this,this.Xa),this.Td("minimum",b,a))});w.g(fk,"maximum",fk.prototype.de);
w.defineProperty(fk,{de:"maximum"},t("Dl"),function(a){var b=this.Dl;b!==a&&(u&&w.k(a,"number",fk,"maximum"),0>a&&w.ra(a,">= 0",fk,"maximum"),this.Dl=a,Qk(this,this.Xa),this.Td("maximum",b,a))});w.g(fk,"alignment",fk.prototype.Db);w.defineProperty(fk,{Db:"alignment"},t("Aa"),function(a){var b=this.Aa;b.I(a)||(u&&w.i(a,H,fk,"alignment"),this.Aa=a.O(),this.Td("alignment",b,a))});w.g(fk,"stretch",fk.prototype.Ih);
w.defineProperty(fk,{Ih:"stretch"},t("qh"),function(a){var b=this.qh;b!==a&&(u&&w.kb(a,P,fk,"stretch"),this.qh=a,this.Td("stretch",b,a))});w.g(fk,"sizing",fk.prototype.Gs);w.defineProperty(fk,{Gs:"sizing"},t("er"),function(a){var b=this.er;b!==a&&(u&&w.kb(a,fk,fk,"sizing"),this.er=a,this.Td("sizing",b,a))});function Rk(a){if(a.Gs===Yk){var b=a.zk;return a.Iv?b.pE:b.oC}return a.Gs}w.u(fk,{hd:"actual"},t("Xa"));w.u(fk,{position:"position"},t("rb"));
fk.prototype.bind=fk.prototype.bind=function(a){a.Tf=this;var b=this.fa;b!==n&&(b=b.Wr(),b!==n&&ak(b)&&w.m("Cannot add a Binding to a RowColumnDefinition that is already frozen: "+a));this.pc===n&&(this.pc=new z(df));this.pc.add(a)};
function V(){P.call(this);this.Ha=n;this.vp="None";this.nh=q;this.Dp=eh;this.ek=n;this.lc=this.Ee="black";this.rh=1;this.rn="butt";this.sn="miter";this.tn=10;this.jr=n;this.qf=0;this.ri=this.qi=Hb;this.Cq=this.Bq=0;this.Mp=q;this.Sp=h;this.pF=new G;this.Lm=this.vn="None";this.Jp=1}w.Q("Shape",V);w.Ea(V,P);
V.prototype.xb=function(a){P.prototype.xb.call(this,a);a.Ha=this.Ha;a.vp=this.vp;a.nh=this.nh;a.Dp=this.Dp;a.ek=this.ek;a.Ee=this.Ee;a.lc=this.lc;a.rh=this.rh;a.rn=this.rn;a.sn=this.sn;a.tn=this.tn;a.jr=this.jr;a.qf=this.qf;a.qi=this.qi.O();a.ri=this.ri.O();a.Bq=this.Bq;a.Cq=this.Cq;a.Mp=this.Mp;a.Sp=this.Sp;a.vn=this.vn;a.Lm=this.Lm;a.Jp=this.Jp};V.prototype.toString=function(){return"Shape("+("None"!==this.gb?this.gb:"None"!==this.rm?this.rm:this.zv)+")#"+w.ec(this)};
V.prototype.Wn=function(a){if(!(this.lc===n&&this.Ee===n)){this.Ee!==n&&yj(this,a,this.Ee,h);this.lc!==n&&yj(this,a,this.lc,q);var b=this.rh;if(0===b){var c=this.ca;c instanceof of&&(c.type===Ug&&c.Cc instanceof V)&&(b=c.Cc.$a)}a.lineWidth=b;a.lineJoin=this.sn;a.lineCap=this.rn;a.miterLimit=this.tn;var d=q;this.ca&&(d=this.ca.io);var e=h;this.lc!==n&&this.Ee===n&&(e=q);b=q;c=this.DE;if(c!==n){var g=b=h;a.setLineDash!==f?(a.setLineDash(c),a.lineDashOffset=this.qf):a.webkitLineDash!==f?(a.webkitLineDash=
c,a.webkitLineDashOffset=this.qf):a.mozDash!==f?(a.mozDash=c,a.mozDashOffset=this.qf):g=q}var i=this.Ha;if(i!==n){if(i.T===md)a.beginPath(),b&&!g?Zk(a,i.Cb,i.Ob,i.Bc,i.Ic,c,this.qf):(a.moveTo(i.Cb,i.Ob),a.lineTo(i.Bc,i.Ic)),this.Ee!==n&&a.fill(),this.lc!==n&&a.stroke();else if(i.T===qd){var j=i.Cb,k=i.Ob,l=i.Bc,i=i.Ic,m=Math.min(j,l),p=Math.min(k,i),j=Math.abs(l-j),k=Math.abs(i-k);this.Ee!==n&&a.fillRect(m,p,j,k);if(this.lc!==n){if(e&&d){var r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur];a.shadowOffsetX=
0;a.shadowOffsetY=0;a.shadowBlur=0}b&&!g?(g=[[m,p],[m+j,p],[m+j,p+k],[m,p+k],[m,p]],a.beginPath(),$k(a,g,c,this.qf),a.stroke()):a.strokeRect(m,p,j,k);e&&d&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2])}}else if(i.T===rd)j=i.Cb,k=i.Ob,l=i.Bc,i=i.Ic,m=Math.abs(l-j)/2,p=Math.abs(i-k)/2,j=Math.min(j,l)+m,k=Math.min(k,i)+p,a.beginPath(),a.moveTo(j,k-p),a.bezierCurveTo(j+ic*m,k-p,j+m,k-ic*p,j+m,k),a.bezierCurveTo(j+m,k+ic*p,j+ic*m,k+p,j,k+p),a.bezierCurveTo(j-ic*m,k+p,j-m,k+ic*p,j-m,k),
a.bezierCurveTo(j-m,k-ic*p,j-ic*m,k-p,j,k-p),a.closePath(),this.Ee!==n&&a.fill(),b&&!g&&(g=[],Cc(j,k-p,j+ic*m,k-p,j+m,k-ic*p,j+m,k,0.5,g),Cc(j+m,k,j+m,k+ic*p,j+ic*m,k+p,j,k+p,0.5,g),Cc(j,k+p,j-ic*m,k+p,j-m,k+ic*p,j-m,k,0.5,g),Cc(j-m,k,j-m,k-ic*p,j-ic*m,k-p,j,k-p,0.5,g),a.beginPath(),$k(a,g,c,this.qf)),this.lc!==n&&(e&&d&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),e&&d&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2]));
else if(i.T===id){for(var m=i.kk,p=m.length,s=0;s<p;s++){var v=m.n[s];a.beginPath();a.moveTo(v.ma,v.na);for(var y=v.za.n,C=y.length,E=n,I=0;I<C;I++){var D=y[I];switch(D.T){case Jd:a.moveTo(D.C,D.D);break;case td:a.lineTo(D.C,D.D);break;case Kd:a.bezierCurveTo(D.kf,D.lf,D.ni,D.oi,D.Pf,D.Qf);break;case Ld:a.quadraticCurveTo(D.kf,D.lf,D.Pf,D.Qf);break;case Md:if(D.radiusX===D.radiusY)E=Math.PI/180,a.arc(D.zm,D.Am,D.radiusX,D.og*E,(D.og+D.Jh)*E,0>D.Jh?h:q);else for(var E=Od(D,v),M=E.length,N=0;N<M;N++){var Z=
E[N];0===N&&a.lineTo(Z.x1,Z.y1);a.bezierCurveTo(Z.x2,Z.y2,Z.Ef,Z.Ff,Z.Zc,Z.$c)}break;case Fd:E&&E.type===Md?(E=Od(E,v),E=E[E.length-1]||n,E!==n&&(j=E.Zc,l=E.$c)):(j=E?E.C:v.ma,l=E?E.D:v.na);E=Pd(D,v,j,l);M=E.length;for(N=0;N<M;N++)Z=E[N],a.bezierCurveTo(Z.x2,Z.y2,Z.Ef,Z.Ff,Z.Zc,Z.$c);break;default:w.m("Segment not of valid type")}D.$h&&a.closePath();E=D}d?v.Jf?(v.tl===h&&this.Ee!==n?(a.fill(),e=h):e=q,this.lc!==n&&(e&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=
0,a.shadowBlur=0),(!b||g)&&a.stroke(),e&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2]))):(e&&(r=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),v.tl===h&&this.Ee!==n&&a.fill(),this.lc!==n&&(!b||g)&&a.stroke(),e&&(a.shadowOffsetX=r[0],a.shadowOffsetY=r[1],a.shadowBlur=r[2])):(v.tl===h&&this.Ee!==n&&a.fill(),this.lc!==n&&(!b||g)&&a.stroke())}if(b&&!g){r=e;g=i.kk;e=g.length;for(i=0;i<e;i++){j=g.n[i];a.beginPath();l=[];l.push([j.ma,j.na]);
m=j.ma;p=j.na;s=m;v=p;y=j.za.n;C=y.length;for(I=0;I<C;I++){D=y[I];switch(D.T){case Jd:$k(a,l,c,this.qf);l=[];l.push([D.C,D.D]);m=D.C;p=D.D;s=m;v=p;break;case td:l.push([D.C,D.D]);m=D.C;p=D.D;break;case Kd:E=[];Cc(m,p,D.kf,D.lf,D.ni,D.oi,D.Pf,D.Qf,0.5,E);l=l.concat(E);m=D.C;p=D.D;break;case Ld:E=[];Hc(m,p,D.kf,D.lf,D.Pf,D.Qf,0.5,E);l=l.concat(E);m=D.C;p=D.D;break;case Md:M=Od(D,j);N=M.length;for(Z=0;Z<N;Z++){var va=M[Z],E=[];Cc(m,p,va.x2,va.y2,va.Ef,va.Ff,va.Zc,va.$c,0.5,E);l=l.concat(E);m=va.Zc;p=
va.$c}break;case Fd:M=Pd(D,j,m,p);N=M.length;for(Z=0;Z<N;Z++)va=M[Z],E=[],Cc(m,p,va.x2,va.y2,va.Ef,va.Ff,va.Zc,va.$c,0.5,E),l=l.concat(E),m=va.Zc,p=va.$c;break;default:w.m("Segment not of valid type")}D.$h&&(l.push([s,v]),$k(a,l,c,this.qf))}$k(a,l,c,this.qf);this.lc!==n&&(r&&d&&(k=[a.shadowOffsetX,a.shadowOffsetY,a.shadowBlur],a.shadowOffsetX=0,a.shadowOffsetY=0,a.shadowBlur=0),a.stroke(),r&&d&&(a.shadowOffsetX=k[0],a.shadowOffsetY=k[1],a.shadowBlur=k[2]))}}}b&&(a.setLineDash!==f?(a.setLineDash(n),
a.lineDashOffset=0):a.webkitLineDash!==f?(a.webkitLineDash=[],a.webkitLineDashOffset=0):a.mozDash!==f&&(a.mozDash=n,a.mozDashOffset=0))}}};function Zk(a,b,c,d,e,g,i){var j=0.001,k=g.length;a.moveTo(b,c);d-=b;j=e-c;0===d&&(d=0.001);for(var e=j/d,l=Math.sqrt(d*d+j*j),m=0,p=h,r=0===i?q:h;0.1<=l;){r?(j=g[m++%k],i%=j,j-=i,r=q):j=g[m++%k];j>l&&(j=l);var s=Math.sqrt(j*j/(1+e*e));0>d&&(s=-s);b+=s;c+=e*s;p?a.lineTo(b,c):a.moveTo(b,c);l-=j;p=!p}}
function $k(a,b,c,d){var e=0.001,g=c.length,i,j,k,l=b.length;if(!(2>l))if(i=b[0][0],j=b[0][1],2===l)Zk(a,i,j,b[1][0],b[1][1],c,d);else{a.moveTo(i,j);for(var m,p,r,s=0,v=[],y=1;y<l;y++)m=b[y],e=m[0],k=m[1],m=e-i,i=k-j,0===m&&(m=0.001),p=i/m,i=Math.sqrt(m*m+i*i),v.push([m,p,i]),s+=i,i=e,j=k;i=b[0][0];j=b[0][1];b=0;l=h;e=c[b%g];y=0===d?q:h;k=0;r=v[k];m=r[0];p=r[1];r=r[2];for(var C=0;0.1<=s;){0===C&&(y?(e=c[b%g],b++,d%=e,e-=d,y=q):(e=c[b%g],b++));e>s&&(e=s);e>r?(C=e-r,e=r):C=0;var E=Math.sqrt(e*e/(1+
p*p));0>m&&(E=-E);i+=E;j+=p*E;l?a.lineTo(i,j):a.moveTo(i,j);s-=e;r-=e;if(0!==C){k++;if(k===v.length)break;r=v[k];m=r[0];p=r[1];r=r[2];e=C}else l=!l}}}V.prototype.getDocumentPoint=V.prototype.Ab=function(a){zb(a)&&w.m("Spot must be real");var b=this.Sa,c=this.$a,a=new F(a.x*(b.width+c)-c/2+b.x+a.offsetX,a.y*(b.height+c)-c/2+b.y+a.offsetY);this.je.Ta(a);return a};
V.prototype.xj=function(a,b){var c=this.Ha;if(c===n||this.fill===n&&this.stroke===n)return q;var d=c.Fb,e=this.$a/2;c.type===md&&!b&&(e+=2);var g=this.pF;g.set(d);g.Pg(e+2,e+2);if(!g.ua(a))return q;d=e+1E-4;if(c.type===md){if(this.stroke===n)return q;d=(c.C-c.ma)*(a.x-c.ma)+(c.D-c.na)*(a.y-c.na);return 0>(c.ma-c.C)*(a.x-c.C)+(c.na-c.D)*(a.y-c.D)||0>d?q:uc(c.ma,c.na,c.C,c.D,e,a.x,a.y)}if(c.type===qd){var i=c.ma,j=c.na,k=c.C,l=c.D,c=Math.min(i,k),m=Math.min(j,l),i=Math.abs(k-i),j=Math.abs(l-j);g.x=
c;g.y=m;g.width=i;g.height=j;if(this.fill===n){g.Pg(-d,-d);if(g.ua(a))return q;g.Pg(d,d)}this.stroke!==n&&g.Pg(e,e);return g.ua(a)}if(c.type===rd){i=c.ma;j=c.na;k=c.C;l=c.D;c=Math.min(i,k);m=Math.min(j,l);i=Math.abs(k-i);j=Math.abs(l-j);g=i/2;j/=2;c=a.x-(c+g);m=a.y-(m+j);if(this.fill===n){g-=d;j-=d;if(0>=g||0>=j||1>=c*c/(g*g)+m*m/(j*j))return q;g+=d;j+=d}this.stroke!==n&&(g+=e,j+=e);return 0>=g||0>=j?q:1>=c*c/(g*g)+m*m/(j*j)}if(c.type===id)return this.fill===n?Zd(c,a.x,a.y,e):c.ua(a,e,1<this.$a,b);
w.m("Unknown Geometry type");return q};
V.prototype.ms=function(a,b,c,d){var e=this.wa,g=this.rh,a=Math.max(a,0),b=Math.max(b,0),i;this.nh?i=this.Ha.Fb:(al[this.gb]===f&&w.m("Unsupported Figure:"+this.gb),i=al[this.gb].Fb);var j=i.width,k=i.height,l=i.width,m=i.height;switch(pj(this)){case jj:d=c=0;break;case kd:l=Math.max(a-g,0);m=Math.max(b-g,0);break;case lj:l=Math.max(a-g,0);d=0;break;case kj:c=0,m=Math.max(b-g,0)}isFinite(e.width)&&(l=e.width);isFinite(e.height)&&(m=e.height);e=this.ce;i=this.we;c=Math.max(c,i.width)-g;d=Math.max(d,
i.height)-g;l=Math.min(e.width,l);m=Math.min(e.height,m);l=isFinite(l)?Math.max(c,l):Math.max(j,c);m=isFinite(m)?Math.max(d,m):Math.max(k,d);c=this.Av;c=this.nh?c===eh?kd:c:c===eh?al[this.gb].Zb:c;switch(c){case jj:break;case kd:j=l;k=m;break;case fh:c=Math.min(l/j,m/k);isFinite(c)||(c=1);j*=c;k*=c;break;default:w.m(c+" is not a valid geometryStretch.")}if(this.nh){i=this.Wc;d=j;e=k;c=i.copy();i=i.Fb;d/=i.width;e/=i.height;isFinite(d)||(d=1);isFinite(e)||(e=1);if(!(1===d&&1===e)){switch(c.type){case md:case qd:case rd:c.Cb*=
d;c.Ob*=e;c.Bc*=d;c.Ic*=e;break;case id:i=c.sb;for(var p=i.length,r=0;r<p;r++){var s=i.n[r];s.ma*=d;s.na*=e;for(var s=s.za,v=s.length,y=0;y<v;y++){var C=s.n[y];switch(C.type){case td:case Jd:C.C*=d;C.D*=e;break;case Kd:C.kf*=d;C.lf*=e;C.ni*=d;C.oi*=e;C.C*=d;C.D*=e;break;case Ld:C.Ub*=d;C.Ac*=e;C.C*=d;C.D*=e;break;case Md:C.pa*=d;C.ta*=e;C.radiusX*=d;C.radiusY!==f&&(C.radiusY*=e);break;case Fd:C.C*=d;C.D*=e;C.radiusX*=d;C.radiusY*=e;break;default:w.m("Unknown Segment type: "+C.type)}}}}c.Ma=h}this.Ha=
c}else if(this.Ha===n||this.Ha.It!==a||this.Ha.Ht!==b)c=j,d=k,i=this.wa,e=i.width,i=i.height,c!==f&&(!isNaN(c)&&isFinite(c))&&(e=c),d!==f&&(!isNaN(d)&&isFinite(d))&&(i=d),isFinite(e)||(e=100),isFinite(i)||(i=100),p=f,"None"!==this.rm?p=bl(this.rm):"None"!==this.zv?p=bl(this.zv):(r=cl[this.gb],"string"===typeof r&&(r=cl[r]),r===f&&w.m("Unknown Shape.figure: "+this.gb),p=r(this,e,i),p.Sd=new bb(e,i)),p===f&&(r=cl.Rectangle)&&(p=r(this,e,i)),p.It=c,p.Ht=d,this.Ha=p;i=this.Ha.Fb;Infinity===a||Infinity===
b?mj(this,i.x-g/2,i.y-g/2,0===a&&0===j?0:i.width+g,0===b&&0===k?0:i.height+g):mj(this,-(g/2),-(g/2),l+g,m+g)};
function Tk(a,b,c){if(a.$b!==q){a.Uc.Ia();var d=a.rh;if(0===d){var e=a.ca;e instanceof of&&(e.type===Ug&&e.Cc instanceof V)&&(d=e.Cc.$a)}d*=a.bc;mj(a,-(d/2),-(d/2),b+d,c+d);b=a.Uc;c=a.ce;d=a.we;b.width=Math.min(c.width,b.width);b.height=Math.min(c.height,b.height);b.width=Math.max(d.width,b.width);b.height=Math.max(d.height,b.height);a.Uc.freeze();a.Uc.P()||w.m("Non-real measuredBounds has been set");a.$b=q}}V.prototype.wj=function(a,b,c,d){sj(this,a,b,c,d)};
V.prototype.getNearestIntersectionPoint=V.prototype.ZC=function(a,b,c){return this.$r(a.x,a.y,b.x,b.y,c)};
V.prototype.$r=function(a,b,c,d,e){var g=this.transform,i=1/(g.m11*g.m22-g.m12*g.m21),j=g.m22*i,k=-g.m12*i,l=-g.m21*i,m=g.m11*i,p=i*(g.m21*g.dy-g.m22*g.dx),r=i*(g.m12*g.dx-g.m11*g.dy),g=a*j+b*l+p,i=a*k+b*m+r,j=c*j+d*l+p,k=c*k+d*m+r,l=this.$a/2,p=this.Ha;p===n&&(Ih(this,Infinity,Infinity),p=this.Ha);r=p.Fb;m=q;if(p.type===md)if(1.5>=this.$a)m=Lc(p.Cb,p.Ob,p.Bc,p.Ic,g,i,j,k,e);else{var s;p.Cb===p.Bc?(s=l,r=0):(b=(p.Ic-p.Ob)/(p.Bc-p.Cb),r=l/Math.sqrt(1+b*b),s=r*b);b=[];d=new F;Lc(p.Cb+s,p.Ob+r,p.Bc+
s,p.Ic+r,g,i,j,k,d)&&b.push(d);d=new F;Lc(p.Cb-s,p.Ob-r,p.Bc-s,p.Ic-r,g,i,j,k,d)&&b.push(d);d=new F;Lc(p.Cb+s,p.Ob+r,p.Cb-s,p.Ob-r,g,i,j,k,d)&&b.push(d);d=new F;Lc(p.Bc+s,p.Ic+r,p.Bc-s,p.Ic-r,g,i,j,k,d)&&b.push(d);d=b.length;if(0===d)return q;m=h;r=Infinity;for(s=0;s<d;s++){var j=b[s],v=(j.x-g)*(j.x-g)+(j.y-i)*(j.y-i);v<r&&(r=v,e.x=j.x,e.y=j.y)}}else if(p.type===qd)d=r.x-l,m=Sc(d,r.y-l,r.x+r.width+l,r.y+r.height+l,g,i,j,k,e);else if(p.type===rd)a:if(b=r.copy().Pg(l,l),0===b.width)m=Lc(b.x,b.y,b.x,
b.y+b.height,g,i,j,k,e);else if(0===b.height)m=Lc(b.x,b.y,b.x+b.width,b.y,g,i,j,k,e);else{var a=b.width/2,y=b.height/2,d=b.x+a,b=b.y+y,c=9999;g!==j&&(c=(i-k)/(g-j));if(9999>Math.abs(c)){m=i-b-c*(g-d);if(0>a*a*c*c+y*y-m*m){e.x=NaN;e.y=NaN;m=q;break a}l=Math.sqrt(a*a*c*c+y*y-m*m);j=(-(a*a*c*m)+a*y*l)/(y*y+a*a*c*c)+d;a=(-(a*a*c*m)-a*y*l)/(y*y+a*a*c*c)+d;k=c*(j-d)+m+b;b=c*(a-d)+m+b;d=Math.abs((g-j)*(g-j))+Math.abs((i-k)*(i-k));i=Math.abs((g-a)*(g-a))+Math.abs((i-b)*(i-b));d<i?(e.x=j,e.y=k):(e.x=a,e.y=
b)}else{j=y*y;k=g-d;j-=j/(a*a)*k*k;if(0>j){e.x=NaN;e.y=NaN;m=q;break a}l=Math.sqrt(j);k=b+l;b-=l;d=Math.abs(k-i);i=Math.abs(b-i);d<i?(e.x=g,e.y=k):(e.x=g,e.y=b)}m=h}else if(p.type===id){var C,E,I,D=new F;s=j-g;r=k-i;r=s*s+r*r;e.x=j;e.y=k;for(s=0;s<p.sb.count;s++){var M=p.sb.n[s],N=M.za;C=M.ma;E=M.na;for(var Z=C,va=E,la,ta,Ea=0;Ea<N.count;Ea++){la=N.n[Ea];ta=la.type;v=la.C;I=la.D;var Ha=q;switch(ta){case Jd:Z=v;va=I;break;case td:Ha=dl(C,E,v,I,g,i,j,k,D);break;case Kd:Ha=la.Ub;ta=la.Ac;var cb=la.lg,
rb=la.mg,Ha=Ic(C,E,Ha,ta,cb,rb,v,I,g,i,j,k,0.5,D);break;case Ld:Ha=(C+2*la.Ub)/3;ta=(E+2*la.Ac)/3;cb=(2*la.Ub+v)/3;rb=(2*la.Ub+v)/3;Ha=Ic(C,E,Ha,ta,cb,rb,v,I,g,i,j,k,0.5,D);break;case Md:case Fd:I=la.type===Md?Od(la,M):Pd(la,M,C,E);ta=I.length;for(s=0;s<ta;s++)y=I[s],0===s&&dl(C,E,y.x1,y.y1,g,i,j,k,D)&&(v=el(g,i,D,r,e),v<r&&(r=v,m=h)),Ic(y.x1,y.y1,y.x2,y.y2,y.Ef,y.Ff,y.Zc,y.$c,g,i,j,k,0.5,D)&&(v=el(g,i,D,r,e),v<r&&(r=v,m=h));v=y.Zc;I=y.$c;break;default:w.m("Unknown Segment type: "+la.type)}C=v;E=
I;Ha&&(v=el(g,i,D,r,e),v<r&&(r=v,m=h));la.Ev&&(v=Z,I=va,dl(C,E,v,I,g,i,j,k,D)&&(v=el(g,i,D,r,e),v<r&&(r=v,m=h)))}}g=c-a;i=d-b;d=Math.sqrt(g*g+i*i);e.x-=g/d*l;e.y-=i/d*l}else w.m("Invalid Geometry type");if(!m)return q;d=kb(this.transform,e);e.x=d.x;e.y=d.y;return h};function el(a,b,c,d,e){a=c.x-a;b=c.y-b;b=a*a+b*b;return b<d?(e.x=c.x,e.y=c.y,b):d}
function dl(a,b,c,d,e,g,i,j,k){var l=q,m=(e-i)*(b-d)-(g-j)*(a-c);if(0===m)return q;k.x=((e*j-g*i)*(a-c)-(e-i)*(a*d-b*c))/m;k.y=((e*j-g*i)*(b-d)-(g-j)*(a*d-b*c))/m;if((a>c?a-c:c-a)<(b>d?b-d:d-b)){if(e=b<d?b:d,a=b<d?d:b,(k.y>e||Ta(k.y,e))&&(k.y<a||Ta(k.y,a)))l=h}else if(e=a<c?a:c,a=a<c?c:a,(k.x>e||Ta(k.x,e))&&(k.x<a||Ta(k.x,a)))l=h;return l}
V.prototype.containedInRect=V.prototype.jv=function(a,b){if(b===f)return a.Ul(this.va);var c=this.Ha;c===n&&(Ih(this,Infinity,Infinity),c=this.Ha);var c=c.Fb,d=this.$a/2;return!a.ua(b.Ta(new F(c.x-d,c.y-d)))||!a.ua(b.Ta(new F(c.x-d,c.bottom+d)))||!a.ua(b.Ta(new F(c.right+d,c.bottom+d)))||!a.ua(b.Ta(new F(c.right+d,c.y-d)))?q:h};
V.prototype.intersectsRect=V.prototype.Qe=function(a,b){function c(a,b){k.x=a*d.m11+b*d.m21+d.dx;k.y=a*d.m12+b*d.m22+d.dy}if(this.jv(a,b)||b===f&&(b=this.transform,a.Ul(this.va)))return h;var d=b.copy();d.oD();var e=a.left,g=a.right,i=a.top,j=a.bottom,k=new F;c(e,i);if(this.xj(k,h))return h;c(g,i);if(this.xj(k,h))return h;c(e,j);if(this.xj(k,h))return h;c(g,j);if(this.xj(k,h))return h;var l=new F,m=new F;d.set(b);d.rH(this.transform);d.oD();l.x=g;l.y=i;l.transform(d);k.x=e;k.y=i;k.transform(d);if(fl(this,
k,l,m))return h;k.x=g;k.y=j;k.transform(d);if(fl(this,k,l,m))return h;l.x=e;l.y=j;l.transform(d);if(fl(this,k,l,m))return h;k.x=e;k.y=i;k.transform(d);return fl(this,k,l,m)?h:q};function fl(a,b,c,d){if(!a.ZC(b,c,d))return q;var a=b.x,b=b.y,e=c.x,g=c.y,c=d.x,d=d.y;if(a===e){var i;b<g?(i=b,a=g):(i=g,a=b);return d>=i&&d<=a}a<e?(i=a,a=e):i=e;return c>=i&&c<=a}
V.prototype.QC=function(a,b){if(this.fill!==n&&this.xj(a,h))return h;var c=a.Yl(b),d=c;1.5<this.$a&&(c=this.$a/2+Math.sqrt(c),c*=c);var e=this.Ha;e===n&&(Ih(this,Infinity,Infinity),e=this.Ha);var g=e.Cb,i=e.Ob,j=e.Bc,k=e.Ic;if(e.type===md){var e=$a(a.x,a.y,g,i,j,k),l=(g-j)*(a.x-j)+(i-k)*(a.y-k);if(e<=(0<=(j-g)*(a.x-g)+(k-i)*(a.y-i)&&0<=l?c:d))return h}else if(e.type===qd){if($a(a.x,a.y,g,i,g,k)<=c||$a(a.x,a.y,g,i,j,i)<=c||$a(a.x,a.y,j,i,j,k)<=c||$a(a.x,a.y,g,k,j,k)<=c)return h}else if(e.type===rd){var e=
a.x-(g+j)/2,d=a.y-(i+k)/2,l=Math.abs(j-g)/2,m=Math.abs(k-i)/2;if(0===l||0===m)return e=$a(a.x,a.y,g,i,j,k),e<=c?h:q;g=new F(Infinity,Infinity);Rc(e,d,0,0,-l,-m,l,m,g);Rc(e,d,0,m,-l,-m,l,m,g);Rc(e,d,0,-m,-l,-m,l,m,g);Rc(e,d,0,l,-l,-m,l,m,g);Rc(e,d,0,-l,-l,-m,l,m,g);Rc(e,d,l/2,m/2,-l,-m,l,m,g);Rc(e,d,-l/2,m/2,-l,-m,l,m,g);Rc(e,d,l/2,-m/2,-l,-m,l,m,g);Rc(e,d,-l/2,-m/2,-l,-m,l,m,g);if((g.x-e)*(g.x-e)+(g.y-d)*(g.y-d)<c)return h}else if(e.type===id){k=e.Fb;g=k.x;i=k.y;j=k.x+k.width;k=k.y+k.height;if(a.x>
j&&a.x<g&&a.y>k&&a.y<i&&$a(a.x,a.y,g,i,g,k)>c&&$a(a.x,a.y,g,i,j,i)>c&&$a(a.x,a.y,j,k,g,k)>c&&$a(a.x,a.y,j,k,j,i)>c)return q;c=Math.sqrt(c);if(this.fill===n?Zd(e,a.x,a.y,c):e.ua(a,c,h))return h}return q};w.g(V,"geometry",V.prototype.Wc);w.defineProperty(V,{Wc:"geometry"},function(){return this.ek?this.ek:this.Ha},function(a){var b=this.Ha;b!==a&&(a!==n?(u&&w.i(a,hd,V,"geometry"),this.ek=this.Ha=a.freeze()):this.ek=this.Ha=n,this.nh=h,this.R(),this.j("geometry",b,a))});w.g(V,"geometryString",V.prototype.VC);
w.defineProperty(V,{VC:"geometryString"},function(){return this.Wc.toString()},function(a){var b=xd(a),a=b.normalize();this.Wc=b;b=this.position;this.position=b.P()?new F(b.x-a.x,b.y-a.y):new F(-a.x,-a.y)});w.defineProperty(V,{nz:"isGeometryPositioned"},t("Mp"),function(a){u&&w.k(a,"boolean",V,"isGeometryPositioned");var b=this.Mp;b!==a&&(this.Mp=a,this.R(),this.j("isGeometryPositioned",b,a))});V.prototype.$f=function(){this.nh?this.ek=n:this.Ha=n;this.R()};w.g(V,"fill",V.prototype.fill);
w.defineProperty(V,{fill:"fill"},t("Ee"),function(a){var b=this.Ee;if(b!==a&&(a===n||"string"===typeof a||a instanceof Fe))a instanceof Fe&&a.freeze(),this.Ee=a,vj(this),this.j("fill",b,a)});w.g(V,"stroke",V.prototype.stroke);w.defineProperty(V,{stroke:"stroke"},t("lc"),function(a){var b=this.lc;if(b!==a&&(a===n||"string"===typeof a||a instanceof Fe))a instanceof Fe&&a.freeze(),this.lc=a,vj(this),this.j("stroke",b,a)});w.g(V,"strokeWidth",V.prototype.$a);
w.defineProperty(V,{$a:"strokeWidth"},t("rh"),function(a){var b=this.rh;b!==a&&(u&&w.o(a,V,"strokeWidth"),0<=a&&(this.rh=a,this.R(),this.j("strokeWidth",b,a)))});w.g(V,"strokeCap",V.prototype.CE);w.defineProperty(V,{CE:"strokeCap"},t("rn"),function(a){var b=this.rn;b!==a&&("string"===typeof a&&("butt"===a||"round"===a||"square"===a)?(this.rn=a,vj(this),this.j("strokeCap",b,a)):w.ra(a,'"butt", "round", or "square"',V,"strokeCap"))});w.g(V,"strokeJoin",V.prototype.eI);
w.defineProperty(V,{eI:"strokeJoin"},t("sn"),function(a){var b=this.sn;b!==a&&("string"===typeof a&&("miter"===a||"bevel"===a||"round"===a)?(this.sn=a,vj(this),this.j("strokeJoin",b,a)):w.ra(a,'"miter", "bevel", or "round"',V,"strokeJoin"))});w.g(V,"strokeMiterLimit",V.prototype.fI);w.defineProperty(V,{fI:"strokeMiterLimit"},t("tn"),function(a){var b=this.tn;b!==a&&(u&&w.o(a,V,"strokeMiterLimit"),0<a&&(this.tn=a,vj(this),this.j("strokeMiterLimit",b,a)))});w.g(V,"strokeDashArray",V.prototype.DE);
w.defineProperty(V,{DE:"strokeDashArray"},t("jr"),function(a){var b=this.jr;b!==a&&(this.jr=a,vj(this),this.j("strokeDashArray",b,a))});w.g(V,"strokeDashOffset",V.prototype.dI);w.defineProperty(V,{dI:"strokeDashOffset"},t("qf"),function(a){var b=this.qf;b!==a&&(u&&w.o(a,V,"strokeDashOffset"),0<a&&(this.qf=a,vj(this),this.j("strokeDashOffset",b,a)))});w.g(V,"figure",V.prototype.gb);
w.defineProperty(V,{gb:"figure"},t("vp"),function(a){var b=this.vp;if(b!==a){u&&w.k(a,"string",V,"figure");var c=cl[a];"function"===typeof c?c=a:(c=cl[a.toLowerCase()])||w.m("Unknown Shape.figure: "+a);b!==c&&(this.vp=c,this.nh=q,this.$f(),this.j("figure",b,c))}});w.g(V,"toArrow",V.prototype.rm);
w.defineProperty(V,{rm:"toArrow"},t("vn"),function(a){var b=this.vn;a===h?a="Standard":a===q&&(a="None");if(b!==a){u&&w.k(a,"string",V,"toArrow");var c=bl(a);c instanceof hd?c=a:(c=bl(a.toLowerCase()))||w.m("Unknown Shape.toArrow: "+a);b!==c&&(this.vn=c,this.nh=q,this.$f(),gl(this,c),this.j("toArrow",b,c))}});w.g(V,"fromArrow",V.prototype.zv);
w.defineProperty(V,{zv:"fromArrow"},t("Lm"),function(a){var b=this.Lm;a===h?a="Standard":a===q&&(a="None");if(b!==a){u&&w.k(a,"string",V,"fromArrow");var c=bl(a);c instanceof hd?c=a:(c=bl(a.toLowerCase()))||w.m("Unknown Shape.fromArrow: "+a);b!==c&&(this.Lm=c,this.nh=q,this.$f(),gl(this,c),this.j("fromArrow",b,c))}});
function gl(a,b){var c=a.h;if(!(c!==n&&c.sa.tb)){a.Cs=hl;c=Zb;switch(b){case "halfarrowtop":c=Rb;break;case "halftriangletop":c=Rb;break;case "openrighttriangletop":c=Rb;break;case "opentriangletop":c=Rb}"None"!==a.vn?(a.Gh=-1,a.sj=c):"None"!==a.Lm&&(a.Gh=0,a.sj=new H(1-c.x,c.y))}}w.defineProperty(V,{v:"spot1"},t("qi"),function(a){w.i(a,H,V,"spot1");var b=this.qi;b.I(a)||(this.qi=a=a.O(),this.R(),this.j("spot1",b,a))});
w.defineProperty(V,{w:"spot2"},t("ri"),function(a){w.i(a,H,V,"spot2");var b=this.ri;b.I(a)||(this.ri=a=a.O(),this.R(),this.j("spot2",b,a))});w.defineProperty(V,{gc:"parameter1"},t("Bq"),function(a){var b=this.Bq;b!==a&&(this.Bq=a,this.R(),this.j("parameter1",b,a))});w.defineProperty(V,{ws:"parameter2"},t("Cq"),function(a){var b=this.Cq;b!==a&&(this.Cq=a,this.R(),this.j("parameter2",b,a))});
w.u(V,{Sa:"naturalBounds"},function(){if(this.Ha!==n)return this.Kc.Va(this.Ha.Fb),this.Kc;var a=this.wa;return new G(0,0,a.width,a.height)});w.g(V,"isRectangular",V.prototype.YG);w.defineProperty(V,{YG:"isRectangular"},t("Sp"),function(a){var b=this.Sp;b!==a&&(u&&w.k(a,"boolean",V,"isRectangular"),this.Sp=a,this.R(),this.j("isRectangular",b,a))});w.g(V,"geometryStretch",V.prototype.Av);
w.defineProperty(V,{Av:"geometryStretch"},t("Dp"),function(a){var b=this.Dp;b!==a&&(w.kb(a,P,V,"geometryStretch"),this.Dp=a,this.j("geometryStretch",b,a))});w.g(V,"interval",V.prototype.Gi);w.defineProperty(V,{Gi:"interval"},t("Jp"),function(a){var b=this.Jp;u&&w.o(a,V,"interval");a=Math.floor(a);b!==a&&0<=a&&(this.Jp=a,this.R(),this.j("interval",b,a))});
function na(){P.call(this);this.Ld="";this.lc="black";this.Zi="13px sans-serif";this.rf="start";this.Pp=h;this.wl=this.xl=q;this.Nl=il;this.Vt=this.Bl=0;this.lk=this.Ex=this.Fx=n;this.bq={};this.tp=q;this.De=this.rj=this.nr=n}w.Q("TextBlock",na);w.Ea(na,P);
na.prototype.xb=function(a){P.prototype.xb.call(this,a);a.Ld=this.Ld;a.lc=this.lc;a.Zi=this.Zi;a.rf=this.rf;a.Pp=this.Pp;a.xl=this.xl;a.wl=this.wl;a.Nl=this.Nl;a.Bl=this.Bl;a.Vt=this.Vt;a.Fx=this.Fx;a.Ex=this.Ex;a.lk=this.lk;a.bq=this.bq;a.tp=this.tp;a.nr=this.nr;a.rj=this.rj;a.De=this.De};na.prototype.toString=function(){return 22<this.Ld.length?'TextBlock("'+this.Ld.substring(0,20)+'"...)':'TextBlock("'+this.Ld+'")'};var jl;na.None=jl=w.s(na,"None",0);var kl;na.WrapFit=kl=w.s(na,"WrapFit",1);var il;
na.WrapDesiredSize=il=w.s(na,"WrapDesiredSize",2);na.prototype.R=function(){P.prototype.R.call(this);this.lk=this.Ex=this.Fx=n};w.g(na,"font",na.prototype.font);w.defineProperty(na,{font:"font"},t("Zi"),function(a){var b=this.Zi;b!==a&&(u&&w.k(a,"string",na,"font"),this.Zi=a,this.R(),this.j("font",b,a))});w.g(na,"text",na.prototype.text);w.defineProperty(na,{text:"text"},t("Ld"),function(a){var b=this.Ld,a=a!==n&&a!==f?a.toString():"";b!==a&&(this.Ld=a,this.R(),this.j("text",b,a))});
w.g(na,"textAlign",na.prototype.textAlign);w.defineProperty(na,{textAlign:"textAlign"},t("rf"),function(a){var b=this.rf;b!==a&&(u&&w.k(a,"string",na,"textAlign"),"start"===a||"end"===a||"left"===a||"right"===a||"center"===a?(this.rf=a,vj(this),this.j("textAlign",b,a)):w.ra(a,'"start", "end", "left", "right", or "center"',na,"textAlign"))});
w.u(na,{Sa:"naturalBounds"},function(){if(!this.Kc.P()){var a=ll(this,this.Ld,this.font,{},999999).width,b=ml(this,a,{}),c=this.wa;isNaN(c.width)||(a=c.width);isNaN(c.height)||(b=c.height);db(this.Kc,a,b)}return this.Kc});w.g(na,"isMultiline",na.prototype.Hv);w.defineProperty(na,{Hv:"isMultiline"},t("Pp"),function(a){var b=this.Pp;b!==a&&(u&&w.k(a,"boolean",na,"isMultiline"),this.Pp=a,this.R(),this.j("isMultiline",b,a))});w.g(na,"isUnderline",na.prototype.$G);
w.defineProperty(na,{$G:"isUnderline"},t("xl"),function(a){var b=this.xl;b!==a&&(u&&w.k(a,"boolean",na,"isUnderline"),this.xl=a,vj(this),this.j("isUnderline",b,a))});w.g(na,"isStrikethrough",na.prototype.ZG);w.defineProperty(na,{ZG:"isStrikethrough"},t("wl"),function(a){var b=this.wl;b!==a&&(u&&w.k(a,"boolean",na,"isStrikethrough"),this.wl=a,vj(this),this.j("isStrikethrough",b,a))});w.g(na,"wrap",na.prototype.iA);
w.defineProperty(na,{iA:"wrap"},t("Nl"),function(a){var b=this.Nl;b!==a&&(u&&w.kb(a,na,na,"wrap"),this.Nl=a,this.R(),this.j("wrap",b,a))});w.g(na,"stroke",na.prototype.stroke);w.defineProperty(na,{stroke:"stroke"},t("lc"),function(a){var b=this.lc;if(b!==a&&(a===n||"string"===typeof a||a instanceof Fe))a instanceof Fe&&a.freeze(),this.lc=a,vj(this),this.j("stroke",b,a)});w.u(na,{sL:"lineCount"},t("Bl"));w.g(na,"editable",na.prototype.pv);
w.defineProperty(na,{pv:"editable"},t("tp"),function(a){var b=this.tp;b!==a&&(u&&w.k(a,"boolean",na,"editable"),this.tp=a,this.j("editable",b,a))});w.g(na,"textEditor",na.prototype.aA);w.defineProperty(na,{aA:"textEditor"},t("nr"),function(a){var b=this.nr;b!==a&&(a instanceof HTMLElement||w.m("textEditor must be an HTMLElement"),this.nr=a,this.j("textEditor",b,a))});w.g(na,"errorFunction",na.prototype.Qr);
w.defineProperty(na,{Qr:"errorFunction"},t("De"),function(a){var b=this.De;b!==a&&(a!==n&&w.k(a,"function",na,"errorFunction"),this.De=a,this.j("errorFunction",b,a))});
na.prototype.Wn=function(a,b){if(this.lc!==n&&0!==this.Ld.length){var c=this.Zi;if(c!==n){var d=this.Sa.width,e=Jh(this,c);a.Jw!==c&&(a.font=c,a.Jw=c);a.textAlign=this.rf;yj(this,a,this.lc,h);(this.xl||this.wl)&&yj(this,a,this.lc,q);var c=this.bq,g=0,i=q,j=this.je.Ta(new F(0,0)),k=this.je.Ta(new F(0,e)),j=j.Yl(k),k=b.scale;8>j*k*k&&(i=h);j=c.vj.length;for(k=0;k<j;k++){var l=c.vj[k],m=c.Pn[k];l>d&&(l=d);var p=m,m=a,r=g,s=e,v=i,y=0;"start"===this.rf||"left"===this.rf?y=0:"end"===this.rf||"right"===
this.rf?y=d:"center"===this.rf?y=d/2:w.m("textAlign must be start, end, left, right, or center");v?m.fillRect(0+y,r+0.25*s,l,1):(m.fillText(p,0+y,r+s-0.25*s),p=s/20|0,this.xl&&("end"===this.rf||"right"===this.rf?y-=l:"center"===this.rf&&(y-=l/2),m.beginPath(),m.lineWidth=p,m.moveTo(0+y,r+s-0.2*s),m.lineTo(0+y+l,r+s-0.2*s),m.stroke()),this.wl&&(m.beginPath(),m.lineWidth=p,r=r+s-s/2.2|0,0!==p%2&&(r+=0.5),m.moveTo(0,r),m.lineTo(0+l,r),m.stroke()));g+=e}}}};
na.prototype.ms=function(a,b,c,d){var e={},g=0,i=0;if(isNaN(this.wa.width)){g=this.Ld;if(0===g.length)g=0;else if(this.Hv){for(var j=i=0,k=q,l={Mh:0};!k;){var m=nl(g,j,l);-1===m&&(m=g.length,k=h);j=ol(g.substr(j,m-j).replace(/^\s+|\s+$/g,""),this.Zi);j>i&&(i=j);j=l.Mh}g=i}else i=nl(g,0,{}),0<=i&&(g=g.substr(0,i)),g=j=ol(g,this.Zi);g=Math.min(g,a/this.scale);g=Math.max(8,g)}else g=this.wa.width;this.fa&&(g=Math.min(g,this.fa.ce.width),g=Math.max(g,this.fa.we.width));i=ml(this,g,e);i=isNaN(this.wa.height)?
Math.min(i,b/this.scale):this.wa.height;if(this.iA===kl||isNaN(this.wa.width))g=e.Mi,isNaN(this.wa.width)&&(g=Math.max(8,g));g=Math.max(c,g);i=Math.max(d,i);db(this.Kc,g,i);mj(this,0,0,g,i);this.bq=e};na.prototype.wj=function(a,b,c,d){sj(this,a,b,c,d)};
function ll(a,b,c,d,e){b=b.replace(/^\s+|\s+$/g,"");d.Mi===f&&(d.Mi=0);d.vj===f&&(d.vj=[]);d.Pn===f&&(d.Pn=[]);var g=0,i;if(a.Nl===jl)return d.Mh=1,d.Mi=ol(b,c),d.vj.push(d.Mi),d.Pn.push(b),new bb(d.Mi,Jh(a,c));a.lk===n&&(a.lk=Jh(a,c));var a=a.lk,j=b,k=0;0===j.length&&(k=1,d.vj.push(0),d.Pn.push(j));for(;0<j.length;){for(var l=pl(j),j=j.substr(l.length);ol(l,c)>e;){var m=1,b=ol(l.substr(0,m),c);for(i=0;b<=e;)m++,i=b,b=ol(l.substr(0,m),c);1===m?(d.vj[k]=b,g=Math.max(g,b)):(d.vj[k]=i,g=Math.max(g,i));
m--;1>m&&(m=1);d.Pn[k]=l.substr(0,m);k++;l=l.substr(m)}i=pl(j);for(b=ol(l+i,c);0<i.length&&b<=e;)l+=i,j=j.substr(i.length),i=pl(j),b=ol((l+i).replace(/^\s+|\s+$/g,""),c);l=l.replace(/^\s+|\s+$/g,"");""!==l&&(0===i.length?(d.vj.push(b),g=Math.max(g,b)):(i=ol(l,c),d.vj.push(i),g=Math.max(g,i)),d.Pn.push(l),k++)}d.Mh=k;d.Mi=Math.max(d.Mi,g);return new bb(d.Mi,a*d.Mh)}function pl(a){for(var b=a.length,c=0;c<b&&" "!==a.charAt(c);)c++;for(;c<b&&" "===a.charAt(c);)c++;return c>=b?a:a.substr(0,c)}
function ol(a,b){w.Cu!==b&&(w.Bu.font=b,w.Cu=b);return w.Bu.measureText(a).width}function Jh(a,b){if(a.lk!==n)return a.lk;w.Cu!==b&&(w.Bu.font=b,w.Cu=b);var c=0;w.lx[b]!==f&&5E3>w.UA?c=w.lx[b]:(c=1.3*w.Bu.measureText("M").width,w.lx[b]=c,w.UA++);return c}function nl(a,b,c){c.Mh===f&&(c.Mh=0);var d=a.indexOf("\r",b);-1===d&&(d=a.indexOf("\n",b));0<=d&&(c.Mh="\r"===a[d]&&d+1<a.length&&"\n"===a[d+1]?d+2:d+1);return d}
function ml(a,b,c){var d=a.Ld,e=a.Zi,g=Jh(a,e);if(0===d.length)return c.Mi=0,a.Bl=1,g;if(!a.Hv){var i=nl(d,0,{});0<=i&&(d=d.substr(0,i))}for(var j=i=0,k=0,l=-1,m={Mh:0},p=q;!p;)l=nl(d,k,m),-1===l&&(l=d.length,p=h),k<=l&&(k=d.substr(k,l-k),a.Nl!==jl?(c.Mh=0,k=ll(a,k,e,c,b),i+=k.height,j+=c.Mh):(ll(a,k,e,c,Infinity),i+=g,j++)),k=m.Mh;a.Bl=j;return a.Vt=i}w.g(na,"textValidation",na.prototype.Ks);
w.defineProperty(na,{Ks:"textValidation"},t("rj"),function(a){var b=this.rj;b!==a&&(a!==n&&w.k(a,"function",na,"textValidation"),this.rj=a,this.j("textValidation",b,a))});function ek(){P.call(this);this.Vh=n;this.gr="";this.qj=(new G(NaN,NaN,NaN,NaN)).freeze();this.Qm=kd;this.Iu=this.De=n;this.Jt=this.Cl=q}w.Q("Picture",ek);w.Ea(ek,P);ek.prototype.xb=function(a){P.prototype.xb.call(this,a);a.element=this.Vh;a.gr=this.gr;a.qj.Va(this.qj);a.Qm=this.Qm;a.De=this.De};
ek.prototype.toString=function(){return"Picture("+this.source+")#"+w.ec(this)};w.g(ek,"element",ek.prototype.element);
w.defineProperty(ek,{element:"element"},t("Vh"),function(a){var b=this.Vh;if(b!==a){a instanceof HTMLImageElement||(a instanceof HTMLVideoElement||a instanceof HTMLCanvasElement)||w.m("Picture.element must be an instance of Image, Canvas, or Video.");var c=this;a instanceof HTMLCanvasElement?this.Jt=h:(this.Jt=q,a.onerror=function(a){c.De!==n&&c.De(c,a)});this.Vh=a;this.j("element",b,a);a.complete===h||a.complete===f?(this.Cl=h,this.wa.P()||(this.$b=q,this.R())):(w.vy.push(this),w.su===n&&(w.su=setInterval(function(){for(var a=
[],b=w.vy,c=b.length,i=0;i<c;i++){var j=b[i];ql(j)||a.push(j)}0===a.length&&(clearInterval(w.su),w.su=n);w.vy=a},600)))}});function ql(a){var b=a.Vh;if(!b)return h;if(!b.complete)return q;if(a.Cl===h)return h;a.Cl=h;if(a.h)a.wa.P()||(a.$b=q,a.R(),a.h.Hi()),Nh(a.h);else{var a=w.LA,c=a.length;if(0===c)for(var c=document.getElementsByTagName("canvas"),d=c.length,b=0;b<d;b++){var e=c[b];e.parentElement&&e.parentElement.ba&&a.push(e.parentElement.ba)}c=a.length;for(b=0;b<c;b++)Nh(a[b])}return h}
w.g(ek,"source",ek.prototype.source);w.defineProperty(ek,{source:"source"},t("gr"),function(a){var b=this.gr;if(b!==a)if(w.k(a,"string",ek,"source"),this.gr=a,this.j("source",b,a),b=w.hF,b[a]!==f)this.element=b[a];else{var c=document.createElement("img");c.src=a;b[a]=c;c instanceof HTMLImageElement&&(this.element=c)}});w.g(ek,"sourceRect",ek.prototype.Hh);
w.defineProperty(ek,{Hh:"sourceRect"},t("qj"),function(a){var b=this.qj;b.I(a)||(w.i(a,G,ek,"sourceRect"),this.qj=a=a.O(),this.j("sourceRect",b,a))});w.g(ek,"imageStretch",ek.prototype.OG);w.defineProperty(ek,{OG:"imageStretch"},t("Qm"),function(a){var b=this.Qm;b!==a&&(w.kb(a,P,ek,"imageStretch"),this.Qm=a,this.j("imageStretch",b,a))});w.g(ek,"errorFunction",ek.prototype.Qr);
w.defineProperty(ek,{Qr:"errorFunction"},t("De"),function(a){var b=this.De;if(b!==a){a!==n&&w.k(a,"function",ek,"errorFunction");this.De=a;if(this.Vh){var c=this;this.Vh.onerror=function(a){c.De!==n&&c.De(c,a)}}this.j("errorFunction",b,a)}});
ek.prototype.Wn=function(a,b){if(!b.ut){if(this.Iu===n){var c=document.createElement("canvas").getContext("2d");c.drawImage(this.Vh,0,0);try{c.getImageData(0,0,1,1),this.Iu=q}catch(d){this.Iu=h}}if(this.Iu)return}c=this.Vh;if(c!==n){var e=c.src;(e===n||""===e)&&w.m("Element has no source attribute: "+c);var e=this.Sa,g=0,i=0,j=this.Jt,k=j?+c.width:c.naturalWidth,j=j?+c.height:c.naturalHeight;if(!(0===k||0===j)){k===f&&c.videoWidth&&(k=c.videoWidth||e.width);j===f&&c.videoHeight&&(j=c.videoHeight||
e.height);this.Hh.P()&&(g=this.qj.x,i=this.qj.y,k=this.qj.width,j=this.qj.height);var l=k,m=j,p=this.Qm;switch(p){case jj:if(this.Hh.P())break;g+=Math.max((l-e.width)/2,0);i+=Math.max((m-e.height)/2,0);k=Math.min(e.width,l);j=Math.min(e.height,m);break;case kd:l=e.width;m=e.height;break;case fh:case gh:p===fh?(p=Math.min(e.height/m,e.width/l),l*=p,m*=p):p===gh&&(p=Math.max(e.height/m,e.width/l),l*=p,m*=p,g+=(l-e.width)/2,i+=(m-e.height)/2,k*=1/(l/e.width),j*=1/(m/e.height),l=e.width,m=e.height)}a.drawImage(c,
g,i,k,j,Math.max((e.width-l)/2,0),Math.max((e.height-m)/2,0),Math.min(e.width,l),Math.min(e.height,m))}}};w.u(ek,{Sa:"naturalBounds"},t("Kc"));
ek.prototype.ms=function(a,b,c,d){var e=this.wa,g=pj(this),i=this.Vh,j=this.Jt;if(j||!this.Cl&&i&&i.complete)this.Cl=h;i===n&&(b=a=0);g!==kd&&g!==lj?isFinite(e.width)?a=e.width:i!==n&&this.Cl!==q&&(a=this.Hh.P()?this.Hh.width:j?+i.width:i.naturalWidth):(isFinite(a)||(a=this.Hh.P()?this.Hh.width:j?+i.width:i.naturalWidth),c=0);g!==kd&&g!==kj?isFinite(e.height)?b=e.height:i!==n&&this.Cl!==q&&(b=this.Hh.P()?this.Hh.height:j?+i.height:i.naturalHeight):(isFinite(b)||(b=this.Hh.P()?this.Hh.height:j?+i.height:
i.naturalHeight),d=0);e=this.ce;g=this.we;c=Math.max(c,g.width);d=Math.max(d,g.height);a=Math.min(e.width,a);b=Math.min(e.height,b);a=Math.max(c,a);b=Math.max(d,b);i!==n&&!i.complete&&(isFinite(a)||(a=0),isFinite(b)||(b=0));db(this.Kc,a,b);mj(this,0,0,a,b)};ek.prototype.wj=function(a,b,c,d){sj(this,a,b,c,d)};function J(){this.q=new hd;this.Mb=n}
function K(a,b,c,d,e,g){a.q===n&&w.m("StreamGeometryContext has been closed");e!==f&&e===h?(a.Mb===n&&w.m("Need to call beginFigure first"),d=new Ed(Jd),d.C=b,d.D=c,a.Mb.za.add(d)):(a.Mb=new jd,a.Mb.ma=b,a.Mb.na=c,a.Mb.fo=d,a.q.sb.add(a.Mb));g!==f&&(a.Mb.Jf=g)}function Gd(a){a.q===n&&w.m("StreamGeometryContext has been closed");a.Mb===n&&w.m("Need to call beginFigure first");var b=a.Mb.za.length;0<b&&a.Mb.za.n[b-1].close()}
function Hd(a){a.q===n&&w.m("StreamGeometryContext has been closed");a.Mb===n&&w.m("Need to call beginFigure first");a.Mb.io=q}J.prototype.moveTo=function(a,b,c){this.q===n&&w.m("StreamGeometryContext has been closed");this.Mb===n&&w.m("Need to call beginFigure first");var d=new Ed(Jd);d.C=a;d.D=b;c&&d.close();this.Mb.za.add(d)};
J.prototype.lineTo=function(a,b,c){this.q===n&&w.m("StreamGeometryContext has been closed");this.Mb===n&&w.m("Need to call beginFigure first");var d=new Ed(td);d.C=a;d.D=b;c&&d.close();this.Mb.za.add(d)};function L(a,b,c,d,e,g,i,j){a.q===n&&w.m("StreamGeometryContext has been closed");a.Mb===n&&w.m("Need to call beginFigure first");var k=new Ed(Kd);k.Ub=b;k.Ac=c;k.lg=d;k.mg=e;k.C=g;k.D=i;j&&k.close();a.Mb.za.add(k)}
function Dd(a,b,c,d,e){a.q===n&&w.m("StreamGeometryContext has been closed");a.Mb===n&&w.m("Need to call beginFigure first");var g=new Ed(Ld);g.Ub=b;g.Ac=c;g.C=d;g.D=e;a.Mb.za.add(g)}J.prototype.arcTo=function(a,b,c,d,e,g,i){this.q===n&&w.m("StreamGeometryContext has been closed");this.Mb===n&&w.m("Need to call beginFigure first");var j=new Ed(Md);j.og=a;j.Jh=b;j.pa=c;j.ta=d;j.radiusX=e;j.radiusY=g?g:e;i&&j.close();this.Mb.za.add(j)};
function rl(a,b,c,d,e,g,i,j,k,l,m,p,r,s){var v=1-k,a=a*v+c*k,b=b*v+d*k,c=c*v+e*k,d=d*v+g*k,e=e*v+i*k,g=g*v+j*k,j=a*v+c*k,i=b*v+d*k,c=c*v+e*k,d=d*v+g*k;l.x=a;l.y=b;m.x=j;m.y=i;p.x=j*v+c*k;p.y=i*v+d*k;r.x=c;r.y=d;s.x=e;s.y=g}function sl(a){var a=tl(a),b=[];b[0]=a[0];for(var c=1,d=1;c<a.length;c+=2,d+=3)b[d]=a[c],b[d+1]=a[c],b[d+2]=a[c+1];return b}
function tl(a){for(var b=ul(a),c=[],d=Math.floor(b.length/2),e=b.length-1,a=0===a%2?2:1,g=0;g<e;g++){var i=b[g],j=b[g+1],k=b[(d+g-1)%e],l=b[(d+g+a)%e];c[2*g]=i;c[2*g+1]=vl(i.x,i.y,k.x,k.y,j.x,j.y,l.x,l.y)}c[c.length]=c[0];return c}function vl(a,b,c,d,e,g,i,j){c=a-c;i=e-i;0===c||0===i?0===c?(i=(g-j)/i,j=a,e=i*j+(g-i*e)):(d=(b-d)/c,j=e,e=d*j+(b-d*a)):(d=(b-d)/c,i=(g-j)/i,a=b-d*a,j=(g-i*e-a)/(d-i),e=d*j+a);return new F(j,e)}
function ul(a){for(var b=[],c=1.5*Math.PI,d=0,e=0;e<a;e++)d=2*Math.PI/a*e+c,b[e]=new F(0.5+0.5*Math.cos(d),0.5+0.5*Math.sin(d));b.push(b[0]);return b}
var cl={None:"Rectangle",Rectangle:function(a,b,c){a=new hd;a.type=qd;a.ma=0;a.na=0;a.C=b;a.D=c;return a},Square:function(a,b,c){a=new hd;a.Zb=fh;a.type=qd;a.ma=0;a.na=0;a.C=b;a.D=c;return a},Ellipse:function(a,b,c){a=new hd;a.type=rd;a.ma=0;a.na=0;a.C=b;a.D=c;a.v=new H(0.156,0.156);a.w=new H(0.844,0.844);return a},Circle:function(a,b,c){a=new hd;a.Zb=fh;a.type=rd;a.ma=0;a.na=0;a.C=b;a.D=c;a.v=new H(0.156,0.156);a.w=new H(0.844,0.844);return a},Connector:"Ellipse",TriangleRight:function(a,b,c){var a=
new hd,d=new jd,e=new Ed;e.C=b;e.D=0.5*c;d.za.add(e);b=new Ed;b.C=0;b.D=c;d.za.add(b.close());a.sb.add(d);a.v=new H(0,0.25);a.w=new H(0.5,0.75);return a},TriangleDown:function(a,b,c){var a=new hd,d=new jd,e=new Ed;e.C=b;e.D=0;d.za.add(e);e=new Ed;e.C=0.5*b;e.D=c;d.za.add(e.close());a.sb.add(d);a.v=new H(0.25,0);a.w=new H(0.75,0.5);return a},TriangleLeft:function(a,b,c){var a=new hd,d=new jd;d.ma=b;d.na=c;var e=new Ed;e.C=0;e.D=0.5*c;d.za.add(e);c=new Ed;c.C=b;c.D=0;d.za.add(c.close());a.sb.add(d);
a.v=new H(0.5,0.25);a.w=new H(1,0.75);return a},TriangleUp:function(a,b,c){var a=new hd,d=new jd;d.ma=b;d.na=c;var e=new Ed;e.C=0;e.D=c;d.za.add(e);c=new Ed;c.C=0.5*b;c.D=0;d.za.add(c.close());a.sb.add(d);a.v=new H(0.25,0.5);a.w=new H(0.75,1);return a},Line1:function(a,b,c){a=new hd;a.type=md;a.ma=0;a.na=0;a.C=b;a.D=c;return a},Line2:function(a,b,c){a=new hd;a.type=md;a.ma=b;a.na=0;a.C=0;a.D=c;return a},MinusLine:"LineH",LineH:function(a,b,c){a=new hd;a.type=md;a.ma=0;a.na=c/2;a.C=b;a.D=c/2;return a},
LineV:function(a,b,c){a=new hd;a.type=md;a.ma=b/2;a.na=0;a.C=b/2;a.D=c;return a},Curve1:function(a,b,c){a=new J;K(a,0,0,q);L(a,ic*b,0,1*b,(1-ic)*c,b,c);return a.q},Curve2:function(a,b,c){a=new J;K(a,0,0,q);L(a,0,ic*c,(1-ic)*b,c,b,c);return a.q},Curve3:function(a,b,c){a=new J;K(a,1*b,0,q);L(a,1*b,ic*c,ic*b,1*c,0,1*c);return a.q},Curve4:function(a,b,c){a=new J;K(a,1*b,0,q);L(a,(1-ic)*b,0,0,(1-ic)*c,0,1*c);return a.q},Alternative:"Triangle",Merge:"Triangle",Triangle:function(a,b,c){a=new J;K(a,0.5*b,
0*c,h);a.lineTo(0*b,1*c);a.lineTo(1*b,1*c,h);b=a.q;b.v=new H(0.25,0.5);b.w=new H(0.75,1);return b},Decision:"Diamond",Diamond:function(a,b,c){a=new J;K(a,0.5*b,0,h);a.lineTo(0,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0.5*c,h);b=a.q;b.v=new H(0.25,0.25);b.w=new H(0.75,0.75);return b},Pentagon:function(a,b,c){var a=ul(5),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;5>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.2,0.22);b.w=new H(0.8,0.9);return b},DataTransmission:"Hexagon",Hexagon:function(a,
b,c){var a=ul(6),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;6>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.07,0.25);b.w=new H(0.93,0.75);return b},Heptagon:function(a,b,c){var a=ul(7),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;7>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.2,0.15);b.w=new H(0.8,0.85);return b},Octagon:function(a,b,c){var a=ul(8),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;8>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.15,0.15);b.w=new H(0.85,
0.85);return b},Nonagon:function(a,b,c){var a=ul(9),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;9>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.17,0.13);b.w=new H(0.82,0.82);return b},Decagon:function(a,b,c){var a=ul(10),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.16,0.16);b.w=new H(0.84,0.84);return b},Dodecagon:function(a,b,c){var a=ul(12),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);
Gd(d);b=d.q;b.v=new H(0.16,0.16);b.w=new H(0.84,0.84);return b},FivePointedStar:function(a,b,c){var a=tl(5),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;10>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.312,0.383);b.w=new H(0.693,0.765);return b},SixPointedStar:function(a,b,c){var a=tl(6),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;12>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.17,0.251);b.w=new H(0.833,0.755);return b},SevenPointedStar:function(a,b,c){var a=tl(7),d=new J;
K(d,a[0].x*b,a[0].y*c,h);for(var e=1;14>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.363,0.361);b.w=new H(0.641,0.709);return b},EightPointedStar:function(a,b,c){var a=tl(8),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;16>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.252,0.255);b.w=new H(0.75,0.75);return b},NinePointedStar:function(a,b,c){var a=tl(9),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;18>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.355,0.361);b.w=new H(0.645,
0.651);return b},TenPointedStar:function(a,b,c){var a=tl(10),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;20>e;e++)d.lineTo(a[e].x*b,a[e].y*c);Gd(d);b=d.q;b.v=new H(0.281,0.261);b.w=new H(0.723,0.748);return b},FivePointedBurst:function(a,b,c){var a=sl(5),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)L(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);Gd(d);b=d.q;b.v=new H(0.312,0.383);b.w=new H(0.693,0.765);return b},SixPointedBurst:function(a,b,c){var a=sl(6),d=new J;
K(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)L(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);Gd(d);b=d.q;b.v=new H(0.17,0.251);b.w=new H(0.833,0.755);return b},SevenPointedBurst:function(a,b,c){var a=sl(7),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)L(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);Gd(d);b=d.q;b.v=new H(0.363,0.361);b.w=new H(0.641,0.709);return b},EightPointedBurst:function(a,b,c){var a=sl(8),d=new J;K(d,a[0].x*b,a[0].y*
c,h);for(var e=1;e<a.length;e+=3)L(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);Gd(d);b=d.q;b.v=new H(0.252,0.255);b.w=new H(0.75,0.75);return b},NinePointedBurst:function(a,b,c){var a=sl(9),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=3)L(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);Gd(d);b=d.q;b.v=new H(0.355,0.361);b.w=new H(0.645,0.651);return b},TenPointedBurst:function(a,b,c){var a=sl(10),d=new J;K(d,a[0].x*b,a[0].y*c,h);for(var e=1;e<a.length;e+=
3)L(d,a[e].x*b,a[e].y*c,a[e+1].x*b,a[e+1].y*c,a[e+2].x*b,a[e+2].y*c);Gd(d);b=d.q;b.v=new H(0.281,0.261);b.w=new H(0.723,0.748);return b},Cloud:function(a,b,c){a=new J;K(a,0.08034461*b,0.1944299*c,h);L(a,-0.09239631*b,0.07836421*c,0.1406031*b,-0.0542823*c,0.2008615*b,0.05349299*c);L(a,0.2450511*b,-0.00697547*c,0.3776197*b,-0.01112067*c,0.4338609*b,0.074219*c);L(a,0.4539471*b,0,0.6066018*b,-0.02526587*c,0.6558228*b,0.07004196*c);L(a,0.6914277*b,-0.01904177*c,0.8921095*b,-0.01220843*c,0.8921095*b,0.08370865*
c);L(a,1.036446*b,0.04105738*c,1.020377*b,0.3022052*c,0.9147671*b,0.3194596*c);L(a,1.04448*b,0.360238*c,0.992256*b,0.5219009*c,0.9082935*b,0.562044*c);L(a,1.032337*b,0.5771781*c,1.018411*b,0.8120651*c,0.9212406*b,0.8217117*c);L(a,1.028411*b,0.9571472*c,0.8556702*b,1.052487*c,0.7592566*b,0.9156953*c);L(a,0.7431877*b,1.009325*c,0.5624123*b,1.021761*c,0.5101666*b,0.9310455*c);L(a,0.4820677*b,1.031761*c,0.3030112*b,1.002796*c,0.2609328*b,0.9344623*c);L(a,0.2329994*b,1.01518*c,0.03213784*b,1.01518*c,0.08034461*
b,0.870098*c);L(a,-0.02812061*b,0.9032597*c,-0.01205169*b,0.6835638*c,0.06829292*b,0.6545475*c);L(a,-0.01812061*b,0.6089503*c,-0.00606892*b,0.4555777*c,0.06427569*b,0.4265613*c);L(a,-0.01606892*b,0.3892545*c,-0.01205169*b,0.1944299*c,0.08034461*b,0.1944299*c);Gd(a);b=a.q;b.v=new H(0.1,0.1);b.w=new H(0.9,0.9);return b},Gate:"Crescent",Crescent:function(a,b,c){a=new J;K(a,0,0,h);L(a,1*b,0,1*b,1*c,0,1*c);L(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);Gd(a);b=a.q;b.v=new H(0.511,0.19);b.w=new H(0.776,0.76);return b},
FramedRectangle:function(a,b,c){var d=new J,e=a?a.gc:0,a=a?a.ws:0;0===e&&(e=0.1);0===a&&(a=0.1);K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c,h);K(d,e*b,a*c,q,h);d.lineTo(e*b,(1-a)*c);d.lineTo((1-e)*b,(1-a)*c);d.lineTo((1-e)*b,a*c,h);b=d.q;b.v=new H(e,a);b.w=new H(1-e,1-a);return b},Delay:"HalfEllipse",HalfEllipse:function(a,b,c){a=new J;K(a,0,0,h);L(a,ic*b,0,1*b,(0.5-ic/2)*c,1*b,0.5*c);L(a,1*b,(0.5+ic/2)*c,ic*b,1*c,0,1*c);Gd(a);b=a.q;b.v=new H(0,0.2);b.w=new H(0.75,0.8);return b},Heart:function(a,
b,c){a=new J;K(a,0.5*b,1*c,h);L(a,0.1*b,0.8*c,0,0.5*c,0*b,0.3*c);L(a,0*b,0,0.45*b,0,0.5*b,0.3*c);L(a,0.55*b,0,1*b,0,1*b,0.3*c);L(a,b,0.5*c,0.9*b,0.8*c,0.5*b,1*c);Gd(a);b=a.q;b.v=new H(0.15,0.29);b.w=new H(0.86,0.68);return b},Spade:function(a,b,c){a=new J;K(a,0.5*b,0,h);a.lineTo(0.51*b,0.01*c);L(a,0.6*b,0.2*c,b,0.25*c,b,0.5*c);L(a,b,0.8*c,0.6*b,0.8*c,0.55*b,0.7*c);L(a,0.5*b,0.75*c,0.55*b,0.95*c,0.75*b,c);a.lineTo(0.25*b,c);L(a,0.45*b,0.95*c,0.5*b,0.75*c,0.45*b,0.7*c);L(a,0.4*b,0.8*c,0,0.8*c,0,0.5*
c);L(a,0,0.25*c,0.4*b,0.2*c,0.49*b,0.01*c);Gd(a);b=a.q;b.v=new H(0.19,0.26);b.w=new H(0.8,0.68);return b},Club:function(a,b,c){a=new J;K(a,0.4*b,0.6*c,h);L(a,0.5*b,0.75*c,0.45*b,0.95*c,0.15*b,1*c);a.lineTo(0.85*b,c);L(a,0.55*b,0.95*c,0.5*b,0.75*c,0.6*b,0.6*c);var d=0.2,e=0.3,g=0,i=d*(4*(Math.SQRT2-1)/3);L(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);L(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);L(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+
g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e+0.05)*b,(0.5-i+g-0.02)*c,0.65*b,0.36771243*c);d=0.2;e=0;g=-0.3;i=d*(4*(Math.SQRT2-1)/3);L(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);L(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);L(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,0.35*b,0.36771243*c);d=0.2;e=-0.3;g=0;i=d*(4*(Math.SQRT2-1)/3);L(a,(0.5+
d+e-0.05)*b,(0.5-i+g-0.02)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);L(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);L(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,0.4*b,0.6*c);Gd(a);b=a.q;b.v=new H(0.06,0.39);b.w=new H(0.93,0.58);return b},YinYang:function(a,b,c){var a=0.5,d=new J,a=0.5;K(d,0.5*b,0,h);d.arcTo(270,180,0.5*b,0.5*b,0.5*b);L(d,1*b,a*c,0,a*c,a*b,0,h);var a=0.1,e=0.25;K(d,
(0.5+a)*b,e*c,h,h);d.arcTo(0,-360,0.5*b,c*e,a*b);Gd(d);K(d,0.5*b,0,q);d.arcTo(270,-180,0.5*b,0.5*b,0.5*b);Hd(d);e=0.75;K(d,(0.5+a)*b,e*c,h);d.arcTo(0,360,0.5*b,c*e,a*b);Gd(d);b=d.q;b.Zb=fh;return b},Peace:function(a,b,c){var a=new J,d=0.5*(4*(Math.SQRT2-1)/3);K(a,b,0.5*c,h);L(a,b,(0.5-d)*c,(0.5+d)*b,0,0.5*b,0);L(a,(0.5-d)*b,0,0,(0.5-d)*c,0,0.5*c);L(a,0,(0.5+d)*c,(0.5-d)*b,c,0.5*b,c);L(a,(0.5+d)*b,c,b,(0.5+d)*c,b,0.5*c);d=0.4*(4*(Math.SQRT2-1)/3);K(a,0.5*b,0.1*c,h,h);L(a,(0.5+d)*b,0.1*c,0.9*b,(0.5-
d)*c,0.9*b,0.5*c);L(a,0.9*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.5*b,0.9*c);L(a,(0.5-d)*b,0.9*c,0.1*b,(0.5+d)*c,0.1*b,0.5*c);L(a,0.1*b,(0.5-d)*c,(0.5-d)*b,0.1*c,0.5*b,0.1*c);var d=0.07,e=0,g=-0.707*0.11,i=d*(4*(Math.SQRT2-1)/3);K(a,(0.5+d+e)*b,(0.5+g)*c,h);L(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);L(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);L(a,(0.5+i+e)*b,(0.5+d+g)*c,
(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=-0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-1)/3);K(a,(0.5+d+e)*b,(0.5+g)*c,h);L(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);L(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);L(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);d=0.07;e=0.707*0.11;g=0.707*0.11;i=d*(4*(Math.SQRT2-1)/3);K(a,(0.5+
d+e)*b,(0.5+g)*c,h);L(a,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);L(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);L(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);b=a.q;b.v=new H(0.146,0.146);b.w=new H(0.853,0.853);b.Zb=fh;return b},NotAllowed:function(a,b,c){var a=0.5*ic,d=0.5,e=new J;K(e,0.5*b,(0.5-d)*c,h);L(e,(0.5-a)*b,(0.5-d)*c,(0.5-d)*b,
(0.5-a)*c,(0.5-d)*b,0.5*c);L(e,(0.5-d)*b,(0.5+a)*c,(0.5-a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);L(e,(0.5+a)*b,(0.5+d)*c,(0.5+d)*b,(0.5+a)*c,(0.5+d)*b,0.5*c);L(e,(0.5+d)*b,(0.5-a)*c,(0.5+a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);var d=0.4,a=0.4*ic,g=new F(0,0),i=new F(0,0),j=new F(0,0),k=new F(0,0);rl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.42,g,i,j,k,k);var l=new F(0,0),m=new F(0,0),p=new F(0,0);rl(0.5,0.5-d,0.5+a,0.5-d,0.5+d,0.5-a,0.5+d,0.5,0.58,k,k,p,l,m);var r=new F(0,0),s=new F(0,0),v=new F(0,0);rl(0.5,0.5+
d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.42,r,s,v,k,k);var y=new F(0,0),C=new F(0,0),E=new F(0,0);rl(0.5,0.5+d,0.5-a,0.5+d,0.5-d,0.5+a,0.5-d,0.5,0.58,k,k,E,y,C);K(e,E.x*b,E.y*c,h,h);L(e,y.x*b,y.y*c,C.x*b,C.y*c,(0.5-d)*b,0.5*c);L(e,(0.5-d)*b,(0.5-a)*c,(0.5-a)*b,(0.5-d)*c,0.5*b,(0.5-d)*c);L(e,g.x*b,g.y*c,i.x*b,i.y*c,j.x*b,j.y*c);e.lineTo(E.x*b,E.y*c);Gd(e);K(e,v.x*b,v.y*c,h,h);e.lineTo(p.x*b,p.y*c);L(e,l.x*b,l.y*c,m.x*b,m.y*c,(0.5+d)*b,0.5*c);L(e,(0.5+d)*b,(0.5+a)*c,(0.5+a)*b,(0.5+d)*c,0.5*b,(0.5+d)*c);
L(e,r.x*b,r.y*c,s.x*b,s.y*c,v.x*b,v.y*c);Gd(e);e.q.Zb=fh;return e.q},Fragile:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(0.25*b,0);a.lineTo(0.2*b,0.15*c);a.lineTo(0.3*b,0.25*c);a.lineTo(0.29*b,0.33*c);a.lineTo(0.35*b,0.25*c);a.lineTo(0.3*b,0.15*c);a.lineTo(0.4*b,0);a.lineTo(1*b,0);L(a,1*b,0.25*c,0.75*b,0.5*c,0.55*b,0.5*c);a.lineTo(0.55*b,0.9*c);a.lineTo(0.7*b,0.9*c);a.lineTo(0.7*b,1*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.9*c);a.lineTo(0.45*b,0.9*c);a.lineTo(0.45*b,0.5*c);L(a,0.25*b,0.5*c,0,0.25*
c,0,0);Gd(a);b=a.q;b.v=new H(0.25,0);b.w=new H(0.75,0.4);return b},HourGlass:function(a,b,c){a=new J;K(a,0.65*b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.35*b,0.5*c);a.lineTo(0,0);a.lineTo(1*b,0);Gd(a);return a.q},Lightning:function(a,b,c){a=new J;K(a,0*b,0.55*c,h);a.lineTo(0.75*b,0);a.lineTo(0.25*b,0.45*c);a.lineTo(0.9*b,0.48*c);a.lineTo(0.4*b,1*c);a.lineTo(0.65*b,0.55*c);Gd(a);return a.q},Parallelogram1:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.1);var d=new J;K(d,a*b,0,h);d.lineTo(1*b,
0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);Gd(d);b=d.q;b.v=new H(a,0);b.w=new H(1-a,1);return b},Input:"Output",Output:function(a,b,c){a=new J;K(a,0,1*c,h);a.lineTo(0.1*b,0);a.lineTo(1*b,0);a.lineTo(0.9*b,1*c);Gd(a);b=a.q;b.v=new H(0.1,0);b.w=new H(0.9,1);return b},Parallelogram2:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.25);var d=new J;K(d,a*b,0,h);d.lineTo(1*b,0);d.lineTo((1-a)*b,1*c);d.lineTo(0,1*c);Gd(d);b=d.q;b.v=new H(a,0);b.w=new H(1-a,1);return b},ThickCross:function(a,b,c){a=a?a.gc:0;0===a&&(a=
0.25);var d=new J;K(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);Gd(d);b=d.q;b.v=new H(0.5-a/2,0.5-a/2);b.w=new H(0.5+a/2,0.5+a/2);return b},ThickX:function(a,b,c){var a=0.25/Math.SQRT2,d=new J;K(d,0.3*b,0,h);d.lineTo(0.5*
b,0.2*c);d.lineTo(0.7*b,0);d.lineTo(1*b,0.3*c);d.lineTo(0.8*b,0.5*c);d.lineTo(1*b,0.7*c);d.lineTo(0.7*b,1*c);d.lineTo(0.5*b,0.8*c);d.lineTo(0.3*b,1*c);d.lineTo(0,0.7*c);d.lineTo(0.2*b,0.5*c);d.lineTo(0,0.3*c);Gd(d);b=d.q;b.v=new H(0.5-a,0.5-a);b.w=new H(0.5+a,0.5+a);return b},ThinCross:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.1);var d=new J;K(d,(0.5-a/2)*b,0,h);d.lineTo((0.5+a/2)*b,0);d.lineTo((0.5+a/2)*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5-a/2)*c);d.lineTo(1*b,(0.5+a/2)*c);d.lineTo((0.5+a/2)*b,(0.5+a/2)*
c);d.lineTo((0.5+a/2)*b,1*c);d.lineTo((0.5-a/2)*b,1*c);d.lineTo((0.5-a/2)*b,(0.5+a/2)*c);d.lineTo(0,(0.5+a/2)*c);d.lineTo(0,(0.5-a/2)*c);d.lineTo((0.5-a/2)*b,(0.5-a/2)*c);Gd(d);return d.q},ThinX:function(a,b,c){a=new J;K(a,0.1*b,0,h);a.lineTo(0.5*b,0.4*c);a.lineTo(0.9*b,0);a.lineTo(1*b,0.1*c);a.lineTo(0.6*b,0.5*c);a.lineTo(1*b,0.9*c);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.6*c);a.lineTo(0.1*b,1*c);a.lineTo(0,0.9*c);a.lineTo(0.4*b,0.5*c);a.lineTo(0,0.1*c);Gd(a);return a.q},RightTriangle:function(a,b,
c){a=new J;K(a,0,0,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);Gd(a);b=a.q;b.v=new H(0,0.5);b.w=new H(0.5,1);return b},RoundedIBeam:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(1*b,0);L(a,0.5*b,0.25*c,0.5*b,0.75*c,1*b,1*c);a.lineTo(0,1*c);L(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);Gd(a);return a.q},RoundedRectangle:function(a,b,c){var d=a?a.gc:0;0>=d&&(d=5);var d=Math.min(d,b/3),d=Math.min(d,c/3),a=d*ic,e=new J;K(e,d,0,h);e.lineTo(b-d,0);L(e,b-a,0,b,a,b,d);e.lineTo(b,c-d);L(e,b,c-a,b-a,c,b-d,c);e.lineTo(d,c);L(e,
a,c,0,c-a,0,c-d);e.lineTo(0,d);L(e,0,a,a,0,d,0);Gd(e);b=e.q;1<a?(b.v=new H(0,0,a,a),b.w=new H(1,1,-a,-a)):(b.v=Jb,b.w=Rb);return b},Border:function(a,b,c){a=a?a.gc:0;0>=a&&(a=5);var a=Math.min(a,b/3),a=Math.min(a,c/3),d=new J;K(d,a,0,h);d.lineTo(b-a,0);L(d,b-0,0,b,0,b,a);d.lineTo(b,c-a);L(d,b,c-0,b-0,c,b-a,c);d.lineTo(a,c);L(d,0,c,0,c-0,0,c-a);d.lineTo(0,a);L(d,0,0,0,0,a,0);Gd(d);b=d.q;b.v=Jb;b.w=Rb;return b},SquareIBeam:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.2);var d=new J;K(d,0,0,h);d.lineTo(1*
b,0);d.lineTo(1*b,a*c);d.lineTo((0.5+a/2)*b,a*c);d.lineTo((0.5+a/2)*b,(1-a)*c);d.lineTo(1*b,(1-a)*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);d.lineTo(0,(1-a)*c);d.lineTo((0.5-a/2)*b,(1-a)*c);d.lineTo((0.5-a/2)*b,a*c);d.lineTo(0,a*c);Gd(d);return d.q},Trapezoid:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.2);var d=new J;K(d,a*b,0,h);d.lineTo((1-a)*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);Gd(d);b=d.q;b.v=new H(a,0);b.w=new H(1-a,1);return b},ManualLoop:"ManualOperation",ManualOperation:function(a,b,c){var a=a?a.gc:
0,d=new J;K(d,a,0,h);d.lineTo(0,0);d.lineTo(1*b,0);d.lineTo(0.9*b,1*c);d.lineTo(0.1*b,1*c);Gd(d);b=d.q;b.v=new H(0.1,0);b.w=new H(0.9,1);return b},GenderMale:function(a,b,c){var a=new J,d=0.4*ic,e=0.4,g=new F(0,0),i=new F(0,0),j=new F(0,0),k=new F(0,0);K(a,(0.5-e)*b,0.5*c,h);L(a,(0.5-e)*b,(0.5-d)*c,(0.5-d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);rl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.44,j,k,i,g,g);L(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);var l=new F(i.x,i.y);rl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+
e,0.5,0.56,g,g,i,j,k);g=new F(i.x,i.y);a.lineTo((0.1*l.x+0.855)*b,0.1*l.y*c);a.lineTo(0.85*b,0.1*l.y*c);a.lineTo(0.85*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,0.15*c);a.lineTo((0.1*g.x+0.9)*b,(0.1*g.y+0.05*0.9)*c);a.lineTo(g.x*b,g.y*c);L(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);L(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);L(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);e=0.35;d=0.35*ic;K(a,0.5*b,(0.5-e)*c,h,h);L(a,(0.5-d)*b,(0.5-e)*c,(0.5-e)*
b,(0.5-d)*c,(0.5-e)*b,0.5*c);L(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);L(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);L(a,(0.5+e)*b,(0.5-d)*c,(0.5+d)*b,(0.5-e)*c,0.5*b,(0.5-e)*c);K(a,(0.5-e)*b,0.5*c,h);b=a.q;b.v=new H(0.202,0.257);b.w=new H(0.692,0.839);b.Zb=fh;return b},GenderFemale:function(a,b,c){var a=new J,d=0.375,e=0,g=-0.125,i=d*(4*(Math.SQRT2-1)/3);K(a,(0.525+e)*b,(0.5+d+g)*c,h);L(a,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+d+e)*b,(0.5+g)*c);L(a,
(0.5+d+e)*b,(0.5-i+g)*c,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5-i+e)*b,(0.5-d+g)*c,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-d+e)*b,(0.5+g)*c);L(a,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-i+e)*b,(0.5+d+g)*c,(0.475+e)*b,(0.5+d+g)*c);a.lineTo(0.475*b,0.85*c);a.lineTo(0.425*b,0.85*c);a.lineTo(0.425*b,0.9*c);a.lineTo(0.475*b,0.9*c);a.lineTo(0.475*b,1*c);a.lineTo(0.525*b,1*c);a.lineTo(0.525*b,0.9*c);a.lineTo(0.575*b,0.9*c);a.lineTo(0.575*b,0.85*c);a.lineTo(0.525*b,0.85*c);Gd(a);d=0.325;e=0;g=-0.125;i=d*(4*(Math.SQRT2-
1)/3);K(a,(0.5+d+e)*b,(0.5+g)*c,h,h);L(a,(0.5+d+e)*b,(0.5+i+g)*c,(0.5+i+e)*b,(0.5+d+g)*c,(0.5+e)*b,(0.5+d+g)*c);L(a,(0.5-i+e)*b,(0.5+d+g)*c,(0.5-d+e)*b,(0.5+i+g)*c,(0.5-d+e)*b,(0.5+g)*c);L(a,(0.5-d+e)*b,(0.5-i+g)*c,(0.5-i+e)*b,(0.5-d+g)*c,(0.5+e)*b,(0.5-d+g)*c);L(a,(0.5+i+e)*b,(0.5-d+g)*c,(0.5+d+e)*b,(0.5-i+g)*c,(0.5+d+e)*b,(0.5+g)*c);K(a,(0.525+e)*b,(0.5+d+g)*c,h);b=a.q;b.v=new H(0.232,0.136);b.w=new H(0.782,0.611);b.Zb=fh;return b},PlusLine:function(a,b,c){a=new J;K(a,0,0.5*c,q);a.lineTo(1*b,0.5*
c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.q},XLine:function(a,b,c){a=new J;K(a,0,1*c,q);a.lineTo(1*b,0);a.moveTo(0,0);a.lineTo(1*b,1*c);return a.q},AsteriskLine:function(a,b,c){var a=new J,d=0.2/Math.SQRT2;K(a,d*b,(1-d)*c,q);a.lineTo((1-d)*b,d*c);a.moveTo(d*b,d*c);a.lineTo((1-d)*b,(1-d)*c);a.moveTo(0*b,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0*c);a.lineTo(0.5*b,1*c);return a.q},CircleLine:function(a,b,c){var a=0.5*ic,d=new J;K(d,1*b,0.5*c,q);L(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);L(d,
(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);L(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);L(d,(0.5+a)*b,0,1*b,(0.5-a)*c,1*b,0.5*c);b=d.q;b.v=new H(0.146,0.146);b.w=new H(0.853,0.853);b.Zb=fh;return b},Pie:function(a,b,c){var a=new J,d=0.5*(4*(Math.SQRT2-1)/3);K(a,(0.5*Math.SQRT2/2+0.5)*b,(0.5-0.5*Math.SQRT2/2)*c,h);L(a,0.7*b,0*c,0.5*b,0*c,0.5*b,0*c);L(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);L(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.5*b,1*c);L(a,(0.5+d+0)*b,1*c,1*b,(0.5+d+0)*c,1*b,0.5*c);a.lineTo(0.5*b,0.5*c);Gd(a);
return a.q},PiePiece:function(a,b,c){var a=0.5*(ic/Math.SQRT2),d=Math.SQRT2/2,e=1-Math.SQRT2/2,g=new J;K(g,b,c,h);L(g,b,(1-a)*c,(d+a)*b,(e+a)*c,d*b,e*c);g.lineTo(0,c);Gd(g);return g.q},StopSign:function(a,b,c){var d=1/(Math.SQRT2+2),e=new J;K(e,d*b,0,h);e.lineTo((1-d)*b,0);e.lineTo(1*b,d*c);e.lineTo(1*b,(1-d)*c);e.lineTo((1-d)*b,1*c);e.lineTo(d*b,1*c);e.lineTo(0,(1-d)*c);e.lineTo(0,d*c);Gd(e);b=e.q;a&&Eb(a.v)&&(a.v=new H(d/2,d/2));a&&Eb(a.w)&&(a.w=new H(1-d/2,1-d/2));return b},LogicImplies:function(a,
b,c){a=a?a.gc:0;0===a&&(a=0.2);var d=new J;K(d,(1-a)*b,0*c,q);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);b=d.q;b.v=new H(0,0);b.w=new H(0.8,0.5);return b},LogicIff:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.2);var d=new J;K(d,(1-a)*b,0*c,q);d.lineTo(1*b,0.5*c);d.lineTo((1-a)*b,c);d.moveTo(0,0.5*c);d.lineTo(b,0.5*c);d.moveTo(a*b,0);d.lineTo(0,0.5*c);d.lineTo(a*b,c);b=d.q;b.v=new H(0.2,0);b.w=new H(0.8,0.5);return b},LogicNot:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(1*
b,0);a.lineTo(1*b,1*c);return a.q},LogicAnd:function(a,b,c){a=new J;K(a,0,1*c,q);a.lineTo(0.5*b,0);a.lineTo(1*b,1*c);b=a.q;b.v=new H(0.25,0.5);b.w=new H(0.75,1);return b},LogicOr:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);b=a.q;b.v=new H(0.219,0);b.w=new H(0.78,0.409);return b},LogicXor:function(a,b,c){a=new J;K(a,0.5*b,0,q);a.lineTo(0.5*b,1*c);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);var d=0.5*ic;L(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,
0.5*c);L(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);L(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);b=a.q;b.Zb=fh;return b},LogicTruth:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(1*b,0);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);return a.q},LogicFalsity:function(a,b,c){a=new J;K(a,0,1*c,q);a.lineTo(1*b,1*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0);return a.q},LogicThereExists:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(1*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);return a.q},
LogicForAll:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(0.5*b,1*c);a.lineTo(1*b,0);a.moveTo(0.25*b,0.5*c);a.lineTo(0.75*b,0.5*c);b=a.q;b.v=new H(0.25,0);b.w=new H(0.75,0.5);return b},LogicIsDefinedAs:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(b,0);a.moveTo(0,0.5*c);a.lineTo(b,0.5*c);a.moveTo(0,c);a.lineTo(b,c);b=a.q;b.v=new H(0.01,0.01);b.w=new H(0.99,0.49);return b},LogicIntersect:function(a,b,c){var a=0.5*ic,d=new J;K(d,0,1*c,q);d.lineTo(0,0.5*c);L(d,0,(0.5-a)*c,(0.5-a)*b,0,0.5*b,0);L(d,(0.5+a)*
b,0,1*b,(0.5-a)*c,1*b,0.5*c);d.lineTo(1*b,1*c);b=d.q;b.v=new H(0,0.5);b.w=new H(1,1);return b},LogicUnion:function(a,b,c){var a=0.5*ic,d=new J;K(d,1*b,0,q);d.lineTo(1*b,0.5*c);L(d,1*b,(0.5+a)*c,(0.5+a)*b,1*c,0.5*b,1*c);L(d,(0.5-a)*b,1*c,0,(0.5+a)*c,0,0.5*c);d.lineTo(0,0);b=d.q;b.v=new H(0,0);b.w=new H(1,0.5);return b},Arrow:function(a,b,c){var d=a?a.gc:0,a=a?a.ws:0;0===d&&(d=0.3);0===a&&(a=0.3);var e=new J;K(e,0,(0.5-a/2)*c,h);e.lineTo((1-d)*b,(0.5-a/2)*c);e.lineTo((1-d)*b,0);e.lineTo(1*b,0.5*c);
e.lineTo((1-d)*b,1*c);e.lineTo((1-d)*b,(0.5+a/2)*c);e.lineTo(0,(0.5+a/2)*c);Gd(e);b=e.q;b.v=new H(0,0.5-a/2);d=vl(0,0.5+a/2,1,0.5+a/2,1-d,1,1,0.5);b.w=new H(d.x,d.y);return b},ISOProcess:"Chevron",Chevron:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(0.5*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);Gd(a);return a.q},DoubleArrow:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(0.3*b,0.214*c);a.lineTo(0.3*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.3*b,1*c);a.lineTo(0.3*b,0.786*
c);a.lineTo(0,1*c);Gd(a);K(a,0.3*b,0.214*c,q);a.lineTo(0.3*b,0.786*c);Hd(a);return a.q},DoubleEndArrow:function(a,b,c){a=new J;K(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.3*b,0.7*c);a.lineTo(0.3*b,1*c);a.lineTo(0,0.5*c);a.lineTo(0.3*b,0);a.lineTo(0.3*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);Gd(a);b=a.q;c=vl(0,0.5,0.3,0,0,0.3,0.3,0.3);b.v=new H(c.x,c.y);c=vl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new H(c.x,c.y);return b},IBeamArrow:function(a,b,c){a=new J;K(a,1*b,0.5*c,h);
a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0.2*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.2*b,0);a.lineTo(0.2*b,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);Gd(a);b=a.q;b.v=new H(0,0.3);c=vl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new H(c.x,c.y);return b},Pointer:function(a,b,c){a=new J;K(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0);Gd(a);b=a.q;b.v=new H(0.2,0.35);c=vl(0.2,0.65,1,0.65,0,1,1,0.5);b.w=new H(c.x,c.y);return b},RoundedPointer:function(a,
b,c){a=new J;K(a,1*b,0.5*c,h);a.lineTo(0,1*c);L(a,0.5*b,0.75*c,0.5*b,0.25*c,0,0);Gd(a);b=a.q;b.v=new H(0.4,0.35);c=vl(0.2,0.65,1,0.65,0,1,1,0.5);b.w=new H(c.x,c.y);return b},SplitEndArrow:function(a,b,c){a=new J;K(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0.7*b,0.7*c);a.lineTo(0,0.7*c);a.lineTo(0.2*b,0.5*c);a.lineTo(0,0.3*c);a.lineTo(0.7*b,0.3*c);a.lineTo(0.7*b,0);Gd(a);b=a.q;b.v=new H(0.2,0.3);c=vl(0.7,1,1,0.5,0.7,0.7,1,0.7);b.w=new H(c.x,c.y);return b},MessageToUser:"SquareArrow",SquareArrow:function(a,
b,c){a=new J;K(a,1*b,0.5*c,h);a.lineTo(0.7*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.7*b,0);Gd(a);b=a.q;b.v=new H(0,0);b.w=new H(0.7,1);return b},Cone1:function(a,b,c){var a=0.5*ic,d=0.1*ic,e=new J;K(e,0,0.9*c,h);e.lineTo(0.5*b,0);e.lineTo(1*b,0.9*c);L(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);L(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);Gd(e);b=e.q;b.v=new H(0.25,0.5);b.w=new H(0.75,0.97);return b},Cone2:function(a,b,c){a=new J;K(a,0,0.9*c,h);L(a,(1-0.85/0.9)*b,1*c,0.85/0.9*b,1*c,1*b,0.9*c);a.lineTo(0.5*
b,0);a.lineTo(0,0.9*c);Gd(a);K(a,0,0.9*c,q);L(a,(1-0.85/0.9)*b,0.8*c,0.85/0.9*b,0.8*c,1*b,0.9*c);Hd(a);b=a.q;b.v=new H(0.25,0.5);b.w=new H(0.75,0.82);return b},Cube1:function(a,b,c){a=new J;K(a,0.5*b,1*c,h);a.lineTo(1*b,0.85*c);a.lineTo(1*b,0.15*c);a.lineTo(0.5*b,0*c);a.lineTo(0*b,0.15*c);a.lineTo(0*b,0.85*c);Gd(a);K(a,0.5*b,1*c,q);a.lineTo(0.5*b,0.3*c);a.lineTo(0,0.15*c);a.moveTo(0.5*b,0.3*c);a.lineTo(1*b,0.15*c);Hd(a);b=a.q;b.v=new H(0,0.3);b.w=new H(0.5,0.85);return b},Cube2:function(a,b,c){a=
new J;K(a,0,0.3*c,h);a.lineTo(0*b,1*c);a.lineTo(0.7*b,c);a.lineTo(1*b,0.7*c);a.lineTo(1*b,0*c);a.lineTo(0.3*b,0*c);Gd(a);K(a,0,0.3*c,q);a.lineTo(0.7*b,0.3*c);a.lineTo(1*b,0*c);a.moveTo(0.7*b,0.3*c);a.lineTo(0.7*b,1*c);Hd(a);b=a.q;b.v=new H(0,0.3);b.w=new H(0.7,1);return b},MagneticData:"Cylinder1",Cylinder1:function(a,b,c){var a=0.5*ic,d=0.1*ic,e=new J;K(e,0,0.1*c,h);L(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);L(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(b,0.9*c);L(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*
b,1*c);L(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);e.lineTo(0,0.1*c);K(e,0,0.1*c,q);L(e,0,(0.1+d)*c,(0.5-a)*b,0.2*c,0.5*b,0.2*c);L(e,(0.5+a)*b,0.2*c,1*b,(0.1+d)*c,1*b,0.1*c);Hd(e);b=e.q;b.v=new H(0,0.2);b.w=new H(1,0.9);return b},Cylinder2:function(a,b,c){var a=0.5*ic,d=0.1*ic,e=new J;K(e,0,0.9*c,h);e.lineTo(0,0.1*c);L(e,0,(0.1-d)*c,(0.5-a)*b,0,0.5*b,0);L(e,(0.5+a)*b,0,1*b,(0.1-d)*c,1*b,0.1*c);e.lineTo(1*b,0.9*c);L(e,1*b,(0.9+d)*c,(0.5+a)*b,1*c,0.5*b,1*c);L(e,(0.5-a)*b,1*c,0,(0.9+d)*c,0,0.9*c);K(e,0,0.9*
c,q);L(e,0,(0.9-d)*c,(0.5-a)*b,0.8*c,0.5*b,0.8*c);L(e,(0.5+a)*b,0.8*c,1*b,(0.9-d)*c,1*b,0.9*c);Hd(e);b=e.q;b.v=new H(0,0.1);b.w=new H(1,0.8);return b},Cylinder3:function(a,b,c){var a=0.1*ic,d=0.5*ic,e=new J;K(e,0.1*b,0,h);e.lineTo(0.9*b,0);L(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);L(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);L(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);L(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);K(e,0.1*b,0,q);L(e,(0.1+a)*b,0,0.2*b,(0.5-d)*c,0.2*b,0.5*c);L(e,0.2*b,(0.5+d)*c,(0.1+
a)*b,1*c,0.1*b,1*c);Hd(e);b=e.q;b.v=new H(0.2,0);b.w=new H(0.9,1);return b},DirectData:"Cylinder4",Cylinder4:function(a,b,c){var a=0.1*ic,d=0.5*ic,e=new J;K(e,0.9*b,0,h);L(e,(0.9+a)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);L(e,1*b,(0.5+d)*c,(0.9+a)*b,1*c,0.9*b,1*c);e.lineTo(0.1*b,1*c);L(e,(0.1-a)*b,1*c,0,(0.5+d)*c,0,0.5*c);L(e,0,(0.5-d)*c,(0.1-a)*b,0,0.1*b,0);e.lineTo(0.9*b,0);K(e,0.9*b,0,q);L(e,(0.9-a)*b,0,0.8*b,(0.5-d)*c,0.8*b,0.5*c);L(e,0.8*b,(0.5+d)*c,(0.9-a)*b,1*c,0.9*b,1*c);Hd(e);b=e.q;b.v=new H(0.1,0);
b.w=new H(0.8,1);return b},Prism1:function(a,b,c){a=new J;K(a,0.25*b,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(b,0.5*c);a.lineTo(0.5*b,c);a.lineTo(0,c);Gd(a);K(a,0.25*b,0.25*c,q);a.lineTo(0.5*b,c);Hd(a);b=a.q;b.v=new H(0.408,0.172);b.w=new H(0.833,0.662);return b},Prism2:function(a,b,c){a=new J;K(a,0,0.25*c,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);Gd(a);K(a,0,c,q);a.lineTo(0.25*b,0.5*c);a.lineTo(b,0.25*c);a.moveTo(0,0.25*c);a.lineTo(0.25*b,0.5*c);Hd(a);b=a.q;
b.v=new H(0.25,0.5);b.w=new H(0.75,0.75);return b},Pyramid1:function(a,b,c){a=new J;K(a,0.5*b,0,h);a.lineTo(b,0.75*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.75*c);Gd(a);K(a,0.5*b,0,q);a.lineTo(0.5*b,1*c);Hd(a);b=a.q;b.v=new H(0.25,0.367);b.w=new H(0.75,0.875);return b},Pyramid2:function(a,b,c){a=new J;K(a,0.5*b,0,h);a.lineTo(b,0.85*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.85*c);Gd(a);K(a,0.5*b,0,q);a.lineTo(0.5*b,0.7*c);a.lineTo(0,0.85*c);a.moveTo(0.5*b,0.7*c);a.lineTo(1*b,0.85*c);Hd(a);b=a.q;b.v=new H(0.25,
0.367);b.w=new H(0.75,0.875);return b},Actor:function(a,b,c){var d=0.2*ic,e=0.1*ic,a=0.5,g=0.1,i=new J;K(i,a*b,(g+0.1)*c,h);L(i,(a-d)*b,(g+0.1)*c,(a-0.2)*b,(g+e)*c,(a-0.2)*b,g*c);L(i,(a-0.2)*b,(g-e)*c,(a-d)*b,(g-0.1)*c,a*b,(g-0.1)*c);L(i,(a+d)*b,(g-0.1)*c,(a+0.2)*b,(g-e)*c,(a+0.2)*b,g*c);L(i,(a+0.2)*b,(g+e)*c,(a+d)*b,(g+0.1)*c,a*b,(g+0.1)*c);d=0.05;e=ic*d;K(i,0.5*b,0.2*c,h);i.lineTo(0.95*b,0.2*c);a=0.95;g=0.25;L(i,(a+e)*b,(g-d)*c,(a+d)*b,(g-e)*c,(a+d)*b,g*c);i.lineTo(1*b,0.6*c);i.lineTo(0.85*b,0.6*
c);i.lineTo(0.85*b,0.35*c);d=0.025;e=ic*d;a=0.825;g=0.35;L(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);L(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.8*b,1*c);i.lineTo(0.55*b,1*c);i.lineTo(0.55*b,0.7*c);d=0.05;e=ic*d;a=0.5;g=0.7;L(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);L(i,(a-e)*b,(g-d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.45*b,1*c);i.lineTo(0.2*b,1*c);i.lineTo(0.2*b,0.35*c);d=0.025;e=ic*d;a=0.175;g=0.35;L(i,(a+d)*b,(g-e)*c,(a+e)*b,(g-d)*c,a*b,(g-d)*c);L(i,(a-e)*b,(g-
d)*c,(a-d)*b,(g-e)*c,(a-d)*b,g*c);i.lineTo(0.15*b,0.6*c);i.lineTo(0*b,0.6*c);i.lineTo(0*b,0.25*c);d=0.05;e=ic*d;a=0.05;g=0.25;L(i,(a-d)*b,(g-e)*c,(a-e)*b,(g-d)*c,a*b,(g-d)*c);i.lineTo(0.5*b,0.2*c);b=i.q;b.v=new H(0.2,0.2);b.w=new H(0.8,0.65);return b},Card:function(a,b,c){a=new J;K(a,1*b,0*c,h);a.lineTo(1*b,1*c);a.lineTo(0*b,1*c);a.lineTo(0*b,0.2*c);a.lineTo(0.2*b,0*c);Gd(a);b=a.q;b.v=new H(0,0.2);b.w=new H(1,1);return b},Collate:function(a,b,c){a=new J;K(a,0.5*b,0.5*c,h);a.lineTo(0,0);a.lineTo(1*
b,0);a.lineTo(0.5*b,0.5*c);K(a,0.5*b,0.5*c,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0.5*b,0.5*c);b=a.q;b.v=new H(0.25,0);b.w=new H(0.75,0.25);return b},CreateRequest:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.1);var d=new J;K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);Gd(d);K(d,0,a*c,q);d.lineTo(1*b,a*c);d.moveTo(0,(1-a)*c);d.lineTo(1*b,(1-a)*c);Hd(d);b=d.q;b.v=new H(0,a);b.w=new H(1,1-a);return b},Database:function(a,b,c){var a=new J,d=0.5*ic,e=0.1*ic;K(a,1*b,0.1*c,h);a.lineTo(1*
b,0.9*c);L(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);L(a,0,(0.1-e)*c,(0.5-d)*b,0,0.5*b,0);L(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);K(a,1*b,0.1*c,q);L(a,1*b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);L(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);L(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);L(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);a.moveTo(1*b,0.3*c);L(a,1*b,(0.3+e)*c,(0.5+d)*b,0.4*c,0.5*b,0.4*c);L(a,(0.5-d)*b,0.4*c,0,(0.3+e)*c,0,
0.3*c);Hd(a);b=a.q;b.v=new H(0,0.4);b.w=new H(1,0.9);return b},StoredData:"DataStorage",DataStorage:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(0.75*b,0);L(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0,1*c);L(a,0.25*b,0.9*c,0.25*b,0.1*c,0,0);Gd(a);b=a.q;b.v=new H(0.226,0);b.w=new H(0.81,1);return b},DiskStorage:function(a,b,c){var a=new J,d=0.5*ic,e=0.1*ic;K(a,1*b,0.1*c,h);a.lineTo(1*b,0.9*c);L(a,1*b,(0.9+e)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0,(0.9+e)*c,0,0.9*c);a.lineTo(0,0.1*c);L(a,0,(0.1-e)*
c,(0.5-d)*b,0,0.5*b,0);L(a,(0.5+d)*b,0,1*b,(0.1-e)*c,1*b,0.1*c);K(a,1*b,0.1*c,q);L(a,1*b,(0.1+e)*c,(0.5+d)*b,0.2*c,0.5*b,0.2*c);L(a,(0.5-d)*b,0.2*c,0,(0.1+e)*c,0,0.1*c);a.moveTo(1*b,0.2*c);L(a,1*b,(0.2+e)*c,(0.5+d)*b,0.3*c,0.5*b,0.3*c);L(a,(0.5-d)*b,0.3*c,0,(0.2+e)*c,0,0.2*c);Hd(a);b=a.q;b.v=new H(0,0.3);b.w=new H(1,0.9);return b},Display:function(a,b,c){a=new J;K(a,0.25*b,0,h);a.lineTo(0.75*b,0);L(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);a.lineTo(0,0.5*c);Gd(a);b=a.q;b.v=new H(0.25,0);b.w=
new H(0.75,1);return b},DividedEvent:function(a,b,c){a=a?a.gc:0;0===a?a=0.2:0.15>a&&(a=0.15);var d=new J,e=0.2*ic;K(d,0,0.2*c,h);L(d,0,(0.2-e)*c,(0.2-e)*b,0,0.2*b,0);d.lineTo(0.8*b,0);L(d,(0.8+e)*b,0,1*b,(0.2-e)*c,1*b,0.2*c);d.lineTo(1*b,0.8*c);L(d,1*b,(0.8+e)*c,(0.8+e)*b,1*c,0.8*b,1*c);d.lineTo(0.2*b,1*c);L(d,(0.2-e)*b,1*c,0,(0.8+e)*c,0,0.8*c);d.lineTo(0,0.2*c);K(d,0,a*c,q);d.lineTo(1*b,a*c);Hd(d);b=d.q;b.v=new H(0,a);b.w=new H(1,1-a);return b},DividedProcess:function(a,b,c){a=a?a.gc:0;0.1>a&&(a=
0.1);var d=new J;K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);Gd(d);K(d,0,a*c,q);d.lineTo(1*b,a*c);Hd(d);b=d.q;b.v=new H(0,a);b.w=new H(1,1);return b},Document:function(a,b,c){c/=0.8;a=new J;K(a,0,0.7*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);L(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);Gd(a);b=a.q;b.v=new H(0,0);b.w=new H(1,0.6);return b},ExternalOrganization:function(a,b,c){a=a?a.gc:0;0.2>a&&(a=0.2);var d=new J;K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);Gd(d);
K(d,a*b,0,q);d.lineTo(0,a*c);d.moveTo(1*b,a*c);d.lineTo((1-a)*b,0);d.moveTo(0,(1-a)*c);d.lineTo(a*b,1*c);d.moveTo((1-a)*b,1*c);d.lineTo(1*b,(1-a)*c);Hd(d);b=d.q;b.v=new H(a/2,a/2);b.w=new H(1-a/2,1-a/2);return b},ExternalProcess:function(a,b,c){a=new J;K(a,0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);Gd(a);K(a,0.1*b,0.4*c,q);a.lineTo(0.1*b,0.6*c);a.moveTo(0.9*b,0.6*c);a.lineTo(0.9*b,0.4*c);a.moveTo(0.6*b,0.1*c);a.lineTo(0.4*b,0.1*c);a.moveTo(0.4*b,0.9*c);a.lineTo(0.6*b,0.9*
c);Hd(a);b=a.q;b.v=new H(0.25,0.25);b.w=new H(0.75,0.75);return b},File:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);a.lineTo(0,1*c);Gd(a);K(a,0.75*b,0,q);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.25*c);Hd(a);b=a.q;b.v=new H(0,0.25);b.w=new H(1,1);return b},Interrupt:function(a,b,c){a=new J;K(a,1*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(1*b,0.5*c);K(a,1*b,0.5*c,q);a.lineTo(1*b,1*c);K(a,1*b,0.5*c,q);a.lineTo(1*b,0);b=a.q;b.v=new H(0,0.25);b.w=new H(0.5,
0.75);return b},InternalStorage:function(a,b,c){var d=a?a.gc:0,a=a?a.ws:0;0===d&&(d=0.1);0===a&&(a=0.1);var e=new J;K(e,0,0,h);e.lineTo(1*b,0);e.lineTo(1*b,1*c);e.lineTo(0,1*c);Gd(e);K(e,d*b,0,q);e.lineTo(d*b,1*c);e.moveTo(0,a*c);e.lineTo(1*b,a*c);Hd(e);b=e.q;b.v=new H(d,a);b.w=new H(1,1);return b},Junction:function(a,b,c){var a=new J,d=1/Math.SQRT2,e=(1-1/Math.SQRT2)/2,g=0.5*ic;K(a,1*b,0.5*c,h);L(a,1*b,(0.5+g)*c,(0.5+g)*b,1*c,0.5*b,1*c);L(a,(0.5-g)*b,1*c,0,(0.5+g)*c,0,0.5*c);L(a,0,(0.5-g)*c,(0.5-
g)*b,0,0.5*b,0);L(a,(0.5+g)*b,0,1*b,(0.5-g)*c,1*b,0.5*c);K(a,(e+d)*b,(e+d)*c,q);a.lineTo(e*b,e*c);a.moveTo(e*b,(e+d)*c);a.lineTo((e+d)*b,e*c);Hd(a);b=a.q;b.Zb=fh;return b},LinedDocument:function(a,b,c){c/=0.8;a=new J;K(a,0,0.7*c,h);a.lineTo(0,0);a.lineTo(1*b,0);a.lineTo(1*b,0.7*c);L(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);Gd(a);K(a,0.1*b,0,q);a.lineTo(0.1*b,0.75*c);Hd(a);b=a.q;b.v=new H(0.1,0);b.w=new H(1,0.6);return b},LoopLimit:function(a,b,c){a=new J;K(a,0,1*c,h);a.lineTo(0,0.25*c);a.lineTo(0.25*b,0);
a.lineTo(0.75*b,0);a.lineTo(1*b,0.25*c);a.lineTo(1*b,1*c);Gd(a);b=a.q;b.v=new H(0,0.25);b.w=new H(1,1);return b},SequentialData:"MagneticTape",MagneticTape:function(a,b,c){var a=new J,d=0.5*ic;K(a,0.5*b,1*c,h);L(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);L(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);L(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);L(a,1*b,(0.5+d)*c,(0.5+d)*b,0.9*c,0.6*b,0.9*c);a.lineTo(1*b,0.9*c);a.lineTo(1*b,1*c);a.lineTo(0.5*b,1*c);b=a.q;b.v=new H(0.15,0.15);b.w=new H(0.85,0.8);return b},ManualInput:function(a,
b,c){a=new J;K(a,1*b,0,h);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.25*c);Gd(a);b=a.q;b.v=new H(0,0.25);b.w=new H(1,1);return b},MessageFromUser:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.7);var d=new J;K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(a*b,0.5*c);d.lineTo(1*b,1*c);d.lineTo(0,1*c);Gd(d);b=d.q;b.v=new H(0,0);b.w=new H(a,1);return b},MicroformProcessing:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.25);var d=new J;K(d,0,0,h);d.lineTo(0.5*b,a*c);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.5*b,(1-a)*c);
d.lineTo(0,1*c);Gd(d);b=d.q;b.v=new H(0,a);b.w=new H(1,1-a);return b},MicroformRecording:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(0.75*b,0.25*c);a.lineTo(1*b,0.15*c);a.lineTo(1*b,0.85*c);a.lineTo(0.75*b,0.75*c);a.lineTo(0,1*c);Gd(a);b=a.q;b.v=new H(0,0.25);b.w=new H(1,0.75);return b},MultiDocument:function(a,b,c){c/=0.8;a=new J;K(a,b,0,h);a.lineTo(b,0.5*c);L(a,0.96*b,0.47*c,0.93*b,0.45*c,0.9*b,0.44*c);a.lineTo(0.9*b,0.6*c);L(a,0.86*b,0.57*c,0.83*b,0.55*c,0.8*b,0.54*c);a.lineTo(0.8*b,0.7*c);L(a,
0.4*b,0.4*c,0.4*b,1*c,0,0.7*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);a.lineTo(0.1*b,0.1*c);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);Gd(a);K(a,0.1*b,0.2*c,q);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.54*c);a.moveTo(0.2*b,0.1*c);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.44*c);Hd(a);b=a.q;b.v=new H(0,0.25);b.w=new H(0.8,0.77);return b},MultiProcess:function(a,b,c){a=new J;K(a,0.1*b,0.1*c,h);a.lineTo(0.2*b,0.1*c);a.lineTo(0.2*b,0);a.lineTo(1*b,0);a.lineTo(1*b,0.8*c);a.lineTo(0.9*b,0.8*c);a.lineTo(0.9*b,0.9*
c);a.lineTo(0.8*b,0.9*c);a.lineTo(0.8*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.2*c);a.lineTo(0.1*b,0.2*c);Gd(a);K(a,0.2*b,0.1*c,q);a.lineTo(0.9*b,0.1*c);a.lineTo(0.9*b,0.8*c);a.moveTo(0.1*b,0.2*c);a.lineTo(0.8*b,0.2*c);a.lineTo(0.8*b,0.9*c);Hd(a);b=a.q;b.v=new H(0,0.2);b.w=new H(0.8,1);return b},OfflineStorage:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.1);var d=1-a,e=new J;K(e,0,0,h);e.lineTo(1*b,0);e.lineTo(0.5*b,1*c);Gd(e);K(e,0.5*a*b,a*c,q);e.lineTo((1-0.5*a)*b,a*c);Hd(e);b=e.q;b.v=new H(d/4+0.5*a,a);b.w=
new H(3*d/4+0.5*a,a+0.5*d);return b},OffPageConnector:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(0.75*b,0);a.lineTo(1*b,0.5*c);a.lineTo(0.75*b,1*c);a.lineTo(0,1*c);Gd(a);b=a.q;b.v=new H(0,0);b.w=new H(0.75,1);return b},Or:function(a,b,c){var a=new J,d=0.5*ic;K(a,1*b,0.5*c,h);L(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);L(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);L(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);K(a,1*b,0.5*c,q);a.lineTo(0,0.5*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*
b,0);Hd(a);b=a.q;b.Zb=fh;return b},PaperTape:function(a,b,c){c/=0.8;a=new J;K(a,0,0.7*c,h);a.lineTo(0,0.3*c);L(a,0.5*b,0.6*c,0.5*b,0,1*b,0.3);a.lineTo(1*b,0.7*c);L(a,0.5*b,0.4*c,0.5*b,1*c,0,0.7*c);Gd(a);b=a.q;b.v=new H(0,0.49);b.w=new H(1,0.75);return b},PrimitiveFromCall:function(a,b,c){var d=a?a.gc:0,a=a?a.ws:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new J;K(e,0,0,h);e.lineTo(1*b,0);e.lineTo((1-a)*b,0.5*c);e.lineTo(1*b,1*c);e.lineTo(0,1*c);Gd(e);b=e.q;b.v=new H(d,0);b.w=new H(1-a,1);return b},PrimitiveToCall:function(a,
b,c){var d=a?a.gc:0,a=a?a.ws:0;0===d&&(d=0.1);0===a&&(a=0.3);var e=new J;K(e,0,0,h);e.lineTo((1-a)*b,0);e.lineTo(1*b,0.5*c);e.lineTo((1-a)*b,1*c);e.lineTo(0,1*c);Gd(e);b=e.q;b.v=new H(d,0);b.w=new H(1-a,1);return b},Subroutine:"Procedure",Procedure:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.1);var d=new J;K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);Gd(d);K(d,(1-a)*b,0,q);d.lineTo((1-a)*b,1*c);d.moveTo(a*b,0);d.lineTo(a*b,1*c);Hd(d);b=d.q;b.v=new H(a,0);b.w=new H(1-a,1);return b},Process:function(a,
b,c){a=a?a.gc:0;0===a&&(a=0.1);var d=new J;K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0,1*c);Gd(d);K(d,a*b,0,q);d.lineTo(a*b,1*c);Hd(d);b=d.q;b.v=new H(a,0);b.w=new H(1,1);return b},Sort:function(a,b,c){a=new J;K(a,0.5*b,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0.5*b,1*c);a.lineTo(0,0.5*c);Gd(a);K(a,0,0.5*c,q);a.lineTo(1*b,0.5*c);Hd(a);b=a.q;b.v=new H(0.25,0.25);b.w=new H(0.75,0.5);return b},Start:function(a,b,c){a=new J;K(a,0.25*b,0,h);a.lineTo(0.75*b,0);L(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*
b,1*c);L(a,0,1*c,0,0,0.25*b,0);K(a,0.25*b,0,q);a.lineTo(0.25*b,1*c);a.moveTo(0.75*b,0);a.lineTo(0.75*b,1*c);Hd(a);b=a.q;b.v=new H(0.25,0);b.w=new H(0.75,1);return b},Terminator:function(a,b,c){a=new J;K(a,0.25*b,0,h);a.lineTo(0.75*b,0);L(a,1*b,0,1*b,1*c,0.75*b,1*c);a.lineTo(0.25*b,1*c);L(a,0,1*c,0,0,0.25*b,0);b=a.q;b.v=new H(0.23,0);b.w=new H(0.77,1);return b},TransmittalTape:function(a,b,c){a=a?a.gc:0;0===a&&(a=0.1);var d=new J;K(d,0,0,h);d.lineTo(1*b,0);d.lineTo(1*b,1*c);d.lineTo(0.75*b,(1-a)*c);
d.lineTo(0,(1-a)*c);Gd(d);b=d.q;b.v=new H(0,0);b.w=new H(1,1-a);return b},AndGate:function(a,b,c){var a=new J,d=0.5*ic;K(a,0,0,h);a.lineTo(0.5*b,0);L(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);L(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);a.lineTo(0,1*c);Gd(a);b=a.q;b.v=new H(0,0);b.w=new H(0.55,1);return b},Buffer:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);Gd(a);b=a.q;b.v=new H(0,0.25);b.w=new H(0.5,0.75);return b},Clock:function(a,b,c){var a=new J,d=0.5*ic;K(a,1*b,0.5*c,h);
L(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);L(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);L(a,(0.5+d)*b,0,1*b,(0.5-d)*c,1*b,0.5*c);K(a,1*b,0.5*c,q);a.lineTo(1*b,0.5*c);K(a,0.8*b,0.75*c,q);a.lineTo(0.8*b,0.25*c);a.lineTo(0.6*b,0.25*c);a.lineTo(0.6*b,0.75*c);a.lineTo(0.4*b,0.75*c);a.lineTo(0.4*b,0.25*c);a.lineTo(0.2*b,0.25*c);a.lineTo(0.2*b,0.75*c);Hd(a);b=a.q;b.Zb=fh;return b},Ground:function(a,b,c){a=new J;K(a,0.5*b,0,q);a.lineTo(0.5*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*
b,0.6*c);a.moveTo(0.3*b,0.8*c);a.lineTo(0.7*b,0.8*c);a.moveTo(0.4*b,1*c);a.lineTo(0.6*b,1*c);return a.q},Inverter:function(a,b,c){var a=new J,d=0.1*ic;K(a,0.8*b,0.5*c,h);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.8*b,0.5*c);K(a,1*b,0.5*c,h);L(a,1*b,(0.5+d)*c,(0.9+d)*b,0.6*c,0.9*b,0.6*c);L(a,(0.9-d)*b,0.6*c,0.8*b,(0.5+d)*c,0.8*b,0.5*c);L(a,0.8*b,(0.5-d)*c,(0.9-d)*b,0.4*c,0.9*b,0.4*c);L(a,(0.9+d)*b,0.4*c,1*b,(0.5-d)*c,1*b,0.5*c);b=a.q;b.v=new H(0,0.25);b.w=new H(0.4,0.75);return b},NandGate:function(a,
b,c){var a=new J,d=0.5*ic,e=0.4*ic,g=0.1*ic;K(a,0.8*b,0.5*c,h);L(a,0.8*b,(0.5+e)*c,(0.4+d)*b,1*c,0.4*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);a.lineTo(0.4*b,0);L(a,(0.4+d)*b,0,0.8*b,(0.5-e)*c,0.8*b,0.5*c);K(a,1*b,0.5*c,h);L(a,1*b,(0.5+g)*c,(0.9+g)*b,0.6*c,0.9*b,0.6*c);L(a,(0.9-g)*b,0.6*c,0.8*b,(0.5+g)*c,0.8*b,0.5*c);L(a,0.8*b,(0.5-g)*c,(0.9-g)*b,0.4*c,0.9*b,0.4*c);L(a,(0.9+g)*b,0.4*c,1*b,(0.5-g)*c,1*b,0.5*c);b=a.q;b.v=new H(0,0.05);b.w=new H(0.55,0.95);return b},NorGate:function(a,b,c){var a=new J,d=
0.5,e=ic*d,g=0,i=0.5;K(a,0.8*b,0.5*c,h);L(a,0.7*b,(i+e)*c,(g+e)*b,(i+d)*c,0,1*c);L(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);L(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*ic;g=0.9;i=0.5;K(a,(g-d)*b,i*c,h);L(a,(g-d)*b,(i-e)*c,(g-e)*b,(i-d)*c,g*b,(i-d)*c);L(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);L(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);L(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.q;b.v=new H(0.2,0.25);b.w=new H(0.6,0.75);return b},OrGate:function(a,b,c){var a=new J,d=0.5*
ic;K(a,0,0,h);L(a,(0+d+d)*b,0*c,0.8*b,(0.5-d)*c,1*b,0.5*c);L(a,0.8*b,(0.5+d)*c,(0+d+d)*b,1*c,0,1*c);L(a,0.25*b,0.75*c,0.25*b,0.25*c,0,0);Gd(a);b=a.q;b.v=new H(0.2,0.25);b.w=new H(0.75,0.75);return b},XnorGate:function(a,b,c){var a=new J,d=0.5,e=ic*d,g=0.2,i=0.5;K(a,0.1*b,0,q);L(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);K(a,0.8*b,0.5*c,h);L(a,0.7*b,(i+e)*c,(g+e)*b,(i+d)*c,0.2*b,1*c);L(a,0.45*b,0.75*c,0.45*b,0.25*c,0.2*b,0);L(a,(g+e)*b,(i-d)*c,0.7*b,(i-e)*c,0.8*b,0.5*c);d=0.1;e=0.1*ic;g=0.9;i=0.5;K(a,
(g-d)*b,i*c,h);L(a,(g-d)*b,(i-e)*c,(g-e)*b,(i-d)*c,g*b,(i-d)*c);L(a,(g+e)*b,(i-d)*c,(g+d)*b,(i-e)*c,(g+d)*b,i*c);L(a,(g+d)*b,(i+e)*c,(g+e)*b,(i+d)*c,g*b,(i+d)*c);L(a,(g-e)*b,(i+d)*c,(g-d)*b,(i+e)*c,(g-d)*b,i*c);b=a.q;b.v=new H(0.4,0.25);b.w=new H(0.65,0.75);return b},XorGate:function(a,b,c){var a=new J,d=0.5*ic;K(a,0.1*b,0,q);L(a,0.35*b,0.25*c,0.35*b,0.75*c,0.1*b,1*c);K(a,0.2*b,0,h);L(a,(0.2+d)*b,0*c,0.9*b,(0.5-d)*c,1*b,0.5*c);L(a,0.9*b,(0.5+d)*c,(0.2+d)*b,1*c,0.2*b,1*c);L(a,0.45*b,0.75*c,0.45*b,
0.25*c,0.2*b,0);Gd(a);b=a.q;b.v=new H(0.4,0.25);b.w=new H(0.8,0.75);return b},Capacitor:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(0,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},Resistor:function(a,b,c){a=new J;K(a,0,0.5*c,q);a.lineTo(0.1*b,0);a.lineTo(0.2*b,1*c);a.lineTo(0.3*b,0);a.lineTo(0.4*b,1*c);a.lineTo(0.5*b,0);a.lineTo(0.6*b,1*c);a.lineTo(0.7*b,0.5*c);return a.q},Inductor:function(a,b,c){var a=new J,d=0.1*ic,e=0.1,g=0.5;K(a,(e-0.5*d)*b,(g+0.1)*c,q);L(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+
d)*c,(e+0.1)*b,(g+d)*c);e=0.3;g=0.5;L(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);L(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);g=e=0.5;L(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);L(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.7;g=0.5;L(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,e*b,(g+0.1)*c);L(a,(e-d)*b,(g+0.1)*c,(e-0.1)*b,(g+d)*c,(e+0.1)*b,(g+d)*c);e=0.9;g=0.5;L(a,(e+0.1)*b,(g+d)*c,(e+d)*b,(g+0.1)*c,(e+0.5*d)*b,(g+0.1)*c);return a.q},ACvoltageSource:function(a,
b,c){var a=new J,d=0.5*ic;K(a,0*b,0.5*c,q);L(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);L(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);L(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);a.moveTo(0.1*b,0.5*c);L(a,0.5*b,0*c,0.5*b,1*c,0.9*b,0.5*c);b=a.q;b.Zb=fh;return b},DCvoltageSource:function(a,b,c){a=new J;K(a,0,0.75*c,q);a.lineTo(0,0.25*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},Diode:function(a,b,c){a=new J;K(a,1*b,0,q);a.lineTo(1*b,0.5*c);a.lineTo(0,1*c);a.lineTo(0,
0);a.lineTo(1*b,0.5*c);a.lineTo(1*b,1*c);b=a.q;b.v=new H(0,0.25);b.w=new H(0.5,0.75);return b},Wifi:function(a,b,c){var d=b,e=c,b=0.38*b,c=0.6*c,a=new J,g=0.8*ic,i=0.8,j=0,k=0.5,d=(d-b)/2,e=(e-c)/2;K(a,j*b+d,(k+i)*c+e,h);L(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);L(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);L(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);L(a,(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);Gd(a);g=0.4*ic;i=0.4;j=0.2;
k=0.5;K(a,j*b+d,(k+i)*c+e,h);L(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);L(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);L(a,j*b+d,(k-i)*c+e,(j-i+0.5*g)*b+d,(k-g)*c+e,(j-i+0.5*g)*b+d,k*c+e);L(a,(j-i+0.5*g)*b+d,(k+g)*c+e,j*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);Gd(a);g=0.2*ic;i=0.2;k=j=0.5;K(a,(j-i)*b+d,k*c+e,h);L(a,(j-i)*b+d,(k-g)*c+e,(j-g)*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);L(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);L(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,
j*b+d,(k+i)*c+e);L(a,(j-g)*b+d,(k+i)*c+e,(j-i)*b+d,(k+g)*c+e,(j-i)*b+d,k*c+e);g=0.4*ic;i=0.4;j=0.8;k=0.5;K(a,j*b+d,(k-i)*c+e,h);L(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);L(a,(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);L(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);L(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);Gd(a);g=0.8*ic;i=0.8;j=1;k=0.5;K(a,j*b+d,(k-i)*c+e,h);L(a,(j+g)*b+d,(k-i)*c+e,(j+i)*b+d,(k-g)*c+e,(j+i)*b+d,k*c+e);L(a,
(j+i)*b+d,(k+g)*c+e,(j+g)*b+d,(k+i)*c+e,j*b+d,(k+i)*c+e);L(a,j*b+d,(k+i)*c+e,(j+i-0.5*g)*b+d,(k+g)*c+e,(j+i-0.5*g)*b+d,k*c+e);L(a,(j+i-0.5*g)*b+d,(k-g)*c+e,j*b+d,(k-i)*c+e,j*b+d,(k-i)*c+e);Gd(a);return a.q},Email:function(a,b,c){a=new J;K(a,0,0,h);a.lineTo(1*b,0);a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0);Gd(a);K(a,0,0,q);a.lineTo(0.5*b,0.6*c);a.lineTo(1*b,0);a.moveTo(0,1*c);a.lineTo(0.45*b,0.54*c);a.moveTo(1*b,1*c);a.lineTo(0.55*b,0.54*c);Hd(a);return a.q},Ethernet:function(a,b,c){a=new J;K(a,
0.35*b,0,h);a.lineTo(0.65*b,0);a.lineTo(0.65*b,0.4*c);a.lineTo(0.35*b,0.4*c);a.lineTo(0.35*b,0);Gd(a);K(a,0.1*b,1*c,h,h);a.lineTo(0.4*b,1*c);a.lineTo(0.4*b,0.6*c);a.lineTo(0.1*b,0.6*c);a.lineTo(0.1*b,1*c);Gd(a);K(a,0.6*b,1*c,h,h);a.lineTo(0.9*b,1*c);a.lineTo(0.9*b,0.6*c);a.lineTo(0.6*b,0.6*c);a.lineTo(0.6*b,1*c);Gd(a);K(a,0,0.5*c,q);a.lineTo(1*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.5*b,0.4*c);a.moveTo(0.75*b,0.5*c);a.lineTo(0.75*b,0.6*c);a.moveTo(0.25*b,0.5*c);a.lineTo(0.25*b,0.6*c);Hd(a);return a.q},
Power:function(a,b,c){var a=new J,d=0.4*ic,e=0.4,g=new F(0,0),i=new F(0,0),j=new F(0,0),k=new F(0,0);new F(0,0);rl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);new F(i.x,i.y);K(a,i.x*b,i.y*c,h);L(a,j.x*b,j.y*c,k.x*b,k.y*c,(0.5+e)*b,0.5*c);L(a,(0.5+e)*b,(0.5+d)*c,(0.5+d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);L(a,(0.5-d)*b,(0.5+e)*c,(0.5-e)*b,(0.5+d)*c,(0.5-e)*b,0.5*c);rl(0.5-e,0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,i,g,g);L(a,j.x*b,j.y*c,k.x*b,k.y*c,i.x*b,i.y*c);d=0.3*ic;e=0.3;rl(0.5-e,
0.5,0.5-e,0.5-d,0.5-d,0.5-e,0.5,0.5-e,0.5,j,k,i,g,g);a.lineTo(i.x*b,i.y*c);L(a,k.x*b,k.y*c,j.x*b,j.y*c,(0.5-e)*b,0.5*c);L(a,(0.5-e)*b,(0.5+d)*c,(0.5-d)*b,(0.5+e)*c,0.5*b,(0.5+e)*c);L(a,(0.5+d)*b,(0.5+e)*c,(0.5+e)*b,(0.5+d)*c,(0.5+e)*b,0.5*c);rl(0.5,0.5-e,0.5+d,0.5-e,0.5+e,0.5-d,0.5+e,0.5,0.5,g,g,i,j,k);L(a,k.x*b,k.y*c,j.x*b,j.y*c,i.x*b,i.y*c);Gd(a);K(a,0.45*b,0,h);a.lineTo(0.45*b,0.5*c);a.lineTo(0.55*b,0.5*c);a.lineTo(0.55*b,0);Gd(a);b=a.q;b.v=new H(0.25,0.55);b.w=new H(0.75,0.8);return b},Fallout:function(a,
b,c){var a=new J,d=0.5*ic;K(a,0*b,0.5*c,h);L(a,0*b,(0.5-d)*c,(0.5-d)*b,0*c,0.5*b,0*c);L(a,(0.5+d)*b,0*c,1*b,(0.5-d)*c,1*b,0.5*c);L(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0*b,(0.5+d)*c,0*b,0.5*c);var e=d=0;K(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.4;e=0;Gd(a);K(a,(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);d=0.2;e=-0.3;Gd(a);K(a,
(0.3+d)*b,(0.8+e)*c,h,h);a.lineTo((0.5+d)*b,(0.5+e)*c);a.lineTo((0.1+d)*b,(0.5+e)*c);a.lineTo((0.3+d)*b,(0.8+e)*c);Gd(a);b=a.q;b.Zb=fh;return b},IrritationHazard:function(a,b,c){a=new J;K(a,0.2*b,0*c,h);a.lineTo(0.5*b,0.3*c);a.lineTo(0.8*b,0*c);a.lineTo(1*b,0.2*c);a.lineTo(0.7*b,0.5*c);a.lineTo(1*b,0.8*c);a.lineTo(0.8*b,1*c);a.lineTo(0.5*b,0.7*c);a.lineTo(0.2*b,1*c);a.lineTo(0*b,0.8*c);a.lineTo(0.3*b,0.5*c);a.lineTo(0*b,0.2*c);Gd(a);b=a.q;b.v=new H(0.3,0.3);b.w=new H(0.7,0.7);return b},ElectricalHazard:function(a,
b,c){a=new J;K(a,0.37,0*c,h);a.lineTo(0.5*b,0.11*c);a.lineTo(0.77*b,0.04*c);a.lineTo(0.33*b,0.49*c);a.lineTo(1*b,0.37*c);a.lineTo(0.63*b,0.86*c);a.lineTo(0.77*b,0.91*c);a.lineTo(0.34*b,1*c);a.lineTo(0.34*b,0.78*c);a.lineTo(0.44*b,0.8*c);a.lineTo(0.65*b,0.56*c);a.lineTo(0*b,0.68*c);Gd(a);return a.q},FireHazard:function(a,b,c){a=new J;K(a,0.1*b,1*c,h);L(a,-0.25*b,0.63*c,0.45*b,0.44*c,0.29*b,0*c);L(a,0.48*b,0.17*c,0.54*b,0.35*c,0.51*b,0.42*c);L(a,0.59*b,0.29*c,0.58*b,0.28*c,0.59*b,0.18*c);L(a,0.8*b,
0.34*c,0.88*b,0.43*c,0.75*b,0.6*c);L(a,0.87*b,0.48*c,0.88*b,0.43*c,0.88*b,0.31*c);L(a,1.17*b,0.76*c,0.82*b,0.8*c,0.9*b,1*c);Gd(a);b=a.q;b.v=new H(0.05,0.645);b.w=new H(0.884,0.908);return b},BpmnActivityLoop:function(a,b,c){var a=new J,d=0.5*(4*(Math.SQRT2-1)/3);K(a,(0.5*Math.SQRT2/2+0.5)*b,(1-(0.5-0.5*Math.SQRT2/2))*c,q);L(a,1*b,0.7*c,1*b,0.5*c,1*b,0.5*c);L(a,1*b,(0.5-d+0)*c,(0.5+d+0)*b,0*c,0.5*b,0*c);L(a,(0.5-d+0)*b,0*c,0*b,(0.5-d+0)*c,0*b,0.5*c);L(a,0*b,(0.5+d+0)*c,(0.5-d+0)*b,1*c,0.35*b,0.98*
c);a.moveTo(0.35*b,0.8*c);a.lineTo(0.35*b,1*c);a.lineTo(0.15*b,1*c);return a.q},BpmnActivityParallel:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(0,1*c);a.moveTo(0.5*b,0);a.lineTo(0.5*b,1*c);a.moveTo(1*b,0);a.lineTo(1*b,1*c);return a.q},BpmnActivitySequential:function(a,b,c){a=new J;K(a,0,0,q);a.lineTo(1*b,0);a.moveTo(0,0.5*c);a.lineTo(1*b,0.5*c);a.moveTo(0,1*c);a.lineTo(1*b,1*c);return a.q},BpmnActivityAdHoc:function(a,b,c){a=new J;K(a,0,0,q);K(a,1*b,1*c,q);K(a,0,0.5*c,q);L(a,0.2*b,0.35*c,0.3*b,0.35*
c,0.5*b,0.5*c);L(a,0.7*b,0.65*c,0.8*b,0.65*c,1*b,0.5*c);return a.q},BpmnActivityCompensation:function(a,b,c){a=new J;K(a,0,0.5*c,h);a.lineTo(0.5*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,1*c);a.lineTo(1*b,0);a.lineTo(0.5*b,0.5*c);a.lineTo(0.5*b,1*c);Gd(a);return a.q},BpmnTaskMessage:function(a,b,c){a=new J;K(a,0,0.2*c,h);a.lineTo(1*b,0.2*c);a.lineTo(1*b,0.8*c);a.lineTo(0,0.8*c);a.lineTo(0,0.8*c);Gd(a);K(a,0,0.2*c,q);a.lineTo(0.5*b,0.5*c);a.lineTo(1*b,0.2*c);Hd(a);return a.q},BpmnTaskScript:function(a,
b,c){a=new J;K(a,0.7*b,1*c,h);a.lineTo(0.3*b,1*c);L(a,0.6*b,0.5*c,0,0.5*c,0.3*b,0);a.lineTo(0.7*b,0);L(a,0.4*b,0.5*c,1*b,0.5*c,0.7*b,1*c);Gd(a);K(a,0.45*b,0.73*c,q);a.lineTo(0.7*b,0.73*c);a.moveTo(0.38*b,0.5*c);a.lineTo(0.63*b,0.5*c);a.moveTo(0.31*b,0.27*c);a.lineTo(0.56*b,0.27*c);Hd(a);return a.q},BpmnTaskUser:function(a,b,c){a=new J;K(a,0,0,q);K(a,0.335*b,(1-0.555)*c,h);a.lineTo(0.335*b,0.595*c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.665*b,(1-0.555)*c);L(a,0.88*b,0.46*c,0.98*b,0.54*c,1*b,0.68*c);
a.lineTo(1*b,1*c);a.lineTo(0,1*c);a.lineTo(0,0.68*c);L(a,0.02*b,0.54*c,0.12*b,0.46*c,0.335*b,(1-0.555)*c);a.lineTo(0.365*b,0.405*c);var d=0.5-0.285,e=Math.PI/4,g=4*(1-Math.cos(e))/(3*Math.sin(e)),e=g*d,g=g*d;L(a,(0.5-(e+d)/2)*b,(d+(d+g)/2)*c,(0.5-d)*b,(d+g)*c,(0.5-d)*b,d*c);L(a,(0.5-d)*b,(d-g)*c,(0.5-e)*b,(d-d)*c,0.5*b,(d-d)*c);L(a,(0.5+e)*b,(d-d)*c,(0.5+d)*b,(d-g)*c,(0.5+d)*b,d*c);L(a,(0.5+d)*b,(d+g)*c,(0.5+(e+d)/2)*b,(d+(d+g)/2)*c,0.635*b,0.405*c);a.lineTo(0.635*b,0.405*c);a.lineTo(0.665*b,(1-0.555)*
c);a.lineTo(0.665*b,0.595*c);a.lineTo(0.335*b,0.595*c);K(a,0.2*b,1*c,q);a.lineTo(0.2*b,0.8*c);K(a,0.8*b,1*c,q);a.lineTo(0.8*b,0.8*c);return a.q},BpmnEventConditional:function(a,b,c){a=new J;K(a,0.1*b,0,h);a.lineTo(0.9*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.1*b,1*c);Gd(a);K(a,0.2*b,0.2*c,q);a.lineTo(0.8*b,0.2*c);a.moveTo(0.2*b,0.4*c);a.lineTo(0.8*b,0.4*c);a.moveTo(0.2*b,0.6*c);a.lineTo(0.8*b,0.6*c);a.moveTo(0.2*b,0.8*c);a.lineTo(0.8*b,0.8*c);Hd(a);return a.q},BpmnEventError:function(a,b,c){a=new J;K(a,
0,1*c,h);a.lineTo(0.33*b,0);a.lineTo(0.66*b,0.5*c);a.lineTo(1*b,0);a.lineTo(0.66*b,1*c);a.lineTo(0.33*b,0.5*c);Gd(a);return a.q},BpmnEventEscalation:function(a,b,c){a=new J;K(a,0,0,q);K(a,1*b,1*c,q);K(a,0.1*b,1*c,h);a.lineTo(0.5*b,0);a.lineTo(0.9*b,1*c);a.lineTo(0.5*b,0.5*c);Gd(a);return a.q},BpmnEventTimer:function(a,b,c){var a=new J,d=0.5*ic;K(a,1*b,0.5*c,h);L(a,1*b,(0.5+d)*c,(0.5+d)*b,1*c,0.5*b,1*c);L(a,(0.5-d)*b,1*c,0,(0.5+d)*c,0,0.5*c);L(a,0,(0.5-d)*c,(0.5-d)*b,0,0.5*b,0);L(a,(0.5+d)*b,0,1*b,
(0.5-d)*c,1*b,0.5*c);K(a,0.5*b,0,q);a.lineTo(0.5*b,0.15*c);a.moveTo(0.5*b,1*c);a.lineTo(0.5*b,0.85*c);a.moveTo(0,0.5*c);a.lineTo(0.15*b,0.5*c);a.moveTo(1*b,0.5*c);a.lineTo(0.85*b,0.5*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.58*b,0.1*c);a.moveTo(0.5*b,0.5*c);a.lineTo(0.78*b,0.54*c);Hd(a);b=a.q;b.Zb=fh;return b}},wl;for(wl in cl)cl[wl.toLowerCase()]=wl;
var xl={Standard:"F1 m 0,0 l 8,4 -8,4 2,-4 z",Backward:"F1 m 8,0 l -2,4 2,4 -8,-4 z",Triangle:"F1 m 0,0 l 8,4.62 -8,4.62 z",BackwardTriangle:"F1 m 8,4 l 0,4 -8,-4 8,-4 0,4 z",Boomerang:"F1 m 0,0 l 8,4 -8,4 4,-4 -4,-4 z",BackwardBoomerang:"F1 m 8,0 l -8,4 8,4 -4,-4 4,-4 z",SidewaysV:"m 0,0 l 8,4 -8,4 0,-1 6,-3 -6,-3 0,-1 z",BackwardV:"m 8,0 l -8,4 8,4 0,-1 -6,-3 6,-3 0,-1 z",OpenTriangle:"m 0,0 l 8,4 -8,4",BackwardOpenTriangle:"m 8,0 l -8,4 8,4",OpenTriangleLine:"m 0,0 l 8,4 -8,4 m 8.5,0 l 0,-8",BackwardOpenTriangleLine:"m 8,0 l  -8,4 8,4 m -8.5,0 l 0,-8",
OpenTriangleTop:"m 0,0 l 8,4 m 0,4",BackwardOpenTriangleTop:"m 8,0 l -8,4 m 0,4",OpenTriangleBottom:"m 0,8 l 8,-4",BackwardOpenTriangleBottom:"m 0,4 l 8,4",HalfTriangleTop:"F1 m 0,0 l 0,4 8,0 z m 0,8",BackwardHalfTriangleTop:"F1 m 8,0 l 0,4 -8,0 z m 0,8",HalfTriangleBottom:"F1 m 0,4 l 0,4 8,-4 z",BackwardHalfTriangleBottom:"F1 m 8,4 l 0,4 -8,-4 z",ForwardSemiCircle:"m 4,0 b 270 180 0 4 4",BackwardSemiCircle:"m 4,8 b 90 180 0 -4 4",Feather:"m 0,0 l 3,4 -3,4",BackwardFeather:"m 3,0 l -3,4 3,4",DoubleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",
BackwardDoubleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4",TripleFeathers:"m 0,0 l 3,4 -3,4 m 3,-8 l 3,4 -3,4 m 3,-8 l 3,4 -3,4",BackwardTripleFeathers:"m 3,0 l -3,4 3,4 m 3,-8 l -3,4 3,4 m 3,-8 l -3,4 3,4",ForwardSlash:"m 0,8 l 5,-8",BackSlash:"m 0,0 l 5,8",DoubleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8",DoubleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8",TripleForwardSlash:"m 0,8 l 4,-8 m -2,8 l 4,-8 m -2,8 l 4,-8",TripleBackSlash:"m 0,0 l 4,8 m -2,-8 l 4,8 m -2,-8 l 4,8",Fork:"m 0,4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",
BackwardFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4",LineFork:"m 0,0 l 0,8 m 0,-4 l 8,0 m -8,0 l 8,-4 m -8,4 l 8,4",BackwardLineFork:"m 8,4 l -8,0 m 8,0 l -8,-4 m 8,4 l -8,4 m 8,-8 l 0,8",CircleFork:"F1 m 6,4 b 0 360 -3 0 3 z m 0,0 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 6,0 b 0 360 -3 0 3",CircleLineFork:"F1 m 6,4 b 0 360 -3 0 3 z m 1,-4 l 0,8 m 0,-4 l 6,0 m -6,0 l 6,-4 m -6,4 l 6,4",BackwardCircleLineFork:"F1 m 0,4 l 6,0 m -6,-4 l 6,4 m -6,4 l 6,-4 m 0,-4 l 0,8 m 7,-4 b 0 360 -3 0 3",
Circle:"F1 m 8,4 b 0 360 -4 0 4 z",Block:"F1 m 0,0 l 0,8 8,0 0,-8 z",StretchedDiamond:"F1 m 0,3 l 5,-3 5,3 -5,3 -5,-3 z",Diamond:"F1 m 0,4 l 4,-4 4,4 -4,4 -4,-4 z",Chevron:"F1 m 0,0 l 5,0 3,4 -3,4 -5,0 3,-4 -3,-4 z",StretchedChevron:"F1 m 0,0 l 8,0 3,4 -3,4 -8,0 3,-4 -3,-4 z",NormalArrow:"F1 m 0,2 l 4,0 0,-2 4,4 -4,4 0,-2 -4,0 z",X:"m 0,0 l 8,8 m 0,-8 l -8,8",TailedNormalArrow:"F1 m 0,0 l 2,0 1,2 3,0 0,-2 2,4 -2,4 0,-2 -3,0 -1,2 -2,0 1,-4 -1,-4 z",DoubleTriangle:"F1 m 0,0 l 4,4 -4,4 0,-8 z  m 4,0 l 4,4 -4,4 0,-8 z",
BigEndArrow:"F1 m 0,0 l 5,2 0,-2 3,4 -3,4 0,-2 -5,2 0,-8 z",ConcaveTailArrow:"F1 m 0,2 h 4 v -2 l 4,4 -4,4 v -2 h -4 l 2,-2 -2,-2 z",RoundedTriangle:"F1 m 0,1 a 1,1 0 0 1 1,-1 l 7,3 a 0.5,1 0 0 1 0,2 l -7,3 a 1,1 0 0 1 -1,-1 l 0,-6 z",SimpleArrow:"F1 m 1,2 l -1,-2 2,0 1,2 -1,2 -2,0 1,-2 5,0 0,-2 2,2 -2,2 0,-2 z",AccelerationArrow:"F1 m 0,0 l 0,8 0.2,0 0,-8 -0.2,0 z m 2,0 l 0,8 1,0 0,-8 -1,0 z m 3,0 l 2,0 2,4 -2,4 -2,0 0,-8 z",BoxArrow:"F1 m 0,0 l 4,0 0,2 2,0 0,-2 2,4 -2,4 0,-2 -2,0 0,2 -4,0 0,-8 z",
TriangleLine:"F1 m 8,4 l -8,-4 0,8 8,-4 z m 0.5,4 l 0,-8",CircleEndedArrow:"F1 m 10,4 l -2,-3 0,2 -2,0 0,2 2,0 0,2 2,-3 z m -4,0 b 0 360 -3 0 3 z",DynamicWidthArrow:"F1 m 0,3 l 2,0 2,-1 2,-2 2,4 -2,4 -2,-2 -2,-1 -2,0 0,-2 z",EquilibriumArrow:"m 0,3 l 8,0 -3,-3 m 3,5 l -8,0 3,3",FastForward:"F1 m 0,0 l 3.5,4 0,-4 3.5,4 0,-4 1,0 0,8 -1,0 0,-4 -3.5,4 0,-4 -3.5,4 0,-8 z",Kite:"F1 m 0,4 l 2,-4 6,4 -6,4 -2,-4 z",HalfArrowTop:"F1 m 0,0 l 4,4 4,0 -8,-4 z m 0,8",HalfArrowBottom:"F1 m 0,8 l 4,-4 4,0 -8,4 z",
OpposingDirectionDoubleArrow:"F1 m 0,4 l 2,-4 0,2 4,0 0,-2 2,4 -2,4 0,-2 -4,0 0,2 -2,-4 z",PartialDoubleTriangle:"F1 m 0,0 4,3 0,-3 4,4 -4,4 0,-3 -4,3 0,-8 z",LineCircle:"F1 m 0,0 l 0,8 m 7 -4 b 0 360 -3 0 3 z",DoubleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",TripleLineCircle:"F1 m 0,0 l 0,8 m 2,-8 l 0,8 m 2,-8 l 0,8 m 7 -4 b 0 360 -3 0 3 z",CircleLine:"F1 m 6 4 b 0 360 -3 0 3 z m 1,-4 l 0,8",DiamondCircle:"F1 m 8,4 l -4,4 -4,-4 4,-4 4,4 m 8,0 b 0 360 -4 0 4 z",PlusCircle:"F1 m 8,4 b 0 360 -4 0 4 l -8 0 z m -4 -4 l 0 8",
OpenRightTriangleTop:"m 8,0 l 0,4 -8,0 m 0,4",OpenRightTriangleBottom:"m 8,8 l 0,-4 -8,0",Line:"m 0,0 l 0,8",DoubleLine:"m 0,0 l 0,8 m 2,0 l 0,-8",TripleLine:"m 0,0 l 0,8 m 2,0 l 0,-8 m 2,0 l 0,8",PentagonArrow:"F1 m 8,4 l -4,-4 -4,0 0,8 4,0 4,-4 z",None:""},al,yl={},Cl;for(Cl in cl){var Dl=cl[Cl];"string"===typeof Dl&&(Dl=cl[Dl]);"string"===typeof Dl&&(Dl=cl[Dl]);Dl&&(yl[Cl]=Dl(n,100,100));yl[Cl].oe()}al=yl;var El={};
function bl(a){if(xl){for(var b in xl){var c=xd(xl[b],q);El[b]=c;El[b.toLowerCase()]=b}xl=f}return El[a]}V.FigureGenerators=cl;V.ArrowheadGeometries=El;
function S(a){0===arguments.length?x.call(this):x.call(this,a);this.Xm=this.Yg="";this.Zp=n;this.Fq=this.wq=this.Hp=this.mr=this.op=this.bp=h;this.Qq=this.Lq=this.Kq=q;this.ln=h;this.cr="";this.$q=h;this.Dk=this.Rq=this.Mq=this.ar=n;this.Lt=q;this.Vg=this.br=n;this.Oq="";this.Jl=n;this.Nq=(new bb(NaN,NaN)).freeze();this.Sq="";this.Kl=n;this.Ld="";this.Np=h;this.G=this.ap=this.fk=n;this.ej=(new F(NaN,NaN)).freeze();this.an=new F(NaN,NaN);this.hq="";this.fj=n;this.iq=Jb;this.rq=nc;this.kq=oc;this.pp=
n;this.Op=h;this.$p=Fl;this.Jf=q;this.on=(new F(6,6)).freeze();this.nn="gray";this.mn=4;this.eB=-1;this.$i=h;this.ju=this.he=q}w.Q("Part",S);w.Ea(S,x);
S.prototype.xb=function(a){x.prototype.xb.call(this,a);a.Yg=this.Yg;a.Xm=this.Xm;a.Zp=this.Zp;a.bp=this.bp;a.op=this.op;a.mr=this.mr;a.Hp=this.Hp;a.wq=this.wq;a.Fq=this.Fq;a.Kq=this.Kq;a.Lq=this.Lq;a.Qq=this.Qq;a.ln=this.ln;a.cr=this.cr;a.$q=this.$q;a.ar=this.ar;a.Mq=this.Mq;a.Rq=this.Rq;a.Lt=q;a.br=this.br;a.Vg=n;a.Oq=this.Oq;a.Nq.Va(this.Nq);a.Sq=this.Sq;a.Ld=this.Ld;a.Np=this.Np;a.ap=this.ap;a.ej.Va(this.ej);a.an.Va(this.an);a.hq=this.hq;a.iq=this.iq.O();a.rq=this.rq.O();a.kq=this.kq.O();a.pp=
this.pp;a.Op=this.Op;a.$p=this.$p;a.Jf=this.Jf;a.on.Va(this.on);a.nn=this.nn;a.mn=this.mn};S.prototype.Ah=function(a){x.prototype.Ah.call(this,a);tj(a);a.Dk=n;a.Jl=n;a.Kl=n;a.fj=n};S.prototype.toString=function(){var a=w.Tk(Object.getPrototypeOf(this))+"#"+w.ec(this);this.data&&(a+="("+ke(this.data)+")");return a};S.LayoutNone=0;var Li;S.LayoutAdded=Li=1;var Qi;S.LayoutRemoved=Qi=2;var Sj;S.LayoutShown=Sj=4;var Tj;S.LayoutHidden=Tj=8;S.LayoutNodeSized=16;var Xi;S.LayoutGroupLayout=Xi=32;var Fl;
S.LayoutStandard=Fl=Li|Qi|Sj|Tj|16|Xi;S.prototype.km=function(a,b,c,d,e,g,i){var j=this.h;j!==n&&(a===ie&&"elements"===b?e instanceof x&&Mi(e,e,function(a){Ni(j,a)}):a===je&&"elements"===b&&e instanceof x&&Mi(e,e,function(a){Pi(j,a)}),j.Qc(a,b,c,d,e,g,i))};S.prototype.updateTargetBindings=S.prototype.vb=function(a){x.prototype.vb.call(this,a);if(this.data!==n)for(a=this.elements;a.next();){var b=a.value;b instanceof x&&Mi(b,b,function(a){a.data!==n&&a.vb()})}};
w.u(S,{GF:"adornments"},function(){return this.Vg===n?n:this.Vg.l});S.prototype.findAdornment=S.prototype.Yn=function(a){u&&w.k(a,"string",S,"findAdornment:category");var b=this.Vg;return b===n?n:b.qa(a)};
S.prototype.addAdornment=S.prototype.Fk=function(a,b){if(b!==n){u&&(w.k(a,"string",S,"addAdornment:category"),w.i(b,of,S,"addAdornment:ad"));var c=n,d=this.Vg;d!==n&&(c=d.qa(a));if(c!==b){if(c!==n){var e=c.h;e!==n&&e.remove(c)}d===n&&(this.Vg=d=new ka("string",of));b.Yg!==a&&(b.Mc=a);d.add(a,b);c=this.h;c!==n&&(c.add(b),b.data=this.data)}}};
S.prototype.removeAdornment=S.prototype.cl=function(a){u&&w.k(a,"string",S,"removeAdornment:category");var b=this.Vg;if(b!==n){var c=b.qa(a);if(c!==n){var d=c.h;d!==n&&d.remove(c)}b.remove(a);0===b.count&&(this.Vg=n)}};S.prototype.clearAdornments=S.prototype.yh=function(){var a=this.Vg;if(a!==n){for(var b=[],a=a.l;a.next();)b.push(a.key);for(var a=b.length,c=0;c<a;c++)this.cl(b[c])}};
S.prototype.updateAdornments=S.prototype.Pi=function(){a:{var a=this.h;if(a!==n){var b=n;if(this.Qa&&this.sE){var c=this.Yv;if(this.va.P()&&c!==n&&this.hb()&&c.Xk()&&c.va.P()){b=this.Yn("Selection");if(b===n){b=this.tE;b===n&&(this instanceof U?b=a.CD:this instanceof S&&(b=this instanceof vf?a.cD:a.RD));if(!(b instanceof of))break a;xf(b);b=b.copy();if(!(b instanceof of))break a;b.Mc="Selection";b.Cc=c}if(b!==n){a=b.placeholder;if(a!==n){var d=c.Uk(),e=0;c instanceof V&&(e=c.$a);a.wa=new bb((c.Sa.width+
e)*d,(c.Sa.height+e)*d)}b.angle=c.ao();b.type!==Ug?b.location=c.Ab(Jb):b.R()}}this.Fk("Selection",b)}else this.cl("Selection")}}c=this.h;if(c!==n){c=c.Rb.Ve.n;b=c.length;for(a=0;a<b;a++)d=c[a],d.isEnabled&&d.updateAdornments(this)}};w.u(S,{Oa:"layer"},t("G"));w.u(S,{h:"diagram"},function(){var a=this.G;return a!==n?a.h:n});w.g(S,"layerName",S.prototype.Od);
w.defineProperty(S,{Od:"layerName"},t("Xm"),function(a){var b=this.Xm;if(b!==a){w.k(a,"string",S,"layerName");var c=this.h;if(!(c!==n&&c.Rr(a)==n)&&(this.Xm=a,this.j("layerName",b,a),b=this.Oa,b!==n&&b.name!==a&&(c=b.h,c!==n&&(a=c.Rr(a),a!==n&&a!==b)))){var d=b.se(-1,this,h);0<=d&&c.Qc(je,"parts",b,this,n,d,h);d=a.gm(99999999,this,h);0<=d&&c.Qc(ie,"parts",a,n,this,h,d);d=this.ko;if(d!==n){var e=c.La;c.La=h;d(this,b,a);c.La=e}}}});w.g(S,"layerChanged",S.prototype.ko);
w.defineProperty(S,{ko:"layerChanged"},t("Zp"),function(a){var b=this.Zp;b!==a&&(a!==n&&w.k(a,"function",S,"layerChanged"),this.Zp=a,this.j("layerChanged",b,a))});w.g(S,"location",S.prototype.location);w.defineProperty(S,{location:"location"},t("ej"),function(a){var b=this.ej;if(!b.I(a)){u&&w.i(a,F,S,"location");this.ej=a=a.O();if(this.Jc===q){var c=this.rb,d=this.an,e=c.copy();c.U(a.x-d.x,a.y-d.y);c.I(e)||this.j("position",e,c);Vj(this)}this.j("location",b,a)}});
function Vj(a){if(a.$i===q){var b=a.h;b!==n&&(b.fh.add(a),a instanceof T&&!b.sa.tb&&a.Qg(),b.yb());a.$i=h}}function Gl(a){if(a.$i!==q){var b=a.rb,c=a.Ib,d=c.copy();c.Ia();c.x=b.x;c.y=b.y;c.freeze();rj(a,d,c);a.$i=q}}w.u(S,{Xb:"locationObject"},function(){if(this.fj===n){var a=this.Kv;a!==f&&a!==n&&""!==a?(a=this.Ne(a),this.fj=a!==n?a:this):this.fj=this}return this.fj.visible?this.fj:this});w.g(S,"minLocation",S.prototype.LD);
w.defineProperty(S,{LD:"minLocation"},t("rq"),function(a){var b=this.rq;b.I(a)||(u&&w.i(a,F,S,"minLocation"),this.rq=a=a.O(),this.j("minLocation",b,a))});w.g(S,"maxLocation",S.prototype.ED);w.defineProperty(S,{ED:"maxLocation"},t("kq"),function(a){var b=this.kq;b.I(a)||(u&&w.i(a,F,S,"maxLocation"),this.kq=a=a.O(),this.j("maxLocation",b,a))});w.g(S,"locationObjectName",S.prototype.Kv);
w.defineProperty(S,{Kv:"locationObjectName"},t("hq"),function(a){var b=this.hq;b!==a&&(u&&w.k(a,"string",S,"locationObjectName"),this.hq=a,this.fj=n,Aj(this),this.j("locationObjectName",b,a))});w.g(S,"locationSpot",S.prototype.bg);w.defineProperty(S,{bg:"locationSpot"},t("iq"),function(a){var b=this.iq;b.I(a)||(u&&(w.i(a,H,S,"locationSpot"),tb(a)||w.m("Part.locationSpot must be a specific Spot value, not: "+a)),this.iq=a=a.O(),Aj(this),this.j("locationSpot",b,a))});
S.prototype.move=S.prototype.move=function(a){this.position=a;this.Jc===q&&Gl(this)};
S.prototype.isVisible=S.prototype.hb=function(){if(!this.Mg)return q;var a=this.Oa;if(a!==n&&!a.visible)return q;a=this.cb;if(a!==n&&(!a.Re||!a.hb()))return q;if(this instanceof T){a=this.RC();if(a!==n&&!a.be)return q;a=this.yd;if(a!==n){var b={};b[w.ec(this)]=h;return Hl(a,b)}}else if(this instanceof U){var b=h,c=this.h;c!==n&&(b=c.Xc);c=this.ga;if(c!==n){if(b&&!c.be)return q;c=Il(c);if(c===n||c===a)return q}c=this.la;if(c!==n){if(!b&&!c.be)return q;b=Il(c);if(b===n||b===a)return q}}return h};
function Hl(a,b){var c=a.ga;if(c!==n){var d=c.yd;if(d!==n)b[w.ec(c)]||(b[w.ec(c)]=h,Hl(d,b));else if(!c.hb())return q}c=a.la;if(c!==n)if(d=c.yd,d!==n)b[w.ec(c)]||(b[w.ec(c)]=h,Hl(d,b));else if(!c.hb())return q;return h}
function Jl(a,b,c){zb(c)&&(c=Ob);var d=b.Sa;if(b===n||b===a)return new F(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);c=new F(d.width*c.x+c.offsetX,d.height*c.y+c.offsetY);b.transform.Ta(c);for(b=b.fa;b!==n&&b!==a;)b.transform.Ta(c),b=b.fa;a.wk.Ta(c);c.offset(-a.Uc.x,-a.Uc.y);return c}S.prototype.ensureBounds=S.prototype.Di=function(){Ih(this,Infinity,Infinity);this.Dc()};
S.prototype.Dc=function(){qj(this);if(this.Jc===q){var a=this.position,b=this.location;if(!b.P()||!a.P())Kl(this,a,b),qj(this);Gl(this)}else{this instanceof of&&(this.T!==Ug&&this.qb!==n)&&(this.fj=this.qb,a=this.Cc,this.type!==Ug&&a!==n&&(this.location=a.Ab(Jb)));var c=this.KB;c.set(this.Ib);zj(this);this.Ib.Ia();var d=this.he;this.wj(0,0,this.Uc.width,this.Uc.height);a=this.position;b=this.location;Kl(this,a,b);b=this.Ib;b.x=a.x;b.y=a.y;b.freeze();qj(this);rj(this,c,b);c.I(b)?this.he=d:this.ae()&&
(!Ua(c.width,b.width)||!Ua(c.height,b.height))&&this.F(16);this.$i=q}};function Kl(a,b,c){var d=NaN,e=NaN,g=a.bg,e=a.Xb;zb(g)&&w.m("Spot must be real: "+g.toString());var i=e.Sa,d=a.an;d.mm(0,0,i.width,i.height,g);if(e!==a){e.transform.Ta(d);e.$a&&(g=e.rh/2,d.offset(-g,-g));for(e=e.fa;e!==n&&e!==a;)e.transform.Ta(d),e=e.fa}a.wk.Ta(d);d.offset(-a.Uc.x,-a.Uc.y);a=a.an;c.P()?(d=c.x-a.x,e=c.y-a.y,b.copy(),b.U(d,e)):b.P()&&(d=b.x,e=b.y,c.copy(),c.U(d+a.x,e+a.y))}
function Oi(a,b){a.ju=q;var c=a.h;if(c!==n){a.updateAdornments();var d=a.GF;if(d!==n){qj(a);for(zj(a);d.next();)Ih(d.value,Infinity,Infinity),d.value.Dc()}a instanceof T&&bj(c,a);!a.Oa.zc&&!b&&Ci(c);var d=a.Ib,e=c.Ua;e.P()?a.he?d.Qe(e)||(a.he=q,Nh(c)):d.Qe(e)&&(a.he=h):c.sk=h;a.Ib.P()&&Nh(c,a.Ib)}}S.prototype.Wk=ca(h);
function Mh(a,b){if(a.Mg){var c=a.Ib;if(!(0===c.width||0===c.height||isNaN(c.x)||isNaN(c.y))){var d=a.transform,e=a.fa,g=a.wm;g.reset();e!==n&&(e.Kh()?g.multiply(e.je):e.fa!==n&&g.multiply(e.fa.je));g.multiply(a.Md);a.xe!==n&&(yj(a,b,a.xe,h,h),b.fillRect(c.x,c.y,c.width,c.height));a.xe===n&&a.ye===n&&(b.fillStyle="rgba(0,0,0,0.4)",b.fillRect(c.x,c.y,c.width,c.height));if(a.ye!==n){d.gs()||b.transform(d.m11,d.m12,d.m21,d.m22,d.dx,d.dy);var i=a.Sa,e=c=0,g=i.width,i=i.height,j=0;a instanceof V&&(i=a.Ha.Fb,
c=i.x,e=i.y,g=i.width,i=i.height,j=a.rh);yj(a,b,a.ye,h);b.fillRect(c-j/2,e-j/2,g+j,i+j);d.gs()||(c=1/(d.m11*d.m22-d.m12*d.m21),b.transform(d.m22*c,-d.m12*c,-d.m21*c,d.m11*c,c*(d.m21*d.dy-d.m22*d.dx),c*(d.m12*d.dx-d.m11*d.dy)))}}}}S.prototype.ae=ca(h);w.g(S,"isInDocumentBounds",S.prototype.Fv);w.defineProperty(S,{Fv:"isInDocumentBounds"},t("Np"),function(a){var b=this.Np;b!==a&&(u&&w.k(a,"boolean",S,"isInDocumentBounds"),this.Np=a,this.j("isInDocumentBounds",b,a))});w.g(S,"category",S.prototype.Mc);
w.defineProperty(S,{Mc:"category"},t("Yg"),function(a){var b=this.Yg;if(b!==a){w.k(a,"string",S,"category");this.Yg=a;this.j("category",b,a);var c=this.h,d=this.data;if(c!==n&&d!==n){var e=c.V;this instanceof U?(e instanceof O?e.vE(d,a):e instanceof De&&e.XH(d,a),c=c.findTemplateForLinkData(d,a),c instanceof U&&(xf(c),c=c.copy(),c instanceof U&&Ll(this,c,a))):this instanceof of||(e!==n&&e.Zv(d,a),c=c.findTemplateForNodeData(d,a),c instanceof S&&(xf(c),c=c.copy(),c instanceof S&&Ll(this,c,a)))}this instanceof
of&&(a=this.Hk,a!==n&&(c=a.Vg,c!==n&&c.remove(b),0===c.count&&(a.Vg=n),a.Fk(this.Yg,this)))}});function Ll(a,b,c){a.yh();var d=a.data,e=a.Od,g=a.Qa;b.Ah(a);b.xb(a);a.Yg=c;a.R();vj(a);b=a.h;c=h;b!==n&&(c=b.ub,b.ub=h);a.Em=d;d!==n&&a.vb();b!==n&&(b.ub=c);d=a.Od;d!==e&&(a.Xm=e,a.Od=d);a.Qa=g}S.prototype.canCopy=S.prototype.LI=function(){if(!this.wC)return q;var a=this.Oa;if(a===n)return h;if(!a.tj)return q;a=a.h;return a===n?h:!a.tj?q:h};
S.prototype.canDelete=S.prototype.QI=function(){if(!this.GC)return q;var a=this.Oa;if(a===n)return h;if(!a.Ik)return q;a=a.h;return a===n?h:!a.Ik?q:h};S.prototype.canEdit=S.prototype.SI=function(){if(!this.FE)return q;var a=this.Oa;if(a===n)return h;if(!a.Mn)return q;a=a.h;return a===n?h:!a.Mn?q:h};S.prototype.canGroup=S.prototype.WI=function(){if(!this.dD)return q;var a=this.Oa;if(a===n)return h;if(!a.Hn)return q;a=a.h;return a===n?h:!a.Hn?q:h};
S.prototype.canMove=S.prototype.ZI=function(){if(!this.OD)return q;var a=this.Oa;if(a===n)return h;if(!a.Jk)return q;a=a.h;return a===n?h:!a.Jk?q:h};S.prototype.canPrint=S.prototype.aJ=function(){if(!this.XD)return q;var a=this.Oa;if(a===n)return h;if(!a.Fr)return q;a=a.h;return a===n?h:!a.Fr?q:h};S.prototype.canReshape=S.prototype.eJ=function(){if(!this.fE)return q;var a=this.Oa;if(a===n)return h;if(!a.Jn)return q;a=a.h;return a===n?h:!a.Jn?q:h};
S.prototype.canResize=S.prototype.fJ=function(){if(!this.gE)return q;var a=this.Oa;if(a===n)return h;if(!a.Kn)return q;a=a.h;return a===n?h:!a.Kn?q:h};S.prototype.canRotate=S.prototype.gJ=function(){if(!this.lE)return q;var a=this.Oa;if(a===n)return h;if(!a.Ln)return q;a=a.h;return a===n?h:!a.Ln?q:h};S.prototype.canSelect=S.prototype.Mk=function(){if(!this.Jj)return q;var a=this.Oa;if(a===n)return h;if(!a.ke)return q;a=a.h;return a===n?h:!a.ke?q:h};w.g(S,"copyable",S.prototype.wC);
w.defineProperty(S,{wC:"copyable"},t("bp"),function(a){var b=this.bp;b!==a&&(u&&w.k(a,"boolean",S,"copyable"),this.bp=a,this.j("copyable",b,a))});w.g(S,"deletable",S.prototype.GC);w.defineProperty(S,{GC:"deletable"},t("op"),function(a){var b=this.op;b!==a&&(u&&w.k(a,"boolean",S,"deletable"),this.op=a,this.j("deletable",b,a))});w.g(S,"textEditable",S.prototype.FE);
w.defineProperty(S,{FE:"textEditable"},t("mr"),function(a){var b=this.mr;b!==a&&(u&&w.k(a,"boolean",S,"textEditable"),this.mr=a,this.j("textEditable",b,a),this.updateAdornments())});w.g(S,"groupable",S.prototype.dD);w.defineProperty(S,{dD:"groupable"},t("Hp"),function(a){var b=this.Hp;b!==a&&(u&&w.k(a,"boolean",S,"groupable"),this.Hp=a,this.j("groupable",b,a))});w.g(S,"movable",S.prototype.OD);
w.defineProperty(S,{OD:"movable"},t("wq"),function(a){var b=this.wq;b!==a&&(u&&w.k(a,"boolean",S,"movable"),this.wq=a,this.j("movable",b,a))});w.g(S,"printable",S.prototype.XD);w.defineProperty(S,{XD:"printable"},t("Fq"),function(a){var b=this.Fq;b!==a&&(u&&w.k(a,"boolean",S,"printable"),this.Fq=a,this.j("printable",b,a))});w.g(S,"reshapable",S.prototype.fE);
w.defineProperty(S,{fE:"reshapable"},t("Kq"),function(a){var b=this.Kq;b!==a&&(u&&w.k(a,"boolean",S,"reshapable"),this.Kq=a,this.j("reshapable",b,a),this.updateAdornments())});w.g(S,"resizable",S.prototype.gE);w.defineProperty(S,{gE:"resizable"},t("Lq"),function(a){var b=this.Lq;b!==a&&(u&&w.k(a,"boolean",S,"resizable"),this.Lq=a,this.j("resizable",b,a),this.updateAdornments())});w.g(S,"rotatable",S.prototype.lE);
w.defineProperty(S,{lE:"rotatable"},t("Qq"),function(a){var b=this.Qq;b!==a&&(u&&w.k(a,"boolean",S,"rotatable"),this.Qq=a,this.j("rotatable",b,a),this.updateAdornments())});w.g(S,"selectable",S.prototype.Jj);w.defineProperty(S,{Jj:"selectable"},t("ln"),function(a){var b=this.ln;b!==a&&(u&&w.k(a,"boolean",S,"selectable"),this.ln=a,this.j("selectable",b,a),this.updateAdornments())});w.g(S,"selectionObjectName",S.prototype.Ds);
w.defineProperty(S,{Ds:"selectionObjectName"},t("cr"),function(a){var b=this.cr;b!==a&&(u&&w.k(a,"string",S,"selectionObjectName"),this.cr=a,this.Dk=n,this.j("selectionObjectName",b,a))});w.g(S,"selectionAdorned",S.prototype.sE);w.defineProperty(S,{sE:"selectionAdorned"},t("$q"),function(a){var b=this.$q;b!==a&&(u&&w.k(a,"boolean",S,"selectionAdorned"),this.$q=a,this.j("selectionAdorned",b,a),this.updateAdornments())});w.g(S,"selectionAdornmentTemplate",S.prototype.tE);
w.defineProperty(S,{tE:"selectionAdornmentTemplate"},t("ar"),function(a){var b=this.ar;b!==a&&(u&&w.i(a,of,S,"selectionAdornmentTemplate"),this instanceof U&&(a.type=Ug),this.ar=a,this.j("selectionAdornmentTemplate",b,a))});w.u(S,{Yv:"selectionObject"},function(){if(this.Dk===n){var a=this.Ds;a!==n&&""!==a?(a=this.Ne(a),this.Dk=a!==n?a:this):this instanceof U?(a=this.path,this.Dk=a!==n?a:this):this.Dk=this}return this.Dk});w.g(S,"isSelected",S.prototype.Qa);
w.defineProperty(S,{Qa:"isSelected"},t("Lt"),function(a){var b=this.Lt;if(b!==a){u&&w.k(a,"boolean",S,"isSelected");var c=this.h;if(!a||this.Mk()&&!(c!==n&&c.selection.count>=c.FD)){this.Lt=a;var d=q;if(c!==n){d=c.ub;c.ub=h;var e=c.selection;e.Ia();a?e.add(this):e.remove(this);e.freeze()}this.j("isSelected",b,a);this.updateAdornments();a=this.uE;a!==n&&a(this);c!==n&&(c.yb(),c.ub=d)}}});w.g(S,"selectionChanged",S.prototype.uE);
w.defineProperty(S,{uE:"selectionChanged"},t("br"),function(a){var b=this.br;b!==a&&(a!==n&&w.k(a,"function",S,"selectionChanged"),this.br=a,this.j("selectionChanged",b,a))});w.g(S,"resizeAdornmentTemplate",S.prototype.hE);w.defineProperty(S,{hE:"resizeAdornmentTemplate"},t("Mq"),function(a){var b=this.Mq;b!==a&&(u&&w.i(a,of,S,"resizeAdornmentTemplate"),this.Mq=a,this.j("resizeAdornmentTemplate",b,a))});w.g(S,"resizeObjectName",S.prototype.jE);
w.defineProperty(S,{jE:"resizeObjectName"},t("Oq"),function(a){var b=this.Oq;b!==a&&(u&&w.k(a,"string",S,"resizeObjectName"),this.Oq=a,this.Jl=n,this.j("resizeObjectName",b,a))});w.u(S,{PH:"resizeObject"},function(){if(this.Jl===n){var a=this.jE;a!==n&&""!==a?(a=this.Ne(a),this.Jl=a!==n?a:this):this.Jl=this}return this.Jl});w.g(S,"resizeCellSize",S.prototype.iE);
w.defineProperty(S,{iE:"resizeCellSize"},t("Nq"),function(a){var b=this.Nq;b.I(a)||(u&&w.i(a,bb,S,"resizeCellSize"),this.Nq=a=a.O(),this.j("resizeCellSize",b,a))});w.g(S,"rotateAdornmentTemplate",S.prototype.mE);w.defineProperty(S,{mE:"rotateAdornmentTemplate"},t("Rq"),function(a){var b=this.Rq;b!==a&&(u&&w.i(a,of,S,"rotateAdornmentTemplate"),this.Rq=a,this.j("rotateAdornmentTemplate",b,a))});w.g(S,"rotateObjectName",S.prototype.nE);
w.defineProperty(S,{nE:"rotateObjectName"},t("Sq"),function(a){var b=this.Sq;b!==a&&(u&&w.k(a,"string",S,"rotateObjectName"),this.Sq=a,this.Kl=n,this.j("rotateObjectName",b,a))});w.u(S,{TH:"rotateObject"},function(){if(this.Kl===n){var a=this.nE;a!==n&&""!==a?(a=this.Ne(a),this.Kl=a!==n?a:this):this.Kl=this}return this.Kl});w.g(S,"text",S.prototype.text);w.defineProperty(S,{text:"text"},t("Ld"),function(a){var b=this.Ld;b!==a&&(u&&w.k(a,"string",S,"text"),this.Ld=a,this.j("text",b,a))});
w.g(S,"containingGroup",S.prototype.cb);
w.defineProperty(S,{cb:"containingGroup"},t("fk"),function(a){if(this.ae()){var b=this.fk;if(b!==a){u&&a!==n&&w.i(a,vf,S,"containingGroup");if(a!==n&&(this===a||a.hs(this)))this===a&&w.m("Cannot make a Group a member of itself: "+this.toString()),w.m("Cannot make a Group indirectly contain itself: "+this.toString()+" already contains "+a.toString());this.F(Qi);var c=this.h;b!==n?Ml(b,this):this instanceof vf&&c!==n&&c.Ml.remove(this);this.fk=a;a!==n?Nl(a,this):this instanceof vf&&c!==n&&c.Ml.add(this);
this.F(Li);if(c!==n){var d=this.data,e=c.V;d!==n&&e instanceof O&&e.Vz(d,e.mb(a!==n?a.data:n))}d=this.Vy;d!==n&&(e=h,c!==n&&(e=c.La,c.La=h),d(this,b,a),c!==n&&(c.La=e));if(this instanceof vf){c=new ma(S);nf(c,this,h,q);for(c=c.l;c.next();)if(d=c.value,d instanceof T)for(d=d.ve;d.next();)e=d.value,Ti(e)}if(this instanceof T)for(d=this.ve;d.next();)e=d.value,Ti(e);this.j("containingGroup",b,a);a!==n&&a.dw()}}else w.m("cannot set the Part.containingGroup of a Link or Adornment")});
function tj(a){a=a.cb;a!==n&&(a.R(),a.qb!==n&&a.qb.R(),a.Qg())}S.prototype.ds=function(){var a=this.fk;a!==n&&Nl(a,this)};S.prototype.es=function(){var a=this.fk;a!==n&&Ml(a,this)};S.prototype.Xl=function(){var a=this.data;if(a!==n){var b=this.h;b!==n&&(b=b.V,b!==n&&b.dE(a))}};w.g(S,"containingGroupChanged",S.prototype.Vy);
w.defineProperty(S,{Vy:"containingGroupChanged"},t("ap"),function(a){var b=this.ap;b!==a&&(a!==n&&w.k(a,"function",S,"containingGroupChanged"),this.ap=a,this.j("containingGroupChanged",b,a))});w.u(S,{rM:"topLevelPart"},function(){return Ol(this,this)});S.prototype.findTopLevelPart=S.prototype.AK=function(){return Ol(this,this)};function Ol(a,b){var c=b.cb;return c!==n?Ol(a,c):b instanceof T&&(c=b.yd,c!==n)?Ol(a,c):b}
w.u(S,{js:"isTopLevel"},function(){return this.cb!==n||this instanceof T&&this.Ki?q:h});S.prototype.isMemberOf=S.prototype.hs=function(a){return!(a instanceof vf)?q:Pl(this,this,a)};function Pl(a,b,c){if(b===c||c===n)return q;var d=b.cb;return d!==n&&(d===c||Pl(a,d,c))?h:b instanceof T&&(b=b.yd,b!==n)?Pl(a,b,c):q}S.prototype.findCommonContainingGroup=S.prototype.yG=function(a){return Ql(this,this,a)};
function Ql(a,b,c){if(b===n||c===n)return n;var d=b.cb;if(d===n)return n;if(b===c)return d;var e=c.cb;return e===n?n:d===e?e:Pl(a,c,d)?d:Pl(a,b,e)?e:Ql(a,d,e)}w.g(S,"isLayoutPositioned",S.prototype.qz);w.defineProperty(S,{qz:"isLayoutPositioned"},t("Op"),function(a){var b=this.Op;b!==a&&(u&&w.k(a,"boolean",S,"isLayoutPositioned"),this.Op=a,this.j("isLayoutPositioned",b,a),this.F(a?Sj:Tj))});w.g(S,"layoutConditions",S.prototype.yD);
w.defineProperty(S,{yD:"layoutConditions"},t("$p"),function(a){var b=this.$p;b!==a&&(u&&w.k(a,"number",S,"layoutConditions"),this.$p=a,this.j("layoutConditions",b,a))});S.prototype.canLayout=S.prototype.Hr=function(){if(!this.qz||!this.hb())return q;var a=this.Oa;return a!==n&&a.zc||this instanceof T&&this.Ki?q:h};
S.prototype.invalidateLayout=S.prototype.F=function(a){a===f&&(a=16777215);var b;!this.qz||0===(a&this.yD)?b=q:(b=this.Oa,b!==n&&b.zc||this instanceof T&&this.Ki?b=q:(b=this.h,b=b!==n&&b.sa.tb?q:h));if(b)if(b=this.fk,b!==n){var c=b.Pb;c!==n?c.F():b.F(a)}else a=this.h,a!==n&&(c=a.Pb,c!==n&&c.F())};w.g(S,"dragComputation",S.prototype.bz);
w.defineProperty(S,{bz:"dragComputation"},t("pp"),function(a){var b=this.pp;b!==a&&(a!==n&&w.k(a,"function",S,"dragComputation"),this.pp=a,this.j("dragComputation",b,a))});w.g(S,"isShadowed",S.prototype.io);w.defineProperty(S,{io:"isShadowed"},t("Jf"),function(a){var b=this.Jf;b!==a&&(u&&w.k(a,"boolean",S,"isShadowed"),this.Jf=a,vj(this),this.j("isShadowed",b,a))});w.g(S,"shadowOffset",S.prototype.ZH);
w.defineProperty(S,{ZH:"shadowOffset"},t("on"),function(a){var b=this.on;b.I(a)||(u&&w.i(a,F,S,"shadowOffset"),this.on=a=a.O(),vj(this),this.j("shadowOffset",b,a))});w.g(S,"shadowColor",S.prototype.shadowColor);w.defineProperty(S,{shadowColor:"shadowColor"},t("nn"),function(a){var b=this.nn;b!==a&&(u&&w.k(a,"string",S,"shadowColor"),this.nn=a,vj(this),this.j("shadowColor",b,a))});w.g(S,"shadowBlur",S.prototype.shadowBlur);
w.defineProperty(S,{shadowBlur:"shadowBlur"},t("mn"),function(a){var b=this.mn;b!==a&&(u&&w.k(a,"number",S,"shadowBlur"),this.mn=a,vj(this),this.j("shadowBlur",b,a))});function of(a){0===arguments.length?S.call(this,jh):S.call(this,a);this.Od="Adornment";this.Ja=n;this.ln=q;this.ej=new F(NaN,NaN);this.Oh=new z(G);this.mh=n;this.Vc=(new z(F)).freeze();this.Nu=new F;this.qb=n}w.Q("Adornment",of);w.Ea(of,S);da=of.prototype;
da.toString=function(){var a=this.Hk;return"Adornment("+this.Mc+")"+(a!==n?a.toString():"")};da.Xh=function(){return this.Ja&&this.Ja.ca instanceof U?this.Ja.ca.Xh():n};da.Ep=ca(n);da.Lv=function(){var a=this.Cc.ca,b=this.Cc;if(a instanceof U&&b instanceof V){var c=a.path,b=c.Ha;a.Lv();for(var b=c.Ha,a=this.Ga,c=a.length,d=0;d<c;d++){var e=a.n[d];e.Li&&e instanceof V&&(e.Ha=b)}}};da.nx=function(){var a=this.Hk;return a instanceof U?a.Vc:n};w.u(of,{placeholder:"placeholder"},t("qb"));
w.g(of,"adornedObject",of.prototype.Cc);w.defineProperty(of,{Cc:"adornedObject"},t("Ja"),function(a){u&&a!==n&&w.i(a,P,S,"adornedObject:val");var b=this.Hk,c=n;a!==n&&(c=a.ca);b!==n&&(a===n||b!==c)&&b.cl(this.Mc);this.Ja=a;c&&c.Fk(this.Mc,this)});w.u(of,{Hk:"adornedPart"},function(){var a=this.Ja;return a!==n?a.ca:n});of.prototype.Wk=function(){var a=this.Ja;if(a===n)return h;a=a.ca;return a===n||!a.Jc};of.prototype.ae=ca(q);w.u(of,{cb:"containingGroup"},ca(n));
of.prototype.km=function(a,b,c,d,e,g,i){if(a===ie&&"elements"===b)if(e instanceof dh)this.qb===n?this.qb=e:this.qb!==e&&w.m("Cannot insert a second Placeholder into the visual tree of an Adornment.");else{if(e instanceof x){var j=Wk(e,e,function(a){return a instanceof dh});j instanceof dh&&(this.qb===n?this.qb=j:this.qb!==j&&w.m("Cannot insert a second Placeholder into the visual tree of an Adornment."))}}else a===je&&"elements"===b&&(d===this.qb?this.qb=n:d instanceof x&&this.qb.Ji(d)&&(this.qb=
n));S.prototype.km.call(this,a,b,c,d,e,g,i)};of.prototype.updateAdornments=of.prototype.Pi=aa();of.prototype.Xl=aa();function T(a){0===arguments.length?S.call(this,jh):S.call(this,a);this.dd=new z(U);this.Vm=this.eq=this.dq=n;this.Up=h;this.yr=q;this.tr=n;this.Xo=this.Vp=h;this.Yo=(new hb(2)).freeze();this.ed=this.Xg=n}w.Q("Node",T);w.Ea(T,S);T.prototype.xb=function(a){S.prototype.xb.call(this,a);a.dq=this.dq;a.eq=this.eq;a.Up=this.Up;a.yr=this.yr;a.tr=this.tr;a.Vp=this.Vp;a.Xo=this.Xo;a.Yo.Va(this.Yo)};
T.prototype.Ah=function(a){S.prototype.Ah.call(this,a);a.Qg();a.Xg=this.Xg;a.ed=n};var Rl;T.DirectionDefault=Rl=w.s(T,"DirectionDefault",0);T.DirectionAbsolute=w.s(T,"DirectionAbsolute",1);var Sl;T.DirectionRotatedNode=Sl=w.s(T,"DirectionRotatedNode",2);var hj;T.DirectionRotatedNodeOrthogonal=hj=w.s(T,"DirectionRotatedNodeOrthogonal",3);function Tl(a,b){b!==n&&(a.Xg==n&&(a.Xg=new ma(Ul)),a.Xg.add(b))}
T.prototype.km=function(a,b,c,d,e,g,i){a===ie&&"elements"===b?this.ed=n:a===je&&"elements"===b&&(this.h===n?this.ed=n:d instanceof P&&Vk(this,d,function(a,b){Wj(a,b,h)}));S.prototype.km.call(this,a,b,c,d,e,g,i)};T.prototype.invalidateConnectedLinks=T.prototype.Qg=function(a){a===f&&(a=n);for(var b=this.ve;b.next();){var c=b.value;if(!(a!==n&&a.contains(c))){var d=c.Oc;d!==n&&(d.Kd=n);var e=c.Bd;e!==n&&e!==d&&(e.Kd=n);c.Tb()}}};T.prototype.Wk=ca(h);w.g(T,"avoidable",T.prototype.Jy);
w.defineProperty(T,{Jy:"avoidable"},t("Xo"),function(a){var b=this.Xo;if(b!==a){u&&w.k(a,"boolean",T,"avoidable");this.Xo=a;var c=this.h;c!==n&&bj(c,this);this.j("avoidable",b,a)}});w.g(T,"avoidableMargin",T.prototype.iC);w.defineProperty(T,{iC:"avoidableMargin"},t("Yo"),function(a){"number"===typeof a?a=new hb(a):w.i(a,hb,T,"avoidableMargin");var b=this.Yo;if(!b.I(a)){this.Yo=a=a.O();var c=this.h;c!==n&&bj(c,this);this.j("avoidableMargin",b,a)}});
T.prototype.canAvoid=T.prototype.II=function(){return this.Jy&&!this.Ki};T.prototype.getAvoidableRectangle=T.prototype.FK=function(a){a===f&&(a=new G);a.set(this.va);a.En(this.iC);return a};function Il(a){for(;a!==n&&!a.hb();)a=a.cb;return a}w.u(T,{ve:"linksConnected"},function(){return this.dd.l});
T.prototype.findLinksConnected=T.prototype.zG=function(a){a===f&&(a=n);if(a===n)return this.dd.l;u&&w.k(a,"string",T,"findLinksConnected:pid");var b=new Ja(this.dd),c=this;b.Sv=function(b){return b.ga===c&&b.Fi===a||b.la===c&&b.Oj===a};return b};T.prototype.findLinksOutOf=T.prototype.Sr=function(a){a===f&&(a=n);var b=new Ja(this.dd),c=this;b.Sv=function(b){return b.ga!==c?q:a===n?h:b.Fi===a};return b};
T.prototype.findLinksInto=T.prototype.Af=function(a){a===f&&(a=n);var b=new Ja(this.dd),c=this;b.Sv=function(b){return b.la!==c?q:a===n?h:b.Oj===a};return b};
T.prototype.findNodesConnected=T.prototype.NC=function(a){a===f&&(a=n);for(var b=n,c=n,d=this.dd.l;d.next();){var e=d.value;if(e.ga===this){if(a===n||e.Fi===a)e=e.la,b!==n?b.add(e):c!==n&&c!==e?(b=new ma(T),b.add(c),b.add(e)):c=e}else if(e.la===this&&(a===n||e.Oj===a))e=e.ga,b!==n?b.add(e):c!==n&&c!==e?(b=new ma(T),b.add(c),b.add(e)):c=e}return b!==n?b.l:c!==n?new Ia(c):w.Gf};
T.prototype.findNodesOutOf=T.prototype.PC=function(a){a===f&&(a=n);for(var b=n,c=n,d=this.dd.l;d.next();){var e=d.value;if(e.ga===this&&(a===n||e.Fi===a))e=e.la,b!==n?b.add(e):c!==n&&c!==e?(b=new ma(T),b.add(c),b.add(e)):c=e}return b!==n?b.l:c!==n?new Ia(c):w.Gf};
T.prototype.findNodesInto=T.prototype.OC=function(a){a===f&&(a=n);for(var b=n,c=n,d=this.dd.l;d.next();){var e=d.value;if(e.la===this&&(a===n||e.Oj===a))e=e.ga,b!==n?b.add(e):c!==n&&c!==e?(b=new ma(T),b.add(c),b.add(e)):c=e}return b!==n?b.l:c!==n?new Ia(c):w.Gf};w.g(T,"linkConnected",T.prototype.zD);w.defineProperty(T,{zD:"linkConnected"},t("dq"),function(a){var b=this.dq;b!==a&&(a!==n&&w.k(a,"function",T,"linkConnected"),this.dq=a,this.j("linkConnected",b,a))});w.g(T,"linkDisconnected",T.prototype.AD);
w.defineProperty(T,{AD:"linkDisconnected"},t("eq"),function(a){var b=this.eq;b!==a&&(a!==n&&w.k(a,"function",T,"linkDisconnected"),this.eq=a,this.j("linkDisconnected",b,a))});function Vl(a,b,c){if(!a.dd.contains(b)){a.dd.add(b);var d=a.zD;if(d!==n){var e=h,g=a.h;g!==n&&(e=g.La,g.La=h);d(a,b,c);g!==n&&(g.La=e)}a.Hj&&(c=h,g=a.h,g!==n&&(c=g.Xc),c?b.ga===a&&(a.Hj=q):b.la===a&&(a.Hj=q))}}
function Wl(a,b,c){if(a.dd.remove(b)){var d=a.AD,e=a.h;if(d!==n){var g=h;e!==n&&(g=e.La,e.La=h);d(a,b,c);e!==n&&(e.La=g)}!a.Hj&&!(e!==n&&e.sa.tb)&&(b=a.dd.count,0===b?a.Hj=h:1===b&&Yi(a))}}function Yi(a){if(0!==a.dd.count){var b=h,c=a.h;c!==n&&(b=c.Xc);for(c=a.dd.l;c.next();){var d=c.value;if(b){if(d.ga===a){a.Hj=q;return}}else if(d.la===a){a.Hj=q;return}}a.Hj=h}}T.prototype.ds=function(){S.prototype.ds.call(this);Yi(this);var a=this.Vm;a!==n&&Xl(a,this)};
T.prototype.es=function(){S.prototype.es.call(this);var a=this.Vm;a!==n&&a.Fe!==n&&(a.Fe.remove(this),a.R())};T.prototype.Xl=function(){if(0<this.dd.count){var a=this.h;if(a===n)return;for(var b=this.dd.copy().l;b.next();)a.remove(b.value)}S.prototype.Xl.call(this)};w.u(T,{Ki:"isLinkLabel"},function(){return this.Vm!==n});w.g(T,"labeledLink",T.prototype.yd);
w.defineProperty(T,{yd:"labeledLink"},t("Vm"),function(a){var b=this.Vm;if(b!==a){u&&a!==n&&w.i(a,U,T,"labeledLink");var c=this.h,d=this.data;if(b!==n&&(b.Fe!==n&&(b.Fe.remove(this),b.R()),c!==n&&d!==n)){var e=b.data,g=c.V;if(e!==n&&g instanceof O){var i=g.mb(d);i!==f&&g.LH(e,i)}}this.Vm=a;a!==n&&(Xl(a,this),c!==n&&d!==n&&(e=a.data,g=c.V,e!==n&&g instanceof O&&(i=g.mb(d),i!==f&&g.YB(e,i))));Aj(this);this.j("labeledLink",b,a)}});
T.prototype.findPort=T.prototype.Vr=function(a){u&&w.k(a,"string",T,"findPort:pid");this.ed===n&&Xj(this);if(this.ed!==n){var b=this.ed.qa(a);if(b!==n)return b}if(""!==a&&this.ed!==n&&(b=this.ed.qa(""),b!==n))return b;this.ed===n&&Xj(this);return this};w.u(T,{port:"port"},function(){return this.Vr("")});w.u(T,{ports:"ports"},function(){this.ed===n&&Xj(this);return this.ed!==n?this.ed.l:w.Gf});function Xj(a){a.ed!==n&&a.ed.clear();Vk(a,a,function(a,c){Yj(a,c)})}
function Yj(a,b){var c=b.We;c!==n&&(a.ed===n&&(a.ed=new ka("string",P)),a.ed.add(c,b))}function Wj(a,b,c){var d=b.We;if(d!==n&&(a.ed!==n&&a.ed.remove(d),b=a.h,b!==n&&c)){c=n;for(a=a.zG(d);a.next();)c===n&&(c=[]),c.push(a.value);if(c!==n)for(a=0;a<c.length;a++)b.remove(c[a])}}
T.prototype.isInTreeOf=T.prototype.hL=function(a){if(a===n||a===this)return q;var b=h,c=this.h;c!==n&&(b=c.Xc);if(b)a:{for(b=this;b!==a;){for(var c=n,d=b.Af();d.next()&&!(c=d.value.ga,c!==b););if(c===n){a=q;break a}b=c}a=h}else a:{for(b=this;b!==a;){c=n;for(d=b.Sr();d.next()&&!(c=d.value.la,c!==b););if(c===n){a=q;break a}b=c}a=h}return a};
T.prototype.findTreeParentLink=T.prototype.xv=function(){var a=h,b=this.h;b!==n&&(a=b.Xc);b=this.dd.l;if(a)for(;b.next();){if(a=b.value,a.ga!==this)return a}else for(;b.next();)if(a=b.value,a.la!==this)return a;return n};T.prototype.findTreeParentNode=T.prototype.RC=function(){var a=h,b=this.h;b!==n&&(a=b.Xc);b=this.dd.l;if(a)for(;b.next();){if(a=b.value,a=a.ga,a!==this)return a}else for(;b.next();)if(a=b.value,a=a.la,a!==this)return a;return n};
T.prototype.findTreeChildrenLinks=T.prototype.wv=function(){var a=h,b=this.h;b!==n&&(a=b.Xc);return a?this.Sr():this.Af()};
T.prototype.findTreeChildrenNodes=T.prototype.BK=function(){var a=h,b=this.h;b!==n&&(a=b.Xc);var c=b=n,d=this.dd.l;if(a)for(;d.next();)a=d.value,a.ga===this&&(a=a.la,b!==n?b.add(a):c!==n&&c!==a?(b=new z(T),b.add(c),b.add(a)):c=a);else for(;d.next();)a=d.value,a.la===this&&(a=a.ga,b!==n?b.add(a):c!==n&&c!==a?(b=new z(T),b.add(c),b.add(a)):c=a);return b!==n?b.l:c!==n?new Ia(c):w.Gf};T.prototype.findTreeParts=T.prototype.CK=function(){var a=new ma(S);nf(a,this,q,h);return a};
T.prototype.collapseTree=T.prototype.dv=function(){var a=this.h;if(a!==n&&!a.ag){a.ag=h;var b=a.Xc,c=new ma(T);c.add(this);Yl(this,c,b);a.ag=q}};function Yl(a,b,c){a.be=q;for(var d=c?a.Sr():a.Af();d.next();){var e=d.value,g=e.$C(a);g!==n&&(g!==a&&!b.contains(g))&&(b.add(g),vj(e),e.yh(),vj(g),g.yh(),tj(g),g.F(Tj),g.be&&(g.kw=g.be,Yl(g,b,c)))}}T.prototype.expandTree=T.prototype.sv=function(){var a=this.h;if(a!==n&&!a.ag){a.ag=h;var b=a.Xc,c=new ma(T);c.add(this);Zl(this,c,b);a.ag=q}};
function Zl(a,b,c){a.be=h;for(var d=c?a.Sr():a.Af();d.next();){var e=d.value,g=e.$C(a);g!==n&&(g!==a&&!b.contains(g))&&(b.add(g),vj(e),e.Pi(),vj(g),g.Pi(),tj(g),g.F(Sj),g.kw&&(g.kw=q,Zl(g,b,c)))}}w.g(T,"isTreeExpanded",T.prototype.be);
w.defineProperty(T,{be:"isTreeExpanded"},t("Up"),function(a){var b=this.Up;if(b!==a){u&&w.k(a,"boolean",T,"isTreeExpanded");this.Up=a;var c=this.h;c!==n&&Nh(c);this.j("isTreeExpanded",b,a);b=this.QE;if(b!==n){var d=h;c!==n&&(d=c.La,c.La=h);b(this);c!==n&&(c.La=d)}c!==n&&c.sa.tb||(a?this.sv():this.dv())}});w.g(T,"wasTreeExpanded",T.prototype.kw);
w.defineProperty(T,{kw:"wasTreeExpanded"},t("yr"),function(a){var b=this.yr;b!==a&&(u&&w.k(a,"boolean",T,"wasTreeExpanded"),this.yr=a,this.j("wasTreeExpanded",b,a))});w.g(T,"treeExpandedChanged",T.prototype.QE);w.defineProperty(T,{QE:"treeExpandedChanged"},t("tr"),function(a){var b=this.tr;b!==a&&(a!==n&&w.k(a,"function",T,"treeExpandedChanged"),this.tr=a,this.j("treeExpandedChanged",b,a))});w.g(T,"isTreeLeaf",T.prototype.Hj);
w.defineProperty(T,{Hj:"isTreeLeaf"},t("Vp"),function(a){var b=this.Vp;b!==a&&(u&&w.k(a,"boolean",T,"isTreeLeaf"),this.Vp=a,this.j("isTreeLeaf",b,a))});
function U(){S.call(this,Ug);this.If=n;this.ah="";this.Cp=n;this.dh=Hb;this.$g=NaN;this.Zg=Rl;this.bh=NaN;this.Uf=n;this.uh="";this.sr=n;this.wh=Hb;this.th=NaN;this.sh=Rl;this.vh=NaN;this.Jq=this.Iq=q;this.So=ij;this.cp=0;this.ep=ij;this.fp=NaN;this.jn=nk;this.fr=0.5;this.mh=this.Fe=n;this.Vc=(new z(F)).freeze();this.Ig=n;this.ui=q;this.Ux=n;this.un=q;this.ll=this.Uh=this.Ha=n;this.ze=0;this.Oh=new z(G);this.Nu=new F;this.LB=this.JB=n;this.Sw=q}w.Q("Link",U);w.Ea(U,S);
U.prototype.xb=function(a){S.prototype.xb.call(this,a);a.ah=this.ah;a.Cp=this.Cp;a.dh=this.dh.O();a.$g=this.$g;a.Zg=this.Zg;a.bh=this.bh;a.uh=this.uh;a.sr=this.sr;a.wh=this.wh.O();a.th=this.th;a.sh=this.sh;a.vh=this.vh;a.Iq=this.Iq;a.Jq=this.Jq;a.So=this.So;a.cp=this.cp;a.ep=this.ep;a.fp=this.fp;a.jn=this.jn;a.fr=this.fr};U.prototype.Ah=function(a){S.prototype.Ah.call(this,a);this.ah=a.ah;this.uh=a.uh;a.mh=n;a.Ig=n;a.Tb();a.ll=this.ll;a.ze=this.ze};var nk;U.Normal=nk=w.s(U,"Normal",1);var gk;
U.Orthogonal=gk=w.s(U,"Orthogonal",2);var $f;U.AvoidsNodes=$f=w.s(U,"AvoidsNodes",3);var ij;U.None=ij=w.s(U,"None",0);var hk;U.Bezier=hk=w.s(U,"Bezier",9);var ik;U.JumpGap=ik=w.s(U,"JumpGap",10);var jk;U.JumpOver=jk=w.s(U,"JumpOver",11);var kk;U.End=kk=w.s(U,"End",17);var lk;U.Scale=lk=w.s(U,"Scale",18);var mk;U.Stretch=mk=w.s(U,"Stretch",19);var hl;U.OrientAlong=hl=w.s(U,"OrientAlong",21);var $l;U.OrientPlus90=$l=w.s(U,"OrientPlus90",22);var am;U.OrientMinus90=am=w.s(U,"OrientMinus90",23);var bm;
U.OrientOpposite=bm=w.s(U,"OrientOpposite",24);var cm;U.OrientUpright=cm=w.s(U,"OrientUpright",25);var dm;U.OrientPlus90Upright=dm=w.s(U,"OrientPlus90Upright",26);var em;U.OrientMinus90Upright=em=w.s(U,"OrientMinus90Upright",27);var fm;U.OrientUpright45=fm=w.s(U,"OrientUpright45",28);U.prototype.Wk=function(){var a=this.ga;if(a!==n&&(a.Jc||a.$i))return q;a=this.la;return a!==n&&(a.Jc||a.$i)?q:h};U.prototype.ae=ca(q);
function Uk(a,b){var c;switch(a){default:case ij:c=0;break;case hl:c=b;break;case $l:c=b+90;break;case am:c=b-90;break;case bm:c=b+180;break;case cm:c=dd(b);90<c&&270>c&&(c-=180);break;case dm:c=dd(b+90);90<c&&270>c&&(c-=180);break;case em:c=dd(b-90);90<c&&270>c&&(c-=180);break;case fm:c=dd(b);if(45<c&&135>c||225<c&&315>c)return 0;90<c&&270>c&&(c-=180)}return dd(c)}w.g(U,"fromNode",U.prototype.ga);
w.defineProperty(U,{ga:"fromNode"},t("If"),function(a){var b=this.If;if(b!==a){u&&a!==n&&w.i(a,T,U,"fromNode");var c=this.Oc;b!==n&&(this.Uf!==b&&Wl(b,this,c),c!==n&&(c.Kd=n),gm(this),b.F(Qi));this.If=a;this.Uh=n;this.Tb();var d=this.h;if(d!==n){var e=this.data,g=d.V;if(e!==n)if(g instanceof O){var i=a!==n?a.data:n;g.bw(e,g.mb(i))}else g instanceof De&&(i=a!==n?a.data:n,d.Xc?g.Df(e,g.mb(i)):(b!==n&&g.Df(b.data,f),g.Df(i,g.mb(this.Uf!==n?this.Uf.data:n))))}e=this.Oc;g=this.gz;g!==n&&(i=h,d!==n&&(i=
d.La,d.La=h),g(this,c,e),d!==n&&(d.La=i));a!==n&&(this.Uf!==a&&Vl(a,this,e),e!==n&&(e.Kd=n),hm(this),a.F(Li));this.j("fromNode",b,a);Ti(this)}});w.g(U,"fromPortId",U.prototype.Fi);
w.defineProperty(U,{Fi:"fromPortId"},t("ah"),function(a){var b=this.ah;if(b!==a){u&&w.k(a,"string",U,"fromPortId");var c=this.Oc;c!==n&&(c.Kd=n);gm(this);this.ah=a;var d=this.Oc;d!==n&&(d.Kd=n);var e=this.h;if(e!==n){var g=this.data,i=e.V;g!==n&&i instanceof O&&i.Es(g,a)}c!==d&&(this.Uh=n,this.Tb(),g=this.gz,g!==n&&(i=h,e!==n&&(i=e.La,e.La=h),g(this,c,d),e!==n&&(e.La=i)));hm(this);this.j("fromPortId",b,a)}});w.u(U,{Oc:"fromPort"},function(){var a=this.If;return a===n?n:a.Vr(this.ah)});
w.g(U,"fromPortChanged",U.prototype.gz);w.defineProperty(U,{gz:"fromPortChanged"},t("Cp"),function(a){var b=this.Cp;b!==a&&(a!==n&&w.k(a,"function",U,"fromPortChanged"),this.Cp=a,this.j("fromPortChanged",b,a))});w.g(U,"toNode",U.prototype.la);
w.defineProperty(U,{la:"toNode"},t("Uf"),function(a){var b=this.Uf;if(b!==a){u&&a!==n&&w.i(a,T,U,"toNode");var c=this.Bd;b!==n&&(this.If!==b&&Wl(b,this,c),c!==n&&(c.Kd=n),gm(this),b.F(Qi));this.Uf=a;this.Uh=n;this.Tb();var d=this.h;if(d!==n){var e=this.data,g=d.V;if(e!==n)if(g instanceof O){var i=a!==n?a.data:n;g.cw(e,g.mb(i))}else g instanceof De&&(i=a!==n?a.data:n,d.Xc?(b!==n&&g.Df(b.data,f),g.Df(i,g.mb(this.If!==n?this.If.data:n))):g.Df(e,g.mb(i)))}e=this.Bd;g=this.dA;g!==n&&(i=h,d!==n&&(i=d.La,
d.La=h),g(this,c,e),d!==n&&(d.La=i));a!==n&&(this.If!==a&&Vl(a,this,e),e!==n&&(e.Kd=n),hm(this),a.F(Li));this.j("toNode",b,a);Ti(this)}});w.g(U,"toPortId",U.prototype.Oj);
w.defineProperty(U,{Oj:"toPortId"},t("uh"),function(a){var b=this.uh;if(b!==a){u&&w.k(a,"string",U,"toPortId");var c=this.Bd;c!==n&&(c.Kd=n);gm(this);this.uh=a;var d=this.Bd;d!==n&&(d.Kd=n);var e=this.h;if(e!==n){var g=this.data,i=e.V;g!==n&&i instanceof O&&i.Fs(g,a)}c!==d&&(this.Uh=n,this.Tb(),g=this.dA,g!==n&&(i=h,e!==n&&(i=e.La,e.La=h),g(this,c,d),e!==n&&(e.La=i)));hm(this);this.j("toPortId",b,a)}});w.u(U,{Bd:"toPort"},function(){var a=this.Uf;return a===n?n:a.Vr(this.uh)});
w.g(U,"toPortChanged",U.prototype.dA);w.defineProperty(U,{dA:"toPortChanged"},t("sr"),function(a){var b=this.sr;b!==a&&(a!==n&&w.k(a,"function",U,"toPortChanged"),this.sr=a,this.j("toPortChanged",b,a))});w.g(U,"fromSpot",U.prototype.lb);w.defineProperty(U,{lb:"fromSpot"},t("dh"),function(a){var b=this.dh;b.I(a)||(u&&w.i(a,H,U,"fromSpot"),this.dh=a=a.O(),this.j("fromSpot",b,a),this.Tb())});w.g(U,"fromEndSegmentLength",U.prototype.Sk);
w.defineProperty(U,{Sk:"fromEndSegmentLength"},t("$g"),function(a){var b=this.$g;b!==a&&(u&&w.k(a,"number",U,"fromEndSegmentLength"),0>a&&w.ra(a,">= 0",U,"fromEndSegmentLength"),this.$g=a,this.j("fromEndSegmentLength",b,a),this.Tb())});w.g(U,"fromEndSegmentDirection",U.prototype.Yr);w.defineProperty(U,{Yr:"fromEndSegmentDirection"},t("Zg"),function(a){var b=this.Zg;b!==a&&(u&&w.kb(a,T,U,"fromEndSegmentDirection"),this.Zg=a,this.j("fromEndSegmentDirection",b,a),this.Tb())});
w.g(U,"fromShortLength",U.prototype.Zr);w.defineProperty(U,{Zr:"fromShortLength"},t("bh"),function(a){var b=this.bh;b!==a&&(u&&w.k(a,"number",U,"fromShortLength"),this.bh=a,this.j("fromShortLength",b,a),this.Tb())});w.g(U,"toSpot",U.prototype.ob);w.defineProperty(U,{ob:"toSpot"},t("wh"),function(a){var b=this.wh;b.I(a)||(u&&w.i(a,H,U,"toSpot"),this.wh=a=a.O(),this.j("toSpot",b,a),this.Tb())});w.g(U,"toEndSegmentLength",U.prototype.fl);
w.defineProperty(U,{fl:"toEndSegmentLength"},t("th"),function(a){var b=this.th;b!==a&&(u&&w.k(a,"number",U,"toEndSegmentLength"),0>a&&w.ra(a,">= 0",U,"toEndSegmentLength"),this.th=a,this.j("toEndSegmentLength",b,a),this.Tb())});w.g(U,"toEndSegmentDirection",U.prototype.Ls);w.defineProperty(U,{Ls:"toEndSegmentDirection"},t("sh"),function(a){var b=this.sh;b!==a&&(u&&w.kb(a,T,U,"toEndSegmentDirection"),this.sh=a,this.j("toEndSegmentDirection",b,a),this.Tb())});w.g(U,"toShortLength",U.prototype.Ms);
w.defineProperty(U,{Ms:"toShortLength"},t("vh"),function(a){var b=this.vh;b!==a&&(u&&w.k(a,"number",U,"toShortLength"),this.vh=a,this.j("toShortLength",b,a),this.Tb())});function Ti(a){var b=a.ga,c=a.la;b!==n&&c!==n?im(a,b.yG(c)):im(a,n)}function im(a,b){var c=a.fk;if(c!==b){c!==n&&Ml(c,a);a.fk=b;b!==n&&Nl(b,a);var d=a.Vy;if(d!==n){var e=h,g=a.h;g!==n&&(e=g.La,g.La=h);d(a,c,b);g!==n&&(g.La=e)}a.ui&&(a.JB===c||a.LB===c)&&a.Tb()}}
U.prototype.getOtherNode=U.prototype.$C=function(a){u&&w.i(a,T,U,"getOtherNode:node");var b=this.ga;return a===b?this.la:b};U.prototype.getOtherPort=U.prototype.LK=function(a){u&&w.i(a,P,U,"getOtherPort:port");var b=this.Oc;return a===b?this.Bd:b};w.u(U,{iL:"isLabeledLink"},function(){return this.Fe===n?q:0<this.Fe.count});w.u(U,{Ij:"labelNodes"},function(){return this.Fe===n?w.Gf:this.Fe.l});function Xl(a,b){a.Fe===n&&(a.Fe=new ma(T));a.Fe.add(b);a.R()}
U.prototype.ds=function(){S.prototype.ds.call(this);jm(this)&&Vg(this,this.va);var a=this.If,b=this.Uf;if(a!==n){var c=this.Oc;c!==n&&(c.Kd=n);Vl(a,this,c);hm(this)}b!==n&&(c=this.Bd,c!==n&&(c.Kd=n),Vl(b,this,c),hm(this))};U.prototype.es=function(){S.prototype.es.call(this);jm(this)&&Vg(this,this.va);var a=this.If,b=this.Uf;if(a!==n){var c=this.Oc;c!==n&&(c.Kd=n);Wl(a,this,c);gm(this)}b!==n&&(c=this.Bd,c!==n&&(c.Kd=n),Wl(b,this,c),gm(this))};
U.prototype.Xl=function(){if(this.Fe!==n){var a=this.h;if(a===n)return;for(var b=this.Fe.copy().l;b.next();)a.remove(b.value)}b=this.data;b!==n&&(a=this.h,a!==n&&(a=a.V,a instanceof O?a.MH(b):a instanceof De&&a.Df(b,f)))};U.prototype.move=U.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;S.prototype.move.call(this,a);this.Yk(c,b);for(a=this.Ij;a.next();){var d=a.value,e=d.position;d.move(new F(e.x+c,e.y+b))}};w.g(U,"relinkableFrom",U.prototype.ZD);
w.defineProperty(U,{ZD:"relinkableFrom"},t("Iq"),function(a){var b=this.Iq;b!==a&&(u&&w.k(a,"boolean",U,"relinkableFrom"),this.Iq=a,this.j("relinkableFrom",b,a))});w.g(U,"relinkableTo",U.prototype.$D);w.defineProperty(U,{$D:"relinkableTo"},t("Jq"),function(a){var b=this.Jq;b!==a&&(u&&w.k(a,"boolean",U,"relinkableTo"),this.Jq=a,this.j("relinkableTo",b,a))});U.prototype.canRelinkFrom=U.prototype.bJ=function(){if(!this.ZD)return q;var a=this.Oa;if(a!==n&&!a.uj)return q;a=a.h;return a!==n&&!a.uj?q:h};
U.prototype.canRelinkTo=U.prototype.cJ=function(){if(!this.$D)return q;var a=this.Oa;if(a!==n&&!a.uj)return q;a=a.h;return a!==n&&!a.uj?q:h};w.u(U,{path:"path"},function(){var a=this.mh;if(a!==n)return a;a=this.Ga;a=Ej(this,a,a.length);return a instanceof V?this.mh=a:n});U.prototype.Ep=t("path");U.prototype.nx=t("Vc");U.prototype.Xh=function(){this.updateRoute();var a=this.oe();return this.Ux=a};
U.prototype.oe=function(){var a=Infinity,b=Infinity,c=this.ja,d;if(0===c)return new G(NaN,NaN,0,0);if(1===c)c=this.p(0),a=Math.min(c.x,a),b=Math.min(c.y,b),d=new G(c.x,c.y,0,0);else if(2===c){d=this.p(0);var e=this.p(1),a=Math.min(d.x,e.x),b=Math.min(d.y,e.y);d=new G(d,e)}else if(this.iv()===hk&&3<=c&&!this.fc)if(e=this.p(0),a=e.x,b=e.y,d=new G(a,b,0,0),3===c){var c=this.p(1),a=Math.min(c.x,a),b=Math.min(c.y,b),g=this.p(2),a=Math.min(g.x,a),b=Math.min(g.y,b);wc(e.x,e.y,c.x,c.y,c.x,c.y,g.x,g.y,0.5,
d)}else for(var i,j,k=3;k<c;k+=3)i=this.p(k-2),k+3>=c&&(k=c-1),j=this.p(k-1),g=this.p(k),wc(e.x,e.y,i.x,i.y,j.x,j.y,g.x,g.y,0.5,d),a=Math.min(g.x,a),b=Math.min(g.y,b),e=g;else{d=this.p(0);e=this.p(1);a=Math.min(d.x,e.x);b=Math.min(d.y,e.y);d=new G(d,e);for(k=2;k<c;k++)e=this.p(k),a=Math.min(e.x,a),b=Math.min(e.y,b),d.hw(e)}this.Nu.U(a-d.x,b-d.y);return d};w.u(U,{KD:"midPoint"},function(){this.updateRoute();return km(this)});
function km(a){var b=a.ja;if(0===b)return qc;if(1===b)return a.p(0);if(2===b){var c=a.p(0),d=a.p(1);return new F((c.x+d.x)/2,(c.y+d.y)/2)}if(a.iv()===hk&&3<=b&&!a.fc){if(3===b)return a.p(1);var c=(b-1)/3|0,e=3*(c/2|0);if(1===c%2){var c=a.p(e),d=a.p(e+1),g=a.p(e+2),a=a.p(e+3),e=new F,b=d.x,i=d.y,d=g.x,j=g.y,g=(b+d)/2,k=(i+j)/2,i=((c.y+i)/2+k)/2,j=(k+(j+a.y)/2)/2;e.x=(((c.x+b)/2+g)/2+(g+(d+a.x)/2)/2)/2;e.y=(i+j)/2;return e}return a.p(e)}e=0;g=[];for(i=0;i<b-1;i++)c=a.p(i),d=a.p(i+1),Ta(c.x,d.x)?(c=
d.y-c.y,0>c&&(c=-c)):Ta(c.y,d.y)?(c=d.x-c.x,0>c&&(c=-c)):c=Math.sqrt(c.Yl(d)),g.push(c),e+=c;for(d=i=c=0;c<e/2&&i<b;){d=g[i];if(c+d>e/2)break;c+=d;i++}b=a.p(i);a=a.p(i+1);if(b.x===a.x)return b.y>a.y?new F(b.x,b.y-(e/2-c)):new F(b.x,b.y+(e/2-c));if(b.y===a.y)return b.x>a.x?new F(b.x-(e/2-c),b.y):new F(b.x+(e/2-c),b.y);c=(e/2-c)/d;return new F(b.x+c*(a.x-b.x),b.y+c*(a.y-b.y))}w.u(U,{JD:"midAngle"},function(){this.updateRoute();return lm(this)});
function lm(a){var b=a.ja;if(2>b)return NaN;if(a.iv()===hk&&4<=b&&!a.fc){var c=(b-1)/3|0,d=3*(c/2|0);if(1===c%2){var d=Math.floor(d),b=a.p(d),e=a.p(d+1),c=a.p(d+2),a=a.p(d+3),d=e.x,e=e.y,g=c.x,c=c.y,i=(d+g)/2,j=(e+c)/2;return ab(((b.x+d)/2+i)/2,((b.y+e)/2+j)/2,(i+(g+a.x)/2)/2,(j+(c+a.y)/2)/2)}if(0<d&&d+1<b)return b=a.p(d-1),e=a.p(d+1),b.Ai(e)}c=b/2|0;if(0===b%2)return b=a.p(c-1),e=a.p(c),b.Ai(e);b=a.p(c-1);e=a.p(c);c=a.p(c+1);a=b.Yl(e);d=e.Yl(c);return a>d?b.Ai(e):e.Ai(c)}w.g(U,"points",U.prototype.points);
w.defineProperty(U,{points:"points"},t("Vc"),function(a){u&&w.i(a,z,U,"points");var b=this.Vc;if(b!==a&&a!==n){for(var c=a.l;c.next();){var d=c.value;d.freeze()}a.freeze();this.Vc=a.copy();this.$f();mm(this);for(var c=a.count,e=new z,g=0;g<c;g++)d=a.n[g],e.add(d.copy());this.j("points",b,e)}});w.u(U,{ja:"pointsCount"},function(){return this.Vc.count});U.prototype.getPoint=U.prototype.p=function(a){return this.Vc.n[a]};
U.prototype.setPoint=U.prototype.J=function(a,b){u&&(w.i(b,F,U,"setPoint"),b.P()||w.m("Link.setPoint called with a Point that does not have real numbers: "+b.toString()));this.Ig===n&&w.m("Call Link.startRoute before modifying the points of the route.");this.Vc.aw(a,b)};
U.prototype.insertPoint=U.prototype.A=function(a,b){u&&(w.i(b,F,U,"insertPoint"),b.P()||w.m("Link.insertPoint called with a Point that does not have real numbers: "+b.toString()));this.Ig===n&&w.m("Call Link.startRoute before modifying the points of the route.");this.Vc.yc(a,b)};
U.prototype.addPoint=U.prototype.vd=function(a){u&&(w.i(a,F,U,"addPoint"),a.P()||w.m("Link.addPoint called with a Point that does not have real numbers: "+a.toString()));this.Ig===n&&w.m("Call Link.startRoute before modifying the points of the route.");this.Vc.add(a)};U.prototype.removePoint=U.prototype.eE=function(a){this.Ig===n&&w.m("Call Link.startRoute before modifying the points of the route.");this.Vc.Xe(a)};
U.prototype.clearPoints=U.prototype.Qn=function(){this.Ig===n&&w.m("Call Link.startRoute before modifying the points of the route.");this.Vc.clear()};U.prototype.movePoints=U.prototype.Yk=function(a,b){for(var c=new z(F),d=this.Vc.l;d.next();){var e=d.value;c.add(new F(e.x+a,e.y+b))}this.points=c};U.prototype.startRoute=U.prototype.el=function(){if(this.Ig===n){for(var a=new z(F),b=this.Vc.l;b.next();)a.add(b.value.O());this.Ig=a;this.Vc.Ia()}};
U.prototype.commitRoute=U.prototype.yi=function(){if(this.Ig!==n){for(var a=this.Ig,b=Infinity,c=Infinity,d=a.count,e=0;e<d;e++)var g=a.n[e],b=Math.min(g.x,b),c=Math.min(g.y,c);for(var i=Infinity,j=Infinity,k=this.Vc,l=k.count,e=0;e<l;e++)g=k.n[e],i=Math.min(g.x,i),j=Math.min(g.y,j);if(l===d)for(e=0;e<l;e++)if(g=a.n[e],d=k.n[e],g.x-b!==d.x-i||g.y-c!==d.y-j){this.$f();break}this.Ig=n;this.Vc.freeze();mm(this);b=new z(F);for(e=0;e<l;e++)g=k.n[e],b.add(g.copy());this.j("points",a,b)}};
U.prototype.rollbackRoute=U.prototype.QH=function(){this.Ig=n};function mm(a){0===a.Vc.count?a.ui=q:(a.ui=h,nm(a,q))}U.prototype.invalidateRoute=U.prototype.Tb=function(){if(!this.un&&(!this.h||!this.h.sa.tb)&&this.hb()){this.ui=q;this.$f();var a=this.Ep();a!==n&&a.R()}};U.prototype.updateRoute=U.prototype.gA=function(){if(!this.ui&&!this.Sw){var a=h;try{this.Sw=h,this.el(),a=this.computePoints()}finally{this.Sw=q,a?this.yi():this.QH()}}};
U.prototype.computePoints=U.prototype.wJ=function(){var a=this.ga,b=n,b=a===n?n:this.Oc;if(b!==n){var c=Zj(b);if(c===a||!a.hb()){var d=Il(a);d!==n&&d!==a?(a=d,b=d.Vr("")):a=d}else b=c}this.JB=a;if(a===n||b===n||!a.location.P())return q;var e=this.la,g=n,g=e===n?n:this.Bd;if(g!==n){var i=Zj(g);if(i===e||!e.hb()){var j=Il(e);j!==n&&j!==e?(e=j,g=j.Vr("")):e=j}else g=i}this.LB=e;if(e===n||g===n||!e.location.P())return q;var k=this.ja,l=om(this,b),m=pm(this,g),p=b===g,r=this.fc,s=this.xf===hk;this.Uh=
p&&!r?s=h:q;var v=this.Wu===ij||p;if(!r&&l===Gb&&m===Gb&&!p){var y=q;if(!v&&3<=k)var C=this.getLinkPoint(a,b,Gb,h,q,e,g),E=this.getLinkPoint(e,g,Gb,q,q,a,b),y=qm(this,0,C,k-1,E);if(!y)if(this.Qn(),s){var I=a,D=b,M=e,N=g,Z=this.getLinkPoint(I,D,Gb,h,q,M,N),va=this.getLinkPoint(M,N,Gb,q,q,I,D),la=va.x-Z.x,ta=va.y-Z.y,Ea=this.computeCurviness(),Ha=0,cb=0,rb=Z.x+la/3,Xa=Z.y+ta/3,Na=rb,gb=Xa;Ua(ta,0)?gb=0<la?gb-Ea:gb+Ea:(Ha=-la/ta,cb=Math.sqrt(Ea*Ea/(Ha*Ha+1)),0>Ea&&(cb=-cb),Na=(0>ta?-1:1)*cb+rb,gb=Ha*
(Na-rb)+Xa);var rb=Z.x+2*la/3,Xa=Z.y+2*ta/3,Ya=rb,nb=Xa;Ua(ta,0)?nb=0<la?nb-Ea:nb+Ea:(Ya=(0>ta?-1:1)*cb+rb,nb=Ha*(Ya-rb)+Xa);this.Qn();this.vd(Z);this.vd(new F(Na,gb));this.vd(new F(Ya,nb));this.vd(va);this.J(0,this.getLinkPoint(I,D,Gb,h,q,M,N));this.J(3,this.getLinkPoint(M,N,Gb,q,q,I,D))}else{var vd=a,me=b,Nd=e,Ub=g,Fc=this.getLinkPoint(vd,me,Gb,h,q,Nd,Ub),ae=this.getLinkPoint(Nd,Ub,Gb,q,q,vd,me);if(this.hasCurviness()){var oe=ae.x-Fc.x,Rf=ae.y-Fc.y,Vc=this.computeCurviness(),yd=Fc.x+oe/2,cc=Fc.y+
Rf/2,Sf=yd,Mc=cc;if(Ua(Rf,0))Mc=0<oe?Mc-Vc:Mc+Vc;else{var Pe=-oe/Rf,pf=Math.sqrt(Vc*Vc/(Pe*Pe+1));0>Vc&&(pf=-pf);Sf=(0>Rf?-1:1)*pf+yd;Mc=Pe*(Sf-yd)+cc}this.vd(Fc);this.vd(new F(Sf,Mc))}else this.vd(Fc);this.vd(ae)}}else{var qf=this.Fh===$f;v&&(r&&qf||p)&&this.Qn();var Wc=this.computeCurviness(),Nc=this.getLinkPoint(a,b,l,h,r,e,g),Qe=0,ce=0,Mb=0;if(r||l!==Gb||p){var de=this.getEndSegmentLength(a,b,l,h),Mb=this.getLinkDirection(a,b,Nc,l,h,r,e,g);p&&(Mb-=r?90:30,0>Wc&&(Mb-=180));0>Mb?Mb+=360:360<=Mb&&
(Mb-=360);p&&(de+=Math.abs(Wc));0===Mb?Qe=de:90===Mb?ce=de:180===Mb?Qe=-de:270===Mb?ce=-de:(Qe=de*Math.cos(Mb*Math.PI/180),ce=de*Math.sin(Mb*Math.PI/180));if(zb(l)&&p)var pe=b.Ab(Ob),Nc=this.getLinkPointFromPoint(a,b,pe,new F(pe.x+1E3*Qe,pe.y+1E3*ce),h)}var lc=this.getLinkPoint(e,g,m,q,r,a,b),wb=0,Xc=0,Nb=0;if(r||m!==Gb||p){var Qd=this.getEndSegmentLength(e,g,m,q),Nb=this.getLinkDirection(e,g,lc,m,q,r,a,b);p&&(Nb+=r?0:30,0>Wc&&(Nb+=180));0>Nb?Nb+=360:360<=Nb&&(Nb-=360);p&&(Qd+=Math.abs(Wc));0===Nb?
wb=Qd:90===Nb?Xc=Qd:180===Nb?wb=-Qd:270===Nb?Xc=-Qd:(wb=Qd*Math.cos(Nb*Math.PI/180),Xc=Qd*Math.sin(Nb*Math.PI/180));zb(m)&&p&&(pe=g.Ab(Ob),lc=this.getLinkPointFromPoint(e,g,pe,new F(pe.x+1E3*wb,pe.y+1E3*Xc),q))}var qe=Nc;if(r||l!==Gb||p)qe=new F(Nc.x+Qe,Nc.y+ce);var Cb=lc;if(r||m!==Gb||p)Cb=new F(lc.x+wb,lc.y+Xc);if(v||r||!zb(l)||!(3<k&&qm(this,0,Nc,k-2,Cb)))if(!v&&!r&&zb(m)&&3<k&&qm(this,1,qe,k-1,lc))this.J(0,Nc);else if(!v&&!r&&4<k&&qm(this,1,qe,k-2,Cb))this.J(0,Nc),this.J(k-1,lc);else if(!v&&r&&
6<=k&&!qf&&qm(this,1,qe,k-2,Cb))this.J(0,Nc),this.J(k-1,lc);else{this.Qn();this.vd(Nc);(r||l!==Gb||p)&&this.vd(qe);if(r){var R=qe,Vb=Mb,Q=Cb,ha=Nb,Ab=a,Fb=e,Vb=-45<=Vb&&45>Vb?0:45<=Vb&&135>Vb?90:135<=Vb&&225>Vb?180:270,ha=-45<=ha&&45>ha?0:45<=ha&&135>ha?90:135<=ha&&225>ha?180:270,Ga=Ab.va.copy(),oa=Fb.va.copy();if(Ga.P()&&oa.P()){Ga.Pg(8,8);oa.Pg(8,8);Ga.hw(R);oa.hw(Q);var Aa,Pa;if(0===Vb)if(Q.x>R.x||270===ha&&Q.y<R.y&&oa.right>R.x||90===ha&&Q.y>R.y&&oa.right>R.x)Aa=new F(Q.x,R.y),Pa=new F(Q.x,(R.y+
Q.y)/2),180===ha?(Aa.x=rm(this,R.x,Q.x),Pa.x=Aa.x,Pa.y=Q.y):270===ha&&Q.y<R.y||90===ha&&Q.y>R.y?(Aa.x=R.x<oa.left?rm(this,R.x,oa.left):R.x<oa.right&&(270===ha&&R.y<oa.top||90===ha&&R.y>oa.bottom)?rm(this,R.x,Q.x):oa.right,Pa.x=Aa.x,Pa.y=Q.y):0===ha&&(R.x<oa.left&&R.y>oa.top&&R.y<oa.bottom)&&(Aa.x=R.x,Aa.y=R.y<Q.y?Math.min(Q.y,oa.top):Math.max(Q.y,oa.bottom),Pa.y=Aa.y);else{Aa=new F(R.x,Q.y);Pa=new F((R.x+Q.x)/2,Q.y);if(180===ha||90===ha&&Q.y<Ga.top||270===ha&&Q.y>Ga.bottom){if(180===ha&&(oa.ua(R)||
Ga.ua(Q)))Aa.y=rm(this,R.y,Q.y);else if(Q.y<R.y&&(180===ha||90===ha))Aa.y=rm(this,Ga.top,Math.max(Q.y,oa.bottom));else if(Q.y>R.y&&(180===ha||270===ha))Aa.y=rm(this,Ga.bottom,Math.min(Q.y,oa.top));Pa.x=Q.x;Pa.y=Aa.y}if(Aa.y>Ga.top&&Aa.y<Ga.bottom)if(Q.x>=Ga.left&&Q.x<=R.x||R.x<=oa.right&&R.x>=Q.x){if(90===ha||270===ha)Aa=new F(Math.max((R.x+Q.x)/2,R.x),R.y),Pa=new F(Aa.x,Q.y)}else Aa.y=270===ha||(0===ha||180===ha)&&Q.y<R.y?Math.min(Q.y,0===ha?Ga.top:Math.min(Ga.top,oa.top)):Math.max(Q.y,0===ha?Ga.bottom:
Math.max(Ga.bottom,oa.bottom)),Pa.x=Q.x,Pa.y=Aa.y}else if(180===Vb)if(Q.x<R.x||270===ha&&Q.y<R.y&&oa.left<R.x||90===ha&&Q.y>R.y&&oa.left<R.x)Aa=new F(Q.x,R.y),Pa=new F(Q.x,(R.y+Q.y)/2),0===ha?(Aa.x=rm(this,R.x,Q.x),Pa.x=Aa.x,Pa.y=Q.y):270===ha&&Q.y<R.y||90===ha&&Q.y>R.y?(Aa.x=R.x>oa.right?rm(this,R.x,oa.right):R.x>oa.left&&(270===ha&&R.y<oa.top||90===ha&&R.y>oa.bottom)?rm(this,R.x,Q.x):oa.left,Pa.x=Aa.x,Pa.y=Q.y):180===ha&&(R.x>oa.right&&R.y>oa.top&&R.y<oa.bottom)&&(Aa.x=R.x,Aa.y=R.y<Q.y?Math.min(Q.y,
oa.top):Math.max(Q.y,oa.bottom),Pa.y=Aa.y);else{Aa=new F(R.x,Q.y);Pa=new F((R.x+Q.x)/2,Q.y);if(0===ha||90===ha&&Q.y<Ga.top||270===ha&&Q.y>Ga.bottom){if(0===ha&&(oa.ua(R)||Ga.ua(Q)))Aa.y=rm(this,R.y,Q.y);else if(Q.y<R.y&&(0===ha||90===ha))Aa.y=rm(this,Ga.top,Math.max(Q.y,oa.bottom));else if(Q.y>R.y&&(0===ha||270===ha))Aa.y=rm(this,Ga.bottom,Math.min(Q.y,oa.top));Pa.x=Q.x;Pa.y=Aa.y}if(Aa.y>Ga.top&&Aa.y<Ga.bottom)if(Q.x<=Ga.right&&Q.x>=R.x||R.x>=oa.left&&R.x<=Q.x){if(90===ha||270===ha)Aa=new F(Math.min((R.x+
Q.x)/2,R.x),R.y),Pa=new F(Aa.x,Q.y)}else Aa.y=270===ha||(0===ha||180===ha)&&Q.y<R.y?Math.min(Q.y,180===ha?Ga.top:Math.min(Ga.top,oa.top)):Math.max(Q.y,180===ha?Ga.bottom:Math.max(Ga.bottom,oa.bottom)),Pa.x=Q.x,Pa.y=Aa.y}else if(90===Vb)if(Q.y>R.y||180===ha&&Q.x<R.x&&oa.bottom>R.y||0===ha&&Q.x>R.x&&oa.bottom>R.y)Aa=new F(R.x,Q.y),Pa=new F((R.x+Q.x)/2,Q.y),270===ha?(Aa.y=rm(this,R.y,Q.y),Pa.x=Q.x,Pa.y=Aa.y):180===ha&&Q.x<R.x||0===ha&&Q.x>R.x?(Aa.y=R.y<oa.top?rm(this,R.y,oa.top):R.y<oa.bottom&&(180===
ha&&R.x<oa.left||0===ha&&R.x>oa.right)?rm(this,R.y,Q.y):oa.bottom,Pa.x=Q.x,Pa.y=Aa.y):90===ha&&(R.y<oa.top&&R.x>oa.left&&R.x<oa.right)&&(Aa.x=R.x<Q.x?Math.min(Q.x,oa.left):Math.max(Q.x,oa.right),Aa.y=R.y,Pa.x=Aa.x);else{Aa=new F(Q.x,R.y);Pa=new F(Q.x,(R.y+Q.y)/2);if(270===ha||0===ha&&Q.x<Ga.left||180===ha&&Q.x>Ga.right){if(270===ha&&(oa.ua(R)||Ga.ua(Q)))Aa.x=rm(this,R.x,Q.x);else if(Q.x<R.x&&(270===ha||0===ha))Aa.x=rm(this,Ga.left,Math.max(Q.x,oa.right));else if(Q.x>R.x&&(270===ha||180===ha))Aa.x=
rm(this,Ga.right,Math.min(Q.x,oa.left));Pa.x=Aa.x;Pa.y=Q.y}if(Aa.x>Ga.left&&Aa.x<Ga.right)if(Q.y>=Ga.top&&Q.y<=R.y||R.y<=oa.bottom&&R.y>=Q.y){if(0===ha||180===ha)Aa=new F(R.x,Math.max((R.y+Q.y)/2,R.y)),Pa=new F(Q.x,Aa.y)}else Aa.x=180===ha||(90===ha||270===ha)&&Q.x<R.x?Math.min(Q.x,90===ha?Ga.left:Math.min(Ga.left,oa.left)):Math.max(Q.x,90===ha?Ga.right:Math.max(Ga.right,oa.right)),Pa.x=Aa.x,Pa.y=Q.y}else if(Q.y<R.y||180===ha&&Q.x<R.x&&oa.top<R.y||0===ha&&Q.x>R.x&&oa.top<R.y)Aa=new F(R.x,Q.y),Pa=
new F((R.x+Q.x)/2,Q.y),90===ha?(Aa.y=rm(this,R.y,Q.y),Pa.x=Q.x,Pa.y=Aa.y):180===ha&&Q.x<R.x||0===ha&&Q.x>=R.x?(Aa.y=R.y>oa.bottom?rm(this,R.y,oa.bottom):R.y>oa.top&&(180===ha&&R.x<oa.left||0===ha&&R.x>oa.right)?rm(this,R.y,Q.y):oa.top,Pa.x=Q.x,Pa.y=Aa.y):270===ha&&(R.y>oa.bottom&&R.x>oa.left&&R.x<oa.right)&&(Aa.x=R.x<Q.x?Math.min(Q.x,oa.left):Math.max(Q.x,oa.right),Aa.y=R.y,Pa.x=Aa.x);else{Aa=new F(Q.x,R.y);Pa=new F(Q.x,(R.y+Q.y)/2);if(90===ha||0===ha&&Q.x<Ga.left||180===ha&&Q.x>Ga.right){if(90===
ha&&(oa.ua(R)||Ga.ua(Q)))Aa.x=rm(this,R.x,Q.x);else if(Q.x<R.x&&(90===ha||0===ha))Aa.x=rm(this,Ga.left,Math.max(Q.x,oa.right));else if(Q.x>R.x&&(90===ha||180===ha))Aa.x=rm(this,Ga.right,Math.min(Q.x,oa.left));Pa.x=Aa.x;Pa.y=Q.y}if(Aa.x>Ga.left&&Aa.x<Ga.right)if(Q.y<=Ga.bottom&&Q.y>=R.y||R.y>=oa.top&&R.y<=Q.y){if(0===ha||180===ha)Aa=new F(R.x,Math.min((R.y+Q.y)/2,R.y)),Pa=new F(Q.x,Aa.y)}else Aa.x=180===ha||(90===ha||270===ha)&&Q.x<R.x?Math.min(Q.x,270===ha?Ga.left:Math.min(Ga.left,oa.left)):Math.max(Q.x,
270===ha?Ga.right:Math.max(Ga.right,oa.right)),Pa.x=Aa.x,Pa.y=Q.y}var Yc;var xc=Vb,ld=Aa,xb=Pa,Zc=ha;if(this.Fh!==$f)Yc=q;else{var Ib=this.h;if(Ib===n||Ga.ua(Q)||oa.ua(R)||Ab===Fb||this.Oa.zc)Yc=q;else{var eb;Ib.ud===n&&(Ib.ud=new sm);var yc=this!==n?this.cb:n;if(Ib.ud.fs||Ib.ud.group!==yc){if(yc===n){var Re,re;if(Ib.Zh)if(Ib.Xr.P()){var zd=Ib.Xr.copy();zd.En(Ib.padding);re=zd}else{for(var rf,Tf=h,kg=Ib.ib,se=kg.length,Rd=0;Rd<se;Rd++){var te=kg.n[Rd];if(te.visible&&!te.zc)for(var Ad=te.Nb,Se=Ad.length,
Wb=0;Wb<Se;Wb++){var Oc=Ad.n[Wb];if(Oc.Fv&&Oc.hb()){var ue=Oc.va;ue.P()&&(Tf?(Tf=q,rf=ue.copy()):rf.Ni(ue))}}}Tf&&(rf=new G(0,0,0,0));rf.En(Ib.padding);re=rf}else re=Ib.wc.copy();Re=re;Re.Pg(100,100);Ib.ud.initialize(Re);for(var $c=Ib.al;$c.next();){var Te=$c.value,ve=Te.Oa;ve===n||(!ve.visible||ve.zc)||$i(Ib,Te,n)}}else{var Sd=yc.va.copy();Sd.Pg(20,20);Ib.ud.initialize(Sd);for(var Td=yc.Gc;Td.next();){var we=Td.value;we instanceof T&&$i(Ib,we,n)}}Ib.ud.group=yc;Ib.ud.fs=q}else tm(Ib.ud);eb=Ib.ud;
if(um(eb,Math.min(R.x,ld.x),Math.min(R.y,ld.y),Math.abs(R.x-ld.x),Math.abs(R.y-ld.y))&&um(eb,Math.min(ld.x,xb.x),Math.min(ld.y,xb.y),Math.abs(ld.x-xb.x),Math.abs(ld.y-xb.y))&&um(eb,Math.min(xb.x,Q.x),Math.min(xb.y,Q.y),Math.abs(xb.x-Q.x),Math.abs(xb.y-Q.y)))Yc=q;else{var yb=Ga.copy().Ni(oa);yb.Pg(2*eb.Sl,2*eb.Rl);vm(eb,R,xc,Q,Zc,yb);var Bd=wm(eb,Q.x,Q.y);if(!eb.abort&&Bd===xm){tm(eb);var lb=eb.xE;yb.Pg(eb.Sl*lb,eb.Rl*lb);vm(eb,R,xc,Q,Zc,yb);Bd=wm(eb,Q.x,Q.y)}!eb.abort&&Bd===xm&&(tm(eb),lb=eb.wD,yb.Pg(eb.Sl*
lb,eb.Rl*lb),vm(eb,R,xc,Q,Zc,yb),Bd=wm(eb,Q.x,Q.y));!eb.abort&&(Bd===xm&&eb.WE)&&(tm(eb),vm(eb,R,xc,Q,Zc,eb.Fb),Bd=wm(eb,Q.x,Q.y));if(!eb.abort&&Bd<xm&&0!==wm(eb,Q.x,Q.y)){ym(this,eb,Q.x,Q.y,Zc,h);var Bb=this.p(2);if(4>this.ja)0===xc||180===xc?(Bb.x=R.x,Bb.y=Q.y):(Bb.x=Q.x,Bb.y=R.y),this.J(2,Bb),this.A(3,Bb);else{var zc=this.p(3);if(0===xc||180===xc)if(Ua(Bb.x,zc.x)){var wa=0===xc?Math.max(Bb.x,R.x):Math.min(Bb.x,R.x);this.J(2,new F(wa,R.y));this.J(3,new F(wa,zc.y))}else Ua(Bb.y,zc.y)?(Math.abs(R.y-
Bb.y)<=eb.Rl/2&&(this.J(2,new F(Bb.x,R.y)),this.J(3,new F(zc.x,R.y))),this.A(2,new F(Bb.x,R.y))):this.J(2,new F(R.x,Bb.y));else if(90===xc||270===xc)if(Ua(Bb.y,zc.y)){var ya=90===xc?Math.max(Bb.y,R.y):Math.min(Bb.y,R.y);this.J(2,new F(R.x,ya));this.J(3,new F(zc.x,ya))}else Ua(Bb.x,zc.x)?(Math.abs(R.x-Bb.x)<=eb.Sl/2&&(this.J(2,new F(R.x,Bb.y)),this.J(3,new F(R.x,zc.y))),this.A(2,new F(R.x,Bb.y))):this.J(2,new F(Bb.x,R.y))}Yc=h}else Yc=q}}}Yc||(this.vd(Aa),this.vd(Pa))}}(r||m!==Gb||p)&&this.vd(Cb);
this.vd(lc)}}return h};function zm(a,b){Math.abs(b.x-a.x)>Math.abs(b.y-a.y)?(b.x=b.x>=a.x?a.x+9E9:a.x-9E9,b.y=a.y):(b.y=b.y>=a.y?a.y+9E9:a.y-9E9,b.x=a.x);return b}
U.prototype.getLinkPointFromPoint=U.prototype.KK=function(a,b,c,d){if(a===n||b===n)return c;if(!a.hb()){var e=Il(a);e!==n&&e!==a&&(b=e.port)}var g,a=n;if(b.fa===n)e=d.x,d=d.y,g=c.x,c=c.y;else{a=b.fa.je;e=1/(a.m11*a.m22-a.m12*a.m21);g=a.m22*e;var i=-a.m12*e,j=-a.m21*e,k=a.m11*e,l=e*(a.m21*a.dy-a.m22*a.dx),m=e*(a.m12*a.dx-a.m11*a.dy),e=d.x*g+d.y*j+l,d=d.x*i+d.y*k+m;g=c.x*g+c.y*j+l;c=c.x*i+c.y*k+m}i=new F;b.$r(e,d,g,c,i);a&&i.transform(a);return i};
function Am(a,b){var c=a.Kd;c===n&&(c=new Bm,c.port=a,c.Ug=a.ca,a.Kd=c);return Cm(c,b)}U.prototype.getLinkPoint=U.prototype.JK=function(a,b,c,d,e,g,i){if(tb(c))return c=b.Ab(c);if(ub(c)&&(c=Am(b,this),c!==n))return c=c.po;c=b.Ab(Ob);this.ja>(e?6:2)?(i=d?this.p(1):this.p(this.ja-2),e&&(i=zm(c,i.copy()))):(i=i.Ab(Ob),e&&(i=zm(c,i)));return this.getLinkPointFromPoint(a,b,c,i,d)};
U.prototype.getLinkDirection=U.prototype.IK=function(a,b,c,d,e,g,i,j){a:if(tb(d))c=d.x>d.y?d.x>1-d.y?0:d.x<1-d.y?270:315:d.x<d.y?d.x>1-d.y?90:d.x<1-d.y?180:135:0.5>d.x?225:0.5<d.x?45:0;else{if(ub(d)&&(d=Am(b,this),d!==n))switch(d.fe){case w.md:c=270;break a;case w.Rc:c=180;break a;default:case w.bd:c=0;break a;case w.ad:c=90;break a}d=b.Ab(Ob);this.ja>(g?6:2)?(j=e?this.p(1):this.p(this.ja-2),j=g?zm(d,j.copy()):c):j=j.Ab(Ob);c=Math.abs(j.x-d.x)>Math.abs(j.y-d.y)?j.x>=d.x?0:180:j.y>=d.y?90:270}g=Rl;
g=e?this.Yr:this.Ls;g===Rl&&(g=e?b.Yr:b.Ls);switch(g){case Sl:a=a.angle;c+=a;360<=c&&(c-=360);break;case Rl:case hj:a=a.angle;if(0===a)break;45<=a&&135>a?c+=90:135<=a&&225>a?c+=180:225<=a&&315>a&&(c+=270);360<=c&&(c-=360)}return c};U.prototype.getEndSegmentLength=U.prototype.HK=function(a,b,c,d){if(ub(c)&&(a=Am(b,this),a!==n))return a.qv;a=NaN;a=d?this.Sk:this.fl;isNaN(a)&&(a=d?b.Sk:b.fl);isNaN(a)&&(a=10);return a};
U.prototype.computeSpot=U.prototype.qC=function(a){return a?om(this,this.Oc):pm(this,this.Bd)};function om(a,b){var c=a.lb;Eb(c)&&(b===f&&(b=a.Oc),b!==n&&(c=b.lb));return c===Hb?Gb:c}function pm(a,b){var c=a.ob;Eb(c)&&(b===f&&(b=a.Bd),b!==n&&(c=b.ob));return c===Hb?Gb:c}U.prototype.computeShortLength=U.prototype.AJ=function(a){return a?Dm(this):Em(this)};function Dm(a){var b=a.Zr;isNaN(b)&&(a=a.Oc,a!==n&&(b=a.Zr));return isNaN(b)?0:b}
function Em(a){var b=a.Ms;isNaN(b)&&(a=a.Bd,a!==n&&(b=a.Ms));return isNaN(b)?0:b}w.u(U,{fc:"isOrthogonal"},function(){var a=this.jn;return a===gk||a===$f});U.prototype.computeCurve=U.prototype.iv=function(){if(this.Uh===n){var a=this.fc;this.Uh=this.Oc===this.Bd&&!a}return this.Uh?hk:this.xf};function Fm(a){if(a.xf===hk)return 0;a=a.xC;if(isNaN(a)||0>a)a=10;return a}
U.prototype.computeCurviness=U.prototype.qJ=function(){var a=this.Wy;if(isNaN(a)){var b=this.ze;if(0!==b){var c=this.ll,a=c!==n?c.spacing:10,c=Math.abs(b),a=a/2+((c-1)/2|0)*a;0===c%2&&(a=-a);0>b&&(a=-a)}else a=10}return a};U.prototype.hasCurviness=U.prototype.SK=function(){return!isNaN(this.Wy)||0!==this.ze&&!this.fc};
function qm(a,b,c,d,e){var g=a.Wu;if(a.fc){if(g===lk)return q;g===mk&&(g=kk)}switch(g){case lk:var i=a.p(b),j=a.p(d);if(!i.I(c)||!j.I(e)){var g=i.x,i=i.y,k=j.x-g,l=j.y-i,m=Math.sqrt(k*k+l*l);if(!Ua(m,0)){var p;Ua(k,0)?p=0>l?-Math.PI/2:Math.PI/2:(p=Math.atan(l/Math.abs(k)),0>k&&(p=Math.PI-p));var j=c.x,r=c.y,k=e.x-j,s=e.y-r,l=Math.sqrt(k*k+s*s);Ua(k,0)?s=0>s?-Math.PI/2:Math.PI/2:(s=Math.atan(s/Math.abs(k)),0>k&&(s=Math.PI-s));m=l/m;p=s-p;a.J(b,c);for(b+=1;b<d;b++)c=a.p(b),k=c.x-g,l=c.y-i,c=Math.sqrt(k*
k+l*l),Ua(c,0)||(Ua(k,0)?l=0>l?-Math.PI/2:Math.PI/2:(l=Math.atan(l/Math.abs(k)),0>k&&(l=Math.PI-l)),k=l+p,c*=m,a.J(b,new F(j+c*Math.cos(k),r+c*Math.sin(k))));a.J(d,e)}}return h;case mk:i=a.p(b);r=a.p(d);if(!i.I(c)||!r.I(e)){g=i.x;i=i.y;j=r.x;r=r.y;m=(j-g)*(j-g)+(r-i)*(r-i);k=c.x;p=c.y;var l=e.x,s=e.y,v=0,y=1,v=0!==l-k?(s-p)/(l-k):9E9;0!==v&&(y=Math.sqrt(1+1/(v*v)));a.J(b,c);for(b+=1;b<d;b++){var c=a.p(b),C=c.x,E=c.y,I=0.5;0!==m&&(I=((g-C)*(g-j)+(i-E)*(i-r))/m);var D=g+I*(j-g),M=i+I*(r-i),c=Math.sqrt((C-
D)*(C-D)+(E-M)*(E-M));E<v*(C-D)+M&&(c=-c);0<v&&(c=-c);C=k+I*(l-k);I=p+I*(s-p);0!==v?(c=C+c/y,a.J(b,new F(c,I-(c-C)/v))):a.J(b,new F(C,I+c))}a.J(d,e)}return h;case kk:return a.fc&&(g=a.p(b+1),i=a.p(b+2),Ua(g.x,i.x)&&!Ua(g.y,i.y)?a.J(b+1,new F(g.x,c.y)):Ua(g.y,i.y)&&a.J(b+1,new F(c.x,g.y)),g=a.p(d-1),i=a.p(d-2),Ua(g.x,i.x)&&!Ua(g.y,i.y)?a.J(d-1,new F(g.x,e.y)):Ua(g.y,i.y)&&a.J(d-1,new F(e.x,g.y))),a.J(b,c),a.J(d,e),h;default:return q}}
function rm(a,b,c){return a.hasCurviness()?(a=a.computeCurviness(),(b+c)/2+a):(b+c)/2}
function ym(a,b,c,d,e,g){var i=b.Sl,j=b.Rl,k=wm(b,c,d),l=c,m=d;for(0===e?l+=i:90===e?m+=j:180===e?l-=i:m-=j;k>Gm&&wm(b,l,m)===k-Hm;)c=l,d=m,0===e?l+=i:90===e?m+=j:180===e?l-=i:m-=j,k-=Hm;if(g){if(k>Gm)if(180===e||0===e)c=Math.floor(c/i)*i+i/2;else if(90===e||270===e)d=Math.floor(d/j)*j+j/2}else c=Math.floor(c/i)*i+i/2,d=Math.floor(d/j)*j+j/2;k>Gm&&(g=e,l=c,m=d,0===e?(g=90,m+=j):90===e?(g=180,l-=i):180===e?(g=270,m-=j):270===e&&(g=0,l+=i),wm(b,l,m)===k-Hm?ym(a,b,l,m,g,q):(l=c,m=d,0===e?(g=270,m-=j):
90===e?(g=0,l+=i):180===e?(g=90,m+=j):270===e&&(g=180,l-=i),wm(b,l,m)===k-Hm&&ym(a,b,l,m,g,q)));a.vd(new F(c,d))}U.prototype.findClosestSegment=U.prototype.qK=function(a){u&&w.i(a,F,U,"findClosestSegment:p");for(var b=a.x,a=a.y,c=this.p(0),d=this.p(1),e=$a(b,a,c.x,c.y,d.x,d.y),g=0,i=1;i<this.ja-1;i++){var c=this.p(i+1),j=$a(b,a,d.x,d.y,c.x,c.y),d=c;j<e&&(g=i,e=j)}return g};U.prototype.invalidateGeometry=U.prototype.$f=function(){this.mh=this.Ha=n;this.R()};
w.u(U,{Wc:"geometry"},function(){this.Ha===n&&(this.updateRoute(),this.Ha=Im(this));return this.Ha});U.prototype.Lv=function(){if(this.Ha===n&&this.ui!==q){this.Ha=Im(this);var a=this.Ep();if(a!==n){a.Ha=this.Ha;for(var b=this.Ga,c=b.length,d=0;d<c;d++){var e=b.n[d];e!==a&&(e.Li&&e instanceof V)&&(e.Ha=this.Ha)}}}};
function Im(a){var b=a.ja;if(2>b){var a=new hd(id),c=new jd(0,0);a.sb.add(c);return a}var d,e=a.p(0).copy(),g=new F(Infinity,Infinity);g.x=Math.min(e.x,g.x);g.y=Math.min(e.y,g.y);var i=a.iv();if(i===hk&&3<=b&&!Ta(a.Hs,0))if(3===b){var j=a.p(1),c=Math.min(e.x,j.x);d=Math.min(e.y,j.y);j=a.p(2);c=Math.min(c,j.x);d=Math.min(d,j.y)}else{if(a.fc)for(j=0;j<b;j++)c=a.Vc.n[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);else for(var k,j=3;j<b;j+=3)j+3>=b&&(j=b-1),k=a.p(j),g.x=Math.min(k.x,g.x),g.y=Math.min(k.y,
g.y);c=g.x;d=g.y}else{for(j=0;j<b;j++)c=a.Vc.n[j],g.x=Math.min(c.x,g.x),g.y=Math.min(c.y,g.y);c=g.x;d=g.y}c-=a.Nu.x;d-=a.Nu.y;e.x-=c;e.y-=d;if(2===b){var l=a.p(1).copy();l.x-=c;l.y-=d;0!==Dm(a)&&Jm(a,e,h,g);0!==Em(a)&&Jm(a,l,q,g);a=new hd(md);a.ma=e.x;a.na=e.y;a.C=l.x;a.D=l.y;return a}l=new J;0!==Dm(a)&&Jm(a,e,h,g);K(l,e.x,e.y,q,q);if(i===hk&&3<=b&&!Ta(a.Hs,0))if(3===b)j=a.p(1),b=j.x-c,e=j.y-d,j=a.p(2).copy(),j.x-=c,j.y-=d,0!==Em(a)&&Jm(a,j,q,g),L(l,b,e,b,e,j.x,j.y);else if(a.fc){e=new F(c,d);i=a.p(1).copy();
k=new F(c,d);for(var b=new F(c,d),g=a.p(0),m=n,p=a.Hs/3,j=1;j<a.ja-1;j++){var m=a.p(j),r=g,s=m,v=a.p(Km(a,m,j,q));if(!Ta(r.x,s.x)||!Ta(s.x,v.x))if(!Ta(r.y,s.y)||!Ta(s.y,v.y)){var y=p,C=k,E=b;isNaN(y)&&(y=a.Hs/3);var I=r.x,r=r.y,D=s.x,s=s.y,M=v.x,v=v.y,N=y*Lm(I,r,D,s),y=y*Lm(D,s,M,v);Ta(r,s)&&Ta(D,M)&&(D>I?v>s?(C.x=D-N,C.y=s-N,E.x=D+y,E.y=s+y):(C.x=D-N,C.y=s+N,E.x=D+y,E.y=s-y):v>s?(C.x=D+N,C.y=s-N,E.x=D-y,E.y=s+y):(C.x=D+N,C.y=s+N,E.x=D-y,E.y=s-y));Ta(I,D)&&Ta(s,v)&&(s>r?(M>D?(C.x=D-N,C.y=s-N,E.x=
D+y):(C.x=D+N,C.y=s-N,E.x=D-y),E.y=s+y):(M>D?(C.x=D-N,C.y=s+N,E.x=D+y):(C.x=D+N,C.y=s+N,E.x=D-y),E.y=s-y));if(Ta(I,D)&&Ta(D,M)||Ta(r,s)&&Ta(s,v))I=0.5*(I+M),r=0.5*(r+v),C.x=I,C.y=r,E.x=I,E.y=r;1===j?(i.x=0.5*(g.x+m.x),i.y=0.5*(g.y+m.y)):2===j&&(Ta(g.x,a.p(0).x)&&Ta(g.y,a.p(0).y))&&(i.x=0.5*(g.x+m.x),i.y=0.5*(g.y+m.y));L(l,i.x-c,i.y-d,k.x-c,k.y-d,m.x-c,m.y-d);e.set(k);i.set(b);g=m}}j=g.x;g=g.y;a=a.p(a.ja-1);j=0.5*(j+a.x);g=0.5*(g+a.y);L(l,b.x-c,b.y-d,j-c,g-d,a.x-c,a.y-d)}else for(j=3;j<b;j+=3)g=a.p(j-
2),j+3>=b&&(j=b-1),e=a.p(j-1),k=a.p(j),j===b-1&&0!==Em(a)&&(k=k.copy(),Jm(a,k,q,jc)),L(l,g.x-c,g.y-d,e.x-c,e.y-d,k.x-c,k.y-d);else{m=a.p(0);for(j=1;j<b;){j=Km(a,m,j,1<j);p=a.p(j);if(j>=b-1){m!==p&&(0!==Em(a)&&(p=p.copy(),Jm(a,p,q,jc)),Mm(a,l,-c,-d,m,p));break}j=Km(a,p,j+1,j<b-3);g=a;e=l;i=-c;k=-d;C=a.p(j);Ua(m.y,p.y)&&Ua(p.x,C.x)?(E=Fm(g),E=Math.min(E,Math.abs(p.x-m.x)/2),E=I=Math.min(E,Math.abs(C.y-p.y)/2),Ua(E,0)?(Mm(g,e,i,k,m,p),m=p):(r=p.x,y=p.y,D=r,s=y,r=p.x>m.x?p.x-E:p.x+E,s=C.y>p.y?p.y+I:p.y-
I,Mm(g,e,i,k,m,new F(r,y)),Dd(e,p.x+i,p.y+k,D+i,s+k),m=new F(D,s))):Ua(m.x,p.x)&&Ua(p.y,C.y)?(E=Fm(g),I=Math.min(E,Math.abs(p.y-m.y)/2),I=E=Math.min(I,Math.abs(C.x-p.x)/2),Ua(E,0)?(Mm(g,e,i,k,m,p),m=p):(r=p.x,s=y=p.y,y=p.y>m.y?p.y-I:p.y+I,D=C.x>p.x?p.x+E:p.x-E,Mm(g,e,i,k,m,new F(r,y)),Dd(e,p.x+i,p.y+k,D+i,s+k),m=new F(D,s))):(Mm(g,e,i,k,m,p),m=p)}}return l.q}
function Lm(a,b,c,d){a=c-a;if(isNaN(a)||Infinity===a||-Infinity===a)return NaN;0>a&&(a=-a);b=d-b;if(isNaN(b)||Infinity===b||-Infinity===b)return NaN;0>b&&(b=-b);return Ta(a,0)?b:Ta(b,0)?a:Math.sqrt(a*a+b*b)}
function Jm(a,b,c,d){var e=a.ja;if(!(2>e))if(c){var g=a.p(1),c=g.x-d.x,d=g.y-d.y,g=Lm(b.x,b.y,c,d);0!==g&&(e=2===e?0.5*g:g,a=Dm(a),a>e&&(a=e),c=a*(c-b.x)/g,a=a*(d-b.y)/g,b.x+=c,b.y+=a)}else g=a.p(e-2),c=g.x-d.x,d=g.y-d.y,g=Lm(b.x,b.y,c,d),0!==g&&(e=2===e?0.5*g:g,a=Em(a),a>e&&(a=e),c=a*(b.x-c)/g,a=a*(b.y-d)/g,b.x-=c,b.y-=a)}
function Km(a,b,c,d){for(var e=a.ja,g=b;Ta(b.x,g.x)&&Ta(b.y,g.y);){if(c>=e)return e-1;g=a.p(c++)}if(!Ta(b.x,g.x)&&!Ta(b.y,g.y))return c-1;for(var i=g;Ta(b.x,g.x)&&Ta(g.x,i.x)&&(!d||(b.y>=g.y?g.y>=i.y:g.y<=i.y))||Ta(b.y,g.y)&&Ta(g.y,i.y)&&(!d||(b.x>=g.x?g.x>=i.x:g.x<=i.x));){if(c>=e)return e-1;i=a.p(c++)}return c-2}
function Mm(a,b,c,d,e,g){if(jm(a)){var i=new z("number"),j;a:if(j=a.h,j===n)j=0;else{Math.min(e.x,g.x);Math.min(e.y,g.y);Math.max(e.x,g.x);Math.max(e.y,g.y);for(j=j.Jv;j.next();){var k=j.value;if(k!==n&&k.visible)for(k=k.bl;k.next();){var l=k.value;if(l===a){0<i.length&&i.sort(function(a,b){return a-b});j=i.length;break a}if(l instanceof U&&a.hb()&&l.hb()&&jm(l)){var m=l.Xh();if(m.P()&&(a.Xh().Qe(m)&&!a.usesSamePort(l))&&(m=l.path,m!==n&&m.Xk()))for(var m=e,p=g,r=i,s=l.ja,v=1;v<s;v++){var y=l.p(v-
1),C=l.p(v),E=new F,I;b:{I=m;var D=p,M=E;if(Ua(I.x,D.x)){if(Ua(y.y,C.y)&&Math.min(I.y,D.y)<=y.y&&Math.max(I.y,D.y)>=y.y&&Math.min(y.x,C.x)<=I.x&&Math.max(y.x,C.x)>=I.x&&!Ua(y.x,C.x)){M.x=I.x;M.y=y.y;I=h;break b}}else if(Ua(y.x,C.x)&&Math.min(I.x,D.x)<=y.x&&Math.max(I.x,D.x)>=y.x&&Math.min(y.y,C.y)<=I.y&&Math.max(y.y,C.y)>=I.y&&!Ua(y.y,C.y)){M.x=y.x;M.y=I.y;I=h;break b}M.x=0;M.y=0;I=q}I&&(Ua(m.y,p.y)?r.add(E.x):r.add(E.y))}}}}0<i.length&&i.sort(function(a,b){return a-b});j=i.length}m=e.x;m=e.y;if(0<
j)if(Ua(e.y,g.y))if(e.x<g.x)for(k=0;k<j;){r=Math.max(e.x,Math.min(i.n[k++]-5,g.x-10));b.lineTo(r+c,g.y+d);m=r+c;for(p=Math.min(r+10,g.x);k<j;)if(l=i.n[k],l<p+10)k++,p=Math.min(l+5,g.x);else break;l=(r+p)/2+c;l=g.y-10+d;r=p+c;p=g.y+d;a.xf===ik?K(b,r,p,q,q):L(b,m,l,r,l,r,p)}else for(k=j-1;0<=k;){r=Math.min(e.x,Math.max(i.n[k--]+5,g.x+10));b.lineTo(r+c,g.y+d);m=r+c;for(p=Math.max(r-10,g.x);0<=k;)if(l=i.n[k],l>p-10)k--,p=Math.max(l-5,g.x);else break;l=g.y-10+d;r=p+c;p=g.y+d;a.xf===ik?K(b,r,p,q,q):L(b,
m,l,r,l,r,p)}else if(Ua(e.x,g.x))if(e.y<g.y)for(k=0;k<j;){r=Math.max(e.y,Math.min(i.n[k++]-5,g.y-10));b.lineTo(g.x+c,r+d);m=r+d;for(p=Math.min(r+10,g.y);k<j;)if(l=i.n[k],l<p+10)k++,p=Math.min(l+5,g.y);else break;l=g.x-10+c;r=g.x+c;p+=d;a.xf===ik?K(b,r,p,q,q):L(b,l,m,l,p,r,p)}else for(k=j-1;0<=k;){r=Math.min(e.y,Math.max(i.n[k--]+5,g.y+10));b.lineTo(g.x+c,r+d);m=r+d;for(p=Math.max(r-10,g.y);0<=k;)if(l=i.n[k],l>p-10)k--,p=Math.max(l-5,g.y);else break;l=g.x-10+c;r=g.x+c;p+=d;a.xf===ik?K(b,r,p,q,q):L(b,
l,m,l,p,r,p)}}b.lineTo(g.x+c,g.y+d)}w.u(U,{yv:"firstPickIndex"},function(){return 2>=this.ja?0:this.fc||om(this)!==Gb?1:0});w.u(U,{tz:"lastPickIndex"},function(){var a=this.ja;return 0===a?0:2>=a?a-1:this.fc||pm(this)!==Gb?a-2:a-1});function jm(a){a=a.xf;return a===jk||a===ik}function nm(a,b){if(b||jm(a)){var c=a.h;c!==n&&(!c.Wi.contains(a)&&a.Ux!==n)&&c.Wi.add(a,a.Ux)}}
function Vg(a,b){var c=a.Oa;if(!(c===n||!c.visible||c.zc)){var d=c.h;if(d!==n)for(var e=q,d=d.Jv;d.next();){var g=d.value;if(g.visible)if(g===c)for(var e=h,i=q,g=g.bl;g.next();){var j=g.value;j instanceof U&&(j===a?i=h:i&&Nm(a,j,b))}else if(e)for(g=g.bl;g.next();)j=g.value,j instanceof U&&Nm(a,j,b)}}}function Nm(a,b,c){if(b!==n&&jm(b)&&b.Ha!==n){var d=b.Xh();if(d.P()&&(a.Xh().Qe(d)||c.Qe(b.Xh())))a.usesSamePort(b)||b.$f()}}
U.prototype.usesSamePort=U.prototype.xM=function(a){var b=this.ja,c=a.ja;if(0<b&&0<c){if(this.p(0).Ei(a.p(0))||this.p(b-1).Ei(a.p(c-1)))return h}else if(this.ga===a.ga||this.la===a.la)return h;return q};w.g(U,"adjusting",U.prototype.Wu);w.defineProperty(U,{Wu:"adjusting"},t("So"),function(a){var b=this.So;b!==a&&(u&&w.kb(a,U,U,"adjusting"),this.So=a,this.j("adjusting",b,a))});w.g(U,"corner",U.prototype.xC);
w.defineProperty(U,{xC:"corner"},t("cp"),function(a){var b=this.cp;b!==a&&(u&&w.k(a,"number",U,"corner"),this.cp=a,this.$f(),this.j("corner",b,a))});w.g(U,"curve",U.prototype.xf);w.defineProperty(U,{xf:"curve"},t("ep"),function(a){var b=this.ep;b!==a&&(u&&w.kb(a,U,U,"curve"),this.ep=a,this.Tb(),nm(this,b===ik||b===jk||a===ik||a===jk),this.j("curve",b,a))});w.g(U,"curviness",U.prototype.Wy);
w.defineProperty(U,{Wy:"curviness"},t("fp"),function(a){var b=this.fp;b!==a&&(u&&w.k(a,"number",U,"curviness"),this.fp=a,this.Tb(),this.j("curviness",b,a))});w.g(U,"routing",U.prototype.Fh);w.defineProperty(U,{Fh:"routing"},t("jn"),function(a){var b=this.jn;b!==a&&(u&&w.kb(a,U,U,"routing"),this.jn=a,this.Uh=n,this.Tb(),nm(this,b===gk||b===$f||a===gk||a===$f),this.j("routing",b,a))});w.g(U,"smoothness",U.prototype.Hs);
w.defineProperty(U,{Hs:"smoothness"},t("fr"),function(a){var b=this.fr;b!==a&&(u&&w.k(a,"number",U,"smoothness"),this.fr=a,this.$f(),this.j("smoothness",b,a))});
function hm(a){var b=a.If;if(b!==n){var c=a.Uf;if(c!==n){var d=a.ah,a=a.uh,e;a:{if(!(c===n||b.Xg===n))for(e=b.Xg.l;e.next();){var g=e.value;if(g.wo===b&&g.ts===c&&g.Pv===d&&g.Qv===a||g.wo===c&&g.ts===b&&g.Pv===a&&g.Qv===d){e=g;break a}}e=n}for(var i=g=n,j=b.dd.n,k=j.length,l=0;l<k;l++){var m=j[l];if(m.If===b&&m.ah===d&&m.Uf===c&&m.uh===a||m.If===c&&m.ah===a&&m.Uf===b&&m.uh===d)i===n?i=m:(g===n&&(g=new z(U),g.add(i)),g.add(m))}if(g!==n){e===n&&(e=new Ul,e.wo=b,e.Pv=d,e.ts=c,e.Qv=a,Tl(b,e),Tl(c,e));
e.links=g;for(l=0;l<g.count;l++)if(m=g.n[l],0===m.ze){b=1;for(c=0;c<g.count;c++)Math.abs(g.n[c].ze)===b&&(b++,c=-1);m.ll=e;m.ze=m.ga===e.wo?b:-b;m.Tb()}}}}}
function gm(a){var b=a.ll;if(b!==n){var c=a.ze;a.ll=n;a.ze=0;a.Tb();b.links.remove(a);if(2>b.links.count)1===b.links.count&&(c=b.links.n[0],c.ll=n,c.ze=0,c.Tb()),c=b.wo,b!==n&&c.Xg!==n&&c.Xg.remove(b),c=b.ts,b!==n&&c.Xg!==n&&c.Xg.remove(b);else{c=Math.abs(c);a=0===c%2;for(b=b.links.l;b.next();){var d=b.value,e=Math.abs(d.ze),g=0===e%2;e>c&&a===g&&(d.ze=0<d.ze?d.ze-2:d.ze+2,d.Tb())}}}}function Ul(){w.jc(this);this.links=this.Qv=this.ts=this.Pv=this.wo=n;this.spacing=10}
w.Nd(Ul,{wo:h,Pv:h,ts:h,Qv:h,links:h,spacing:h});function sm(){w.jc(this);this.group=n;this.fs=h;this.abort=q;this.Mf=this.Lf=1;this.mq=this.lq=-1;this.Dd=this.Cd=8;this.Vb=n;this.WE=q;this.xE=22;this.wD=111}w.Nd(sm,{group:h,fs:h,abort:h,WE:h,xE:h,wD:h});var Gm=1,Hm=1,xm=999999999,Om=xm;
sm.prototype.initialize=function(a){if(!(0>=a.width||0>=a.height)){var b=a.y,c=a.x+a.width,d=a.y+a.height;this.Lf=Math.floor((a.x-this.Cd)/this.Cd)*this.Cd;this.Mf=Math.floor((b-this.Dd)/this.Dd)*this.Dd;this.lq=Math.ceil((c+2*this.Cd)/this.Cd)*this.Cd;this.mq=Math.ceil((d+2*this.Dd)/this.Dd)*this.Dd;a=1+(Math.ceil((this.lq-this.Lf)/this.Cd)|0);b=1+(Math.ceil((this.mq-this.Mf)/this.Dd)|0);if(this.Vb===n||this.yn<a-1||this.zn<b-1){c=[];for(d=0;d<=a;d++){for(var e=[],g=0;g<=b;g++)e[g]=0;c[d]=e}this.Vb=
c;this.yn=a-1;this.zn=b-1}if(this.Vb!==n)for(a=0;a<=this.yn;a++)for(b=0;b<=this.zn;b++)this.Vb[a][b]=Om}};w.u(sm,{Fb:n},function(){return new G(this.Lf,this.Mf,this.lq-this.Lf,this.mq-this.Mf)});w.g(sm,"cellWidth",sm.prototype.Sl);w.defineProperty(sm,{Sl:n},t("Cd"),function(a){0<a&&a!==this.Cd&&(this.Cd=a,this.initialize(this.Fb))});w.g(sm,"cellHeight",sm.prototype.Rl);w.defineProperty(sm,{Rl:n},t("Dd"),function(a){0<a&&a!==this.Dd&&(this.Dd=a,this.initialize(this.Fb))});
function Pm(a,b,c){return a.Lf<=b&&b<=a.lq&&a.Mf<=c&&c<=a.mq}function wm(a,b,c){if(!Pm(a,b,c))return 0;b-=a.Lf;b/=a.Cd;c-=a.Mf;c/=a.Dd;return a.Vb[b|0][c|0]}function aj(a,b,c){Pm(a,b,c)&&(b-=a.Lf,b/=a.Cd,c-=a.Mf,c/=a.Dd,a.Vb[b|0][c|0]=0)}function tm(a){if(a.Vb!==n)for(var b=0;b<=a.yn;b++)for(var c=0;c<=a.zn;c++)a.Vb[b][c]>=Gm&&(a.Vb[b][c]|=xm)}
function um(a,b,c,d,e){if(b>a.lq||b+d<a.Lf||c>a.mq||c+e<a.Mf)return h;var b=(b-a.Lf)/a.Cd|0,c=(c-a.Mf)/a.Dd|0,d=Math.max(0,d)/a.Cd+1|0,g=Math.max(0,e)/a.Dd+1|0;0>b&&(d+=b,b=0);0>c&&(g+=c,c=0);if(0>d||0>g)return h;e=Math.min(b+d-1,a.yn)|0;for(d=Math.min(c+g-1,a.zn)|0;b<=e;b++)for(g=c;g<=d;g++)if(0===a.Vb[b][g])return q;return h}
function Qm(a,b,c,d,e,g,i,j,k){if(!(b<g||b>i||c<j||c>k)){var l,m;l=b|0;m=c|0;var p=a.Vb[l][m];if(p>=Gm&&p<xm){e?m+=d:l+=d;for(p+=Hm;g<=l&&(l<=i&&j<=m&&m<=k)&&!(p>=a.Vb[l][m]);)a.Vb[l][m]=p,p+=Hm,e?m+=d:l+=d}l=e?m:l;if(e)if(0<d)for(c+=d;c<l;c+=d)Qm(a,b,c,1,!e,g,i,j,k),Qm(a,b,c,-1,!e,g,i,j,k);else for(c+=d;c>l;c+=d)Qm(a,b,c,1,!e,g,i,j,k),Qm(a,b,c,-1,!e,g,i,j,k);else if(0<d)for(b+=d;b<l;b+=d)Qm(a,b,c,1,!e,g,i,j,k),Qm(a,b,c,-1,!e,g,i,j,k);else for(b+=d;b>l;b+=d)Qm(a,b,c,1,!e,g,i,j,k),Qm(a,b,c,-1,!e,g,
i,j,k)}}function Rm(a,b,c,d,e,g,i,j,k,l,m){for(var p=b|0,r=c|0,s=a.Vb[p][r];0===s&&p>j&&p<k&&r>l&&r<m;)if(i?r+=g:p+=g,s=a.Vb[p][r],1>=Math.abs(p-d)&&1>=Math.abs(r-e))return a.abort=h,0;p=b|0;r=c|0;s=a.Vb[p][r];b=Gm;for(a.Vb[p][r]=b;0===s&&p>j&&p<k&&r>l&&r<m;)i?r+=g:p+=g,s=a.Vb[p][r],a.Vb[p][r]=b,b+=Hm;return i?r:p}
function vm(a,b,c,d,e,g){if(a.Vb!==n){a.abort=q;var i=b.x,j=b.y;if(Pm(a,i,j)){var i=i-a.Lf,i=i/a.Cd,j=j-a.Mf,j=j/a.Dd,k=d.x,l=d.y;if(Pm(a,k,l))if(k-=a.Lf,k/=a.Cd,l-=a.Mf,l/=a.Dd,1>=Math.abs(i-k)&&1>=Math.abs(j-l))a.abort=h;else{var m=g.x,b=g.y,d=g.x+g.width,p=g.y+g.height,m=m-a.Lf,m=m/a.Cd,b=b-a.Mf,b=b/a.Dd,d=d-a.Lf,d=d/a.Cd,p=p-a.Mf,p=p/a.Dd,g=Math.max(0,Math.min(a.yn,m|0)),d=Math.min(a.yn,Math.max(0,d|0)),b=Math.max(0,Math.min(a.zn,b|0)),p=Math.min(a.zn,Math.max(0,p|0)),i=i|0,j=j|0,k=k|0,l=l|0,
m=i,r=j,s=0===c||90===c?1:-1;(c=90===c||270===c)?r=Rm(a,i,j,k,l,s,c,g,d,b,p):m=Rm(a,i,j,k,l,s,c,g,d,b,p);if(!a.abort){a:{for(var c=0===e||90===e?1:-1,e=90===e||270===e,s=k|0,v=l|0,y=a.Vb[s][v];0===y&&s>g&&s<d&&v>b&&v<p;)if(e?v+=c:s+=c,y=a.Vb[s][v],1>=Math.abs(s-i)&&1>=Math.abs(v-j)){a.abort=h;break a}s=k|0;v=l|0;y=a.Vb[s][v];for(a.Vb[s][v]=Om;0===y&&s>g&&s<d&&v>b&&v<p;)e?v+=c:s+=c,y=a.Vb[s][v],a.Vb[s][v]=Om}a.abort||(Qm(a,m,r,1,q,g,d,b,p),Qm(a,m,r,-1,q,g,d,b,p),Qm(a,m,r,1,h,g,d,b,p),Qm(a,m,r,-1,h,
g,d,b,p))}}}}}function Bm(){w.jc(this);this.fg=this.port=this.Ug=n;this.ss=q}w.Nd(Bm,{Ug:h,port:h,fg:h,ss:h});Bm.prototype.toString=function(){for(var a=this.fg,b=this.Ug.toString()+" "+a.length.toString()+":",c=0;c<a.length;c++){var d=a[c];d!==n&&(b+="\n  "+d.toString())}return b};
function Sm(a,b,c,d){b=b.offsetY;switch(b){case w.ad:return 90;case w.Rc:return 180;case w.md:return 270;case w.bd:return 0}switch(b){case w.ad|w.md:return 180<c?270:90;case w.Rc|w.bd:return 90<c&&270>=c?180:0}a=180*Math.atan2(a.height,a.width)/Math.PI;switch(b){case w.Rc|w.md:return c>a&&c<=180+a?180:270;case w.md|w.bd:return c>180-a&&c<=360-a?270:0;case w.bd|w.ad:return c>a&&c<=180+a?90:0;case w.ad|w.Rc:return c>180-a&&c<=360-a?180:90;case w.Rc|w.md|w.bd:return 90<c&&c<=180+a?180:c>180+a&&c<=360-
a?270:0;case w.md|w.bd|w.ad:return 180<c&&c<=360-a?270:c>a&&180>=c?90:0;case w.bd|w.ad|w.Rc:return c>a&&c<=180-a?90:c>180-a&&270>=c?180:0;case w.ad|w.Rc|w.md:return c>180-a&&c<=180+a?180:c>180+a?270:90}d&&b!==(w.Rc|w.md|w.bd|w.ad)&&(c-=15,0>c&&(c+=360));return c>a&&c<180-a?90:c>=180-a&&c<=180+a?180:c>180+a&&c<360-a?270:0}
function Cm(a,b){var c=a.fg;if(c===n){if(!a.ss){c=a.ss;a.ss=h;var d=a.Ug.ve;a.fg=[];for(var e=0,g=new G(a.port.Ab(Jb),a.port.Ab(Rb)),d=d.l;d.next();){var i=d.value;if(i.hb()){var j=Gb,j=i.Oc===a.port?om(i,a.port):pm(i,a.port);if(ub(j)){var k;k=i.Oc===a.port?i.Bd:i.Oc;if(k!==n&&k.ca!==n){var l=k.Ab(Ob);k=k.Kd;k=k!==n?Cm(k,i):n;k!==n&&(l=k.po);k=g.av.Ai(l);var j=Sm(g,j,k,i.fc),m;0===j?(m=w.bd,180<k&&(k-=360)):m=90===j?w.ad:180===j?w.Rc:w.md;(j=a.fg[e])?(j.link=i,j.angle=k,j.fe=m):(j=new Tm(i,k,m),a.fg[e]=
j);j.Ov.set(l);e++}}}}a.fg.sort(Bm.prototype.sH);g=a.fg.length;d=-1;for(e=i=0;e<g;e++)j=a.fg[e],j!==n&&(j.fe!==d&&(d=j.fe,i=0),j.em=i,i++);d=-1;i=0;for(e=g-1;0<=e;e--)j=a.fg[e],j!==n&&(j.fe!==d&&(d=j.fe,i=j.em+1),j.Lr=i);e=a.fg;for(g=0;g<e.length;g++)if(d=e[g],d!==n){l=d;j=a.port;i=d=f;switch(l.fe){case w.ad:d=j.Ab(Rb);i=j.Ab(Pb);break;case w.Rc:d=j.Ab(Pb);i=j.Ab(Jb);break;case w.md:d=j.Ab(Jb);i=j.Ab(Lb);break;default:case w.bd:d=j.Ab(Lb),i=j.Ab(Rb)}j=i.y-d.y;k=(l.em+1)/(l.Lr+1);l=l.po;l.x=d.x+(i.x-
d.x)*k;l.y=d.y+j*k}e=a.fg;for(g=0;g<e.length;g++)if(i=e[g],i!==n){d=i;k=i;m=k.link;i=m.getEndSegmentLength(a.Ug,a.port,Gb,m.Oc===a.port);l=k.em;if(!(0>l)&&(j=k.Lr,!(1>=j)&&m.fc)){m=k.Ov;var p=k.po;if(k.fe===w.Rc||k.fe===w.ad)l=j-1-l;i=((k=k.fe===w.Rc||k.fe===w.bd)?m.y<p.y:m.x<p.x)?i+8*l:(k?m.y===p.y:m.x===p.x)?i:i+8*(j-1-l)}d.qv=i}a.ss=c}c=a.fg}for(e=0;e<c.length;e++)if(g=c[e],g!==n&&g.link===b)return g;return n}
Bm.prototype.sH=function(a,b){return a===b?0:a===n?-1:b===n?1:a.fe<b.fe?-1:a.fe>b.fe?1:a.angle<b.angle?-1:a.angle>b.angle?1:0};function Tm(a,b,c){this.link=a;this.angle=b;this.fe=c;this.Ov=new F;this.em=this.Lr=this.em=0;this.po=new F;this.qv=0}w.Nd(Tm,{link:h,angle:h,fe:h,Ov:h,em:h,Lr:h,po:h,qv:h});
Tm.prototype.toString=function(){return this.link.toString()+" "+this.angle.toString()+" "+this.fe.toString()+":"+this.em.toString()+"/"+this.Lr.toString()+" "+this.po.toString()+" "+this.qv.toString()+" "+this.Ov.toString()};function vf(a){0===arguments.length?T.call(this,jh):T.call(this,a);this.oq=new ma(S);this.dn=new ma(vf);this.xk=this.pq=this.nq=n;this.vr=q;this.Tp=h;this.xr=q;this.qb=this.lr=n;this.$o=q;this.rd=new ci;this.rd.group=this}w.Q("Group",vf);w.Ea(vf,T);da=vf.prototype;
da.xb=function(a){T.prototype.xb.call(this,a);a.nq=this.nq;a.pq=this.pq;a.xk=this.xk;a.vr=this.vr;a.Tp=this.Tp;a.xr=this.xr;a.lr=this.lr;var b=Wk(a,a,function(a){return a instanceof dh});a.qb=b instanceof dh?b:n;a.$o=this.$o;this.rd!==n?(a.rd=this.rd.copy(),a instanceof vf&&(a.rd.group=a)):(a.rd!==n&&(a.rd.group=n),a.rd=n)};
da.Ah=function(a){T.prototype.Ah.call(this,a);for(var b=a.vv(),a=a.Gc;a.next();){var c=a.value;c.R();c.F(Tj);c.yh();c instanceof vf&&(c.jw=c.Re,Um(c,b));if(c instanceof T)c.Qg(b);else if(c instanceof U)for(c=c.Ij;c.next();)c.value.Qg(b)}};
da.km=function(a,b,c,d,e,g,i){if(a===ie&&"elements"===b)if(e instanceof dh)this.qb===n?this.qb=e:this.qb!==e&&w.m("Cannot insert a second Placeholder into the visual tree of a Group.");else{if(e instanceof x){var j=Wk(e,e,function(a){return a instanceof dh});j instanceof dh&&(this.qb===n?this.qb=j:this.qb!==j&&w.m("Cannot insert a second Placeholder into the visual tree of a Group."))}}else a===je&&"elements"===b&&(d===this.qb?this.qb=n:d instanceof x&&this.qb.Ji(d)&&(this.qb=n));T.prototype.km.call(this,
a,b,c,d,e,g,i)};da.wj=function(a,b,c,d){this.fj=this.qb;x.prototype.wj.call(this,a,b,c,d);this.qb!==n&&(a=this.qb.kn,this.location=new F(a.x,a.y))};da.Wk=function(){if(!T.prototype.Wk.call(this))return q;for(var a=this.Gc;a.next();){var b=a.value;if(b instanceof T){if(b.hb()&&b.Jc)return q}else if(b instanceof U&&b.hb()&&b.Jc&&b.ga!==this&&b.la!==this)return q}return h};w.u(vf,{placeholder:"placeholder"},t("qb"));w.g(vf,"computesBoundsAfterDrag",vf.prototype.Uy);
w.defineProperty(vf,{Uy:"computesBoundsAfterDrag"},t("$o"),function(a){var b=this.$o;b!==a&&(w.k(a,"boolean",vf,"computesBoundsAfterDrag"),this.$o=a,this.j("computesBoundsAfterDrag",b,a))});w.u(vf,{Gc:"memberParts"},function(){return this.oq.l});function Nl(a,b){if(a.oq.add(b)){b instanceof vf&&a.dn.add(b);var c=a.GD;if(c!==n){var d=h,e=a.h;e!==n&&(d=e.La,e.La=h);c(a,b);e!==n&&(e.La=d)}}c=a.qb;c===n&&(c=a);c.R()}
function Ml(a,b){if(a.oq.remove(b)){b instanceof vf&&a.dn.remove(b);var c=a.HD;if(c!==n){var d=h,e=a.h;e!==n&&(d=e.La,e.La=h);c(a,b);e!==n&&(e.La=d)}}c=a.qb;c===n&&(c=a);c.R()}vf.prototype.Xl=function(){if(0<this.oq.count){var a=this.h;if(a===n)return;for(var b=this.oq.copy().l;b.next();)a.remove(b.value)}T.prototype.Xl.call(this)};vf.prototype.dw=function(){var a=this.Oa;a!==n&&a.dw(this)};w.g(vf,"layout",vf.prototype.Pb);
w.defineProperty(vf,{Pb:"layout"},t("rd"),function(a){var b=this.rd;b!==a&&(a!==n&&w.i(a,ci,vf,"layout"),b!==n&&(b.h=n,b.group=n),this.rd=a,a!==n&&(a.h=this.h,a.group=this),this.j("layout",b,a))});w.g(vf,"memberAdded",vf.prototype.GD);w.defineProperty(vf,{GD:"memberAdded"},t("nq"),function(a){var b=this.nq;b!==a&&(a!==n&&w.k(a,"function",vf,"memberAdded"),this.nq=a,this.j("memberAdded",b,a))});w.g(vf,"memberRemoved",vf.prototype.HD);
w.defineProperty(vf,{HD:"memberRemoved"},t("pq"),function(a){var b=this.pq;b!==a&&(a!==n&&w.k(a,"function",vf,"memberRemoved"),this.pq=a,this.j("memberRemoved",b,a))});w.g(vf,"memberValidation",vf.prototype.ns);w.defineProperty(vf,{ns:"memberValidation"},t("xk"),function(a){var b=this.xk;b!==a&&(a!==n&&w.k(a,"function",vf,"memberValidation"),this.xk=a,this.j("memberValidation",b,a))});
vf.prototype.canAddMembers=vf.prototype.HI=function(a){var b=this.h;if(b===n)return q;b=b.Yf;for(a=b.findUnnestedNodes(a).l;a.next();)if(!b.isValidMember(this,a.value))return q;return h};vf.prototype.addMembers=vf.prototype.CI=function(a,b){var c=this.h;if(c===n)return q;for(var c=c.Yf,d=h,e=c.findUnnestedNodes(a).l;e.next();){var g=e.value;!b||c.isValidMember(this,g)?g.cb=this:d=q}return d};w.g(vf,"ungroupable",vf.prototype.SE);
w.defineProperty(vf,{SE:"ungroupable"},t("vr"),function(a){var b=this.vr;b!==a&&(w.k(a,"boolean",vf,"ungroupable"),this.vr=a,this.j("ungroupable",b,a))});vf.prototype.canUngroup=vf.prototype.jJ=function(){if(!this.SE)return q;var a=this.Oa;if(a!==n&&!a.Nn)return q;a=a.h;return a!==n&&!a.Nn?q:h};vf.prototype.findSubGraphParts=vf.prototype.vv=function(){var a=new ma(S);nf(a,this,h,q);a.remove(this);return a};
vf.prototype.collapseSubGraph=vf.prototype.cv=function(){var a=this.h;if(a!==n&&!a.ag){a.ag=h;var b=this.vv();Um(this,b);a.ag=q}};function Um(a,b){a.Re=q;for(var c=a.Gc;c.next();){var d=c.value;d.R();d.F(Tj);d.yh();d instanceof vf&&(d.jw=d.Re,Um(d,b));if(d instanceof T)d.Qg(b);else if(d instanceof U)for(d=d.Ij;d.next();)d.value.Qg(b)}}vf.prototype.expandSubGraph=vf.prototype.rv=function(){var a=this.h;if(a!==n&&!a.ag){a.ag=h;var b=this.vv();Vm(this,b);a.ag=q}};
function Vm(a,b){a.Re=h;for(var c=a.Gc;c.next();){var d=c.value;d.R();d.F(Sj);d.Pi();d instanceof vf&&d.jw&&Vm(d,b);if(d instanceof T)d.Qg(b);else if(d instanceof U)for(d=d.Ij;d.next();)d.value.Qg(b)}}w.g(vf,"isSubGraphExpanded",vf.prototype.Re);
w.defineProperty(vf,{Re:"isSubGraphExpanded"},t("Tp"),function(a){var b=this.Tp;if(b!==a){w.k(a,"boolean",vf,"isSubGraphExpanded");this.Tp=a;var c=this.h;c!==n&&Nh(c);this.j("isSubGraphExpanded",b,a);b=this.EE;if(b!==n){var d=h;c!==n&&(d=c.La,c.La=h);b(this);c!==n&&(c.La=d)}c!==n&&c.sa.tb||(a?this.rv():this.cv())}});w.g(vf,"wasSubGraphExpanded",vf.prototype.jw);
w.defineProperty(vf,{jw:"wasSubGraphExpanded"},t("xr"),function(a){var b=this.xr;b!==a&&(w.k(a,"boolean",vf,"wasSubGraphExpanded"),this.xr=a,this.j("wasSubGraphExpanded",b,a))});w.g(vf,"subGraphExpandedChanged",vf.prototype.EE);w.defineProperty(vf,{EE:"subGraphExpandedChanged"},t("lr"),function(a){var b=this.lr;b!==a&&(a!==n&&w.k(a,"function",vf,"subGraphExpandedChanged"),this.lr=a,this.j("subGraphExpandedChanged",b,a))});
vf.prototype.move=vf.prototype.move=function(a){var b=this.position,c=b.x;isNaN(c)&&(c=0);b=b.y;isNaN(b)&&(b=0);c=a.x-c;b=a.y-b;T.prototype.move.call(this,a);for(a=this.vv().l;a.next();){var d=a.value,e=d.position;T.prototype.move.call(d,new F(e.x+c,e.y+b))}};function dh(){P.call(this);this.ie=(new hb(0)).freeze();this.kn=new G(NaN,NaN,NaN,NaN)}w.Q("Placeholder",dh);w.Ea(dh,P);dh.prototype.xb=function(a){P.prototype.xb.call(this,a);a.ie=this.ie.O();a.kn=this.kn.copy()};
dh.prototype.xj=function(a){if(this.background===n&&this.Kk===n)return q;var b=this.Sa;return jb(0,0,b.width,b.height,a.x,a.y)};
dh.prototype.ms=function(){var a=this.ca;(a===n||!(a instanceof vf)&&!(a instanceof of))&&w.m("Placeholder is not inside a Group or Adornment.");if(a instanceof vf){var b;a:{b=this.ca;if(b instanceof vf&&b.Uy&&this.kn.P()){var c=b.h;if(c!==n&&(c=c.Fa,c instanceof Ff&&!c.qp&&c.dc!==n&&!c.dc.contains(b))){b=this.kn;break a}}b=this.ca;if(b instanceof vf){for(var d=c=Infinity,e=-Infinity,g=-Infinity,i=b.Gc;i.next();){var j=i.value;if(j.hb()){if(j instanceof U){if(j.$b)continue;if(j.ga===b||j.la===b)continue}j=
j.va;j.left<c&&(c=j.left);j.top<d&&(d=j.top);j.right>e&&(e=j.right);j.bottom>g&&(g=j.bottom)}}!isFinite(c)||!isFinite(d)?(b=b.location,c=this.padding,b=new G(b.x+c.left,b.y+c.top,0,0)):b=new G(c,d,e-c,g-d)}else b=new G;c=this.padding;b=new G(b.x-c.left,b.y-c.top,b.width+c.left+c.right,b.height+c.top+c.bottom)}this.kn=b;c=this.Kc;db(c,b.width||0,b.height||0);mj(this,0,0,c.width,c.height);c=a.Gc;for(d=q;c.next();)if(c.value.hb()){d=h;break}d&&(!isNaN(b.x)&&!isNaN(b.y))&&(a.location=new F(b.x,b.y))}else b=
this.wa,c=this.Kc,a=this.padding,db(c,b.width+(a.left+a.right)||0,b.height+(a.top+a.bottom)||0),mj(this,-a.left,-a.top,c.width,c.height)};dh.prototype.wj=function(a,b,c,d){var e=this.va;e.x=a;e.y=b;e.width=c;e.height=d};w.g(dh,"padding",dh.prototype.padding);w.defineProperty(dh,{padding:"padding"},t("ie"),function(a){"number"===typeof a?a=new hb(a):w.i(a,hb,x,"padding");var b=this.ie;b.I(a)||(this.ie=a=a.O(),this.j("padding",b,a))});
function ci(){w.jc(this);this.sx=this.ba=n;this.Kt=this.Qp=h;this.Xp=this.Wp=q;this.Uo=(new F(0,0)).freeze();this.yx=h;this.B=n}w.Q("Layout",ci);ci.prototype.cloneProtected=ci.prototype.xb=function(a){a.Qp=this.Qp;a.Kt=this.Kt;a.Xp=this.Xp;a.Uo=this.Uo.O()};ci.prototype.copy=ci.prototype.copy=function(){var a=new this.constructor;this.xb(a);return a};
ci.prototype.toString=function(){var a=w.Tk(Object.getPrototypeOf(this)),a=a+"(";this.group!==n&&(a+=" in "+this.group);this.h!==n&&(a+=" for "+this.h);return a+")"};w.g(ci,"diagram",ci.prototype.h);w.defineProperty(ci,{h:"diagram"},t("ba"),function(a){this.ba!==a&&(a!==n&&w.i(a,A,ci,"diagram"),this.ba=a)});w.g(ci,"group",ci.prototype.group);w.defineProperty(ci,{group:"group"},t("sx"),function(a){this.sx!==a&&(a!==n&&w.i(a,vf,ci,"group"),this.sx=a)});w.g(ci,"isOngoing",ci.prototype.tD);
w.defineProperty(ci,{tD:"isOngoing"},t("Qp"),function(a){this.Qp!==a&&(w.k(a,"boolean",ci,"isOngoing"),this.Qp=a)});w.g(ci,"isInitial",ci.prototype.sD);w.defineProperty(ci,{sD:"isInitial"},t("Kt"),function(a){w.k(a,"boolean",ci,"isInitial");this.Kt=a;a||(this.Wp=h)});w.g(ci,"isValidLayout",ci.prototype.Se);w.defineProperty(ci,{Se:"isValidLayout"},t("Wp"),function(a){this.Wp!==a&&(this.Wp=a,a||(a=this.h,a!==n&&(a.at=h)))});
ci.prototype.invalidateLayout=ci.prototype.F=function(){if(this.Wp){var a=this.h;if(a!==n&&!a.sa.tb&&(this.tD&&a.Bg||this.sD&&!a.Bg))this.Se=q,a.xn=h,a.yb(h)}};w.g(ci,"isViewportSized",ci.prototype.ks);w.defineProperty(ci,{ks:"isViewportSized"},t("Xp"),function(a){this.Xp!==a&&(this.Xp=a)&&this.F()});w.g(ci,"isRouting",ci.prototype.is);w.defineProperty(ci,{is:"isRouting"},t("yx"),function(a){this.yx!==a&&(w.k(a,"boolean",ci,"isRouting"),this.yx=a)});w.g(ci,"network",ci.prototype.Pc);
w.defineProperty(ci,{Pc:"network"},t("B"),function(a){var b=this.B;b!==a&&(a!==n&&w.i(a,Wm,ci,"network"),b!==n&&Xm(b,n),this.B=a,a!==n&&Xm(a,this))});ci.prototype.createNetwork=ci.prototype.lv=function(){var a=new Wm;Xm(a,this);return a};ci.prototype.makeNetwork=ci.prototype.kH=function(a){var b=this.createNetwork();a instanceof A?(b.Dr(a.al,h),b.Dr(a.links,h)):a instanceof vf?b.Dr(a.Gc):a.l&&b.Dr(a.l);return b};
ci.prototype.updateParts=ci.prototype.vM=function(){var a=this.h;if(a===n&&this.B!==n)for(var b=this.B.ka.l;b.next();){var c=b.value.fb;if(c!==n&&(a=c.h,a!==n))break}this.Se=h;a!==n&&a.hc("Layout");this.commitLayout();a!==n&&a.ne("Layout")};ci.prototype.commitLayout=ci.prototype.gv=aa();
ci.prototype.doLayout=ci.prototype.Mr=function(a){a===n&&w.m("Layout.doLayout(collection) argument must not be null");var b=new ma(S);a===this.h?(Ym(this,b,a.al,h,this.Ez,h,q,h),Ym(this,b,a.bl,h,this.Ez,h,q,h)):a===this.group&&Ym(this,b,a.Gc,q,this.Ez,h,q,h);var c=b.count;if(0<c){a=this.h;a!==n&&a.hc("Layout");for(var c=Math.ceil(Math.sqrt(c)),d=this.jd.x,e=d,g=this.jd.y,i=0,j=0,b=b.l;b.next();){var k=b.value;k.Di();var l=k.xa,m=l.width,l=l.height;k.move(new F(e,g));delete k.pB;e+=Math.max(m,50)+
20;j=Math.max(j,Math.max(l,50));i>=c-1?(i=0,e=d,g+=j+20,j=0):i++}a!==n&&a.ne("Layout")}this.Se=h};ci.prototype.Ez=function(a){return!a.location.P()||a instanceof vf&&a.pB?h:q};function Ym(a,b,c,d,e,g,i,j){for(c=c.l;c.next();){var k=c.value;if(!d||k.js)if(!e||e(k))k.Hr()&&(g&&k instanceof T?k.Ki||(k instanceof vf&&k.Pb===n?Ym(a,b,k.Gc,q,e,g,i,j):b.add(k)):i&&k instanceof U?b.add(k):j&&(k.ae()&&!(k instanceof T))&&b.add(k))}}w.g(ci,"arrangementOrigin",ci.prototype.jd);
w.defineProperty(ci,{jd:"arrangementOrigin"},t("Uo"),function(a){this.Uo.I(a)||(u&&w.i(a,F,ci,"arrangementOrigin"),this.Uo.Va(a),this.F())});function Zm(a,b){var c=a.group;if(c!==n){var d=c.location;if(isNaN(d.x)||isNaN(d.y))return b;var e=c.placeholder;e!==n?(d=e.Ab(Jb),d.x+=e.padding.left,d.y+=e.padding.top):d=c.position.copy();return d}return b}function Wm(){w.jc(this);this.rd=n;this.clear()}w.Q("LayoutNetwork",Wm);
Wm.prototype.clear=function(){if(this.wr)for(var a=this.wr.l;a.next();){var b=a.value;b.clear();b.B=n}if(this.sp)for(a=this.sp.l;a.next();)b=a.value,b.clear(),b.B=n;this.wr=new ma($m);this.sp=new ma(an);this.Kx=new ka(T,$m);this.Dx=new ka(U,an)};Wm.prototype.toString=function(){return"LayoutNetwork"+(this.Pb!==n?"("+this.Pb.toString()+")":"")};w.u(Wm,{Pb:"layout"},t("rd"));function Xm(a,b){u&&b!==n&&w.i(b,ci,Wm,"setLayout");a.rd=b}w.u(Wm,{ka:"vertexes"},t("wr"));w.u(Wm,{mc:"edges"},t("sp"));
Wm.prototype.createVertex=Wm.prototype.zj=function(){return new $m};Wm.prototype.createEdge=Wm.prototype.Tn=function(){return new an};
Wm.prototype.addParts=Wm.prototype.Dr=function(a,b){if(a!==n){b===f&&(b=q);w.k(b,"boolean",Wm,"addParts:toplevelonly");for(var c=a.l;c.next();){var d=c.value;if(d instanceof T&&(!b||d.js)&&d.Hr()&&!d.Ki)if(d instanceof vf&&d.Pb===n)this.Dr(d.Gc,q);else if(this.Pe(d)===n){var e=this.zj();e.Ug=d;this.Gk(e)}}for(c.reset();c.next();)if(d=c.value,d instanceof U&&(!b||d.js)&&d.Hr()&&this.tv(d)===n){var g=d.ga,e=d.la;g!==e&&(g=this.uv(g),e=this.uv(e),g!==n&&e!==n&&this.hm(g,e,d))}}};
Wm.prototype.findGroupVertex=Wm.prototype.uv=function(a){if(a===n)return n;a=Il(a);if(a===n)return n;var b=this.Pe(a);if(b!==n)return b;a=a.cb;return a!==n&&(b=this.Pe(a),b!==n)?b:n};Wm.prototype.addVertex=Wm.prototype.Gk=function(a){if(a!==n){u&&w.i(a,$m,Wm,"addVertex:vertex");this.wr.add(a);var b=a.fb;b!==n&&this.Kx.add(b,a);a.B=this}};Wm.prototype.addNode=Wm.prototype.Fn=function(a){if(a===n)return n;u&&w.i(a,T,Wm,"addNode:node");var b=this.Pe(a);b===n&&(b=this.zj(),b.Ug=a,this.Gk(b));return b};
Wm.prototype.deleteVertex=Wm.prototype.JC=function(a){if(a!==n&&(u&&w.i(a,$m,Wm,"deleteVertex:vertex"),bn(this,a))){for(var b=a.Sf,c=b.count-1;0<=c;c--){var d=b.oa(c);this.Vn(d)}b=a.cf;for(c=b.count-1;0<=c;c--)d=b.oa(c),this.Vn(d)}};function bn(a,b){if(b===n)return q;var c=a.wr.remove(b);c&&(a.Kx.remove(b.fb),b.B=n);return c}Wm.prototype.deleteNode=Wm.prototype.NJ=function(a){a!==n&&(u&&w.i(a,T,Wm,"deleteNode:node"),a=this.Pe(a),a!==n&&this.JC(a))};
Wm.prototype.findVertex=Wm.prototype.Pe=function(a){if(a===n)return n;u&&w.i(a,T,Wm,"findVertex:node");return this.Kx.qa(a)};Wm.prototype.addEdge=Wm.prototype.Dn=function(a){if(a!==n){u&&w.i(a,an,Wm,"addEdge:edge");this.sp.add(a);var b=a.Ra;b!==n&&this.tv(b)===n&&this.Dx.add(b,a);b=a.S;b!==n&&b.$B(a);b=a.W;b!==n&&b.WB(a);a.B=this}};
Wm.prototype.addLink=Wm.prototype.BI=function(a){if(a===n)return n;u&&w.i(a,U,Wm,"addLink:link");var b=a.ga,c=a.la,d=this.tv(a);d===n?(d=this.Tn(),d.Ra=a,b!==n&&(d.W=this.Fn(b)),c!==n&&(d.S=this.Fn(c)),this.Dn(d)):(d.W=b!==n?this.Fn(b):n,d.S=c!==n?this.Fn(c):n);return d};Wm.prototype.deleteEdge=Wm.prototype.Vn=function(a){if(a!==n){u&&w.i(a,an,Wm,"deleteEdge:edge");var b=a.S;b!==n&&b.IC(a);b=a.W;b!==n&&b.HC(a);cn(this,a)}};function cn(a,b){b!==n&&a.sp.remove(b)&&(a.Dx.remove(b.Ra),b.B=n)}
Wm.prototype.deleteLink=Wm.prototype.MJ=function(a){a!==n&&(u&&w.i(a,U,Wm,"deleteLink:link"),a=this.tv(a),a!==n&&this.Vn(a))};Wm.prototype.findEdge=Wm.prototype.tv=function(a){if(a===n)return n;u&&w.i(a,U,Wm,"findEdge:link");return this.Dx.qa(a)};
Wm.prototype.linkVertexes=Wm.prototype.hm=function(a,b,c){if(a===n||b===n)return n;u&&(w.i(a,$m,Wm,"linkVertexes:fromVertex"),w.i(b,$m,Wm,"linkVertexes:toVertex"),c!==n&&w.i(c,U,Wm,"linkVertexes:link"));if(a.B===this&&b.B===this){var d=this.Tn();d.Ra=c;d.W=a;d.S=b;this.Dn(d);return d}return n};Wm.prototype.reverseEdge=Wm.prototype.Uv=function(a){if(a!==n){u&&w.i(a,an,Wm,"reverseEdge:edge");var b=a.W,c=a.S;b===n||c===n||(b.HC(a),c.IC(a),a.Uv(),b.$B(a),c.WB(a))}};
Wm.prototype.deleteSelfEdges=Wm.prototype.ov=function(){for(var a=[],b=this.mc.l;b.next();){var c=b.value;c.W===c.S&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.Vn(a[c])};Wm.prototype.deleteArtificialVertexes=Wm.prototype.pG=function(){for(var a=[],b=this.ka.l;b.next();){var c=b.value;c.fb===n&&a.push(c)}c=a.length;for(b=0;b<c;b++)this.JC(a[b]);a=[];for(b=this.mc.l;b.next();)c=b.value,c.Ra===n&&a.push(c);c=a.length;for(b=0;b<c;b++)this.Vn(a[b])};
Wm.prototype.splitIntoSubNetworks=Wm.prototype.aI=function(){this.pG();for(var a=[],b=this.mc.l;b.next();){var c=b.value;(c.W===n||c.S===n)&&a.push(c)}b=a.length;for(c=0;c<b;c++)this.Vn(a[c]);this.ov();a=new z(Wm);for(c=h;c;)for(var c=q,d=this.ka.l;d.next();)if(b=d.value,0<b.Sf.count||0<b.cf.count){c=this.Pb.createNetwork();a.add(c);dn(this,c,b);c=h;break}a.sort(function(a,b){return a===n||b===n||a===b?0:b.ka.count-a.ka.count});return a};
function dn(a,b,c){if(c!==n&&c.B!==b){bn(a,c);b.Gk(c);for(var d=c.Hb;d.next();){var e=d.value;e.B!==b&&(cn(a,e),b.Dn(e),dn(a,b,e.W))}for(d=c.Gb;d.next();)e=d.value,e.B!==b&&(cn(a,e),b.Dn(e),dn(a,b,e.S))}}Wm.prototype.getParts=Wm.prototype.findAllParts=Wm.prototype.pK=function(){for(var a=new ma(S),b=this.ka.l;b.next();)a.add(b.value.fb);for(b=this.mc.l;b.next();)a.add(b.value.Ra);return a};
function $m(){w.jc(this);this.B=n;this.L=(new G(0,0,10,10)).freeze();this.K=(new F(5,5)).freeze();this.clear()}w.Q("LayoutVertex",$m);$m.prototype.clear=function(){this.fb=n;this.Sf=new z(an);this.cf=new z(an)};$m.prototype.toString=function(){return"LayoutVertex#"+w.ec(this)+(this.fb!==n?"("+this.fb.toString()+")":"")};w.g($m,"network",$m.prototype.Pc);w.defineProperty($m,{Pc:"network"},t("B"),function(a){this.B!==a&&(a!==n&&w.i(a,Wm,$m,"network"),this.B=a)});w.g($m,"node",$m.prototype.Ug);
w.defineProperty($m,{Ug:"node"},t("fb"),function(a){if(this.fb!==a){u&&a!==n&&w.i(a,T,$m,"node");this.fb=a;a.Di();var b=a.va,c=b.x,d=b.y,e=b.width,b=b.height;isNaN(c)&&(c=0);isNaN(d)&&(d=0);this.L.U(c,d,e,b);c=a.Xb;c!==a&&!(a instanceof vf)?(a=c.va,this.K.U(a.x+a.width/2,a.y+a.height/2)):this.K.U(e/2,b/2)}});w.g($m,"bounds",$m.prototype.Fb);w.defineProperty($m,{Fb:"bounds"},t("L"),function(a){this.L.I(a)||(u&&w.i(a,G,$m,"bounds"),this.L.Va(a))});w.g($m,"focus",$m.prototype.focus);
w.defineProperty($m,{focus:"focus"},t("K"),function(a){this.K.I(a)||(u&&w.i(a,F,$m,"focus"),this.K.Va(a))});w.g($m,"centerX",$m.prototype.pa);w.defineProperty($m,{pa:"centerX"},function(){return this.L.x+this.K.x},function(a){var b=this.L;b.x+this.K.x!==a&&(u&&w.o(a,$m,"centerX"),b.Ia(),b.x=a-this.K.x,b.freeze())});w.g($m,"centerY",$m.prototype.ta);
w.defineProperty($m,{ta:"centerY"},function(){return this.L.y+this.K.y},function(a){var b=this.L;b.y+this.K.y!==a&&(u&&w.o(a,$m,"centerY"),b.Ia(),b.y=a-this.K.y,b.freeze())});w.g($m,"focusX",$m.prototype.AG);w.defineProperty($m,{AG:"focusX"},function(){return this.K.x},function(a){var b=this.K;b.x!==a&&(b.Ia(),b.x=a,b.freeze())});w.g($m,"focusY",$m.prototype.BG);w.defineProperty($m,{BG:"focusY"},function(){return this.K.y},function(a){var b=this.K;b.y!==a&&(b.Ia(),b.y=a,b.freeze())});w.g($m,"x",$m.prototype.x);
w.defineProperty($m,{x:"x"},function(){return this.L.x},function(a){var b=this.L;b.x!==a&&(b.Ia(),b.x=a,b.freeze())});w.g($m,"y",$m.prototype.y);w.defineProperty($m,{y:"y"},function(){return this.L.y},function(a){var b=this.L;b.y!==a&&(b.Ia(),b.y=a,b.freeze())});w.g($m,"width",$m.prototype.width);w.defineProperty($m,{width:"width"},function(){return this.L.width},function(a){var b=this.L;b.width!==a&&(b.Ia(),b.width=a,b.freeze())});w.g($m,"height",$m.prototype.height);
w.defineProperty($m,{height:"height"},function(){return this.L.height},function(a){var b=this.L;b.height!==a&&(b.Ia(),b.height=a,b.freeze())});$m.prototype.commit=$m.prototype.fv=function(){var a=this.fb;a!==n&&a.move(this.Fb.position)};$m.prototype.addSourceEdge=$m.prototype.$B=function(a){a!==n&&(u&&w.i(a,an,$m,"addSourceEdge:edge"),this.Sf.contains(a)||this.Sf.add(a))};$m.prototype.deleteSourceEdge=$m.prototype.IC=function(a){a!==n&&(u&&w.i(a,an,$m,"deleteSourceEdge:edge"),this.Sf.remove(a))};
$m.prototype.addDestinationEdge=$m.prototype.WB=function(a){a!==n&&(u&&w.i(a,an,$m,"addDestinationEdge:edge"),this.cf.contains(a)||this.cf.add(a))};$m.prototype.deleteDestinationEdge=$m.prototype.HC=function(a){a!==n&&(u&&w.i(a,an,$m,"deleteDestinationEdge:edge"),this.cf.remove(a))};w.u($m,{$H:"sourceVertexes"},function(){for(var a=new ma($m),b=this.Hb;b.next();){var c=b.value.W;c!==n&&!a.contains(c)&&a.add(c)}return a.l});
w.u($m,{rG:"destinationVertexes"},function(){for(var a=new ma($m),b=this.Gb;b.next();){var c=b.value.S;c!==n&&!a.contains(c)&&a.add(c)}return a.l});w.u($m,{ka:"vertexes"},function(){for(var a=new ma($m),b=this.Hb;b.next();){var c=b.value,c=c.W;c!==n&&!a.contains(c)&&a.add(c)}for(b=this.Gb;b.next();)c=b.value,c=c.S,c!==n&&!a.contains(c)&&a.add(c);return a.l});w.u($m,{Hb:"sourceEdges"},function(){return this.Sf.l});w.u($m,{Gb:"destinationEdges"},function(){return this.cf.l});
w.u($m,{mc:"edges"},function(){for(var a=new z(an),b=this.Hb;b.next();){var c=b.value;a.add(c)}for(b=this.Gb;b.next();)c=b.value,a.add(c);return a.l});w.u($m,{xG:"edgesCount"},function(){return this.Sf.count+this.cf.count});var en;$m.standardComparer=en=function(a,b){u&&w.i(a,$m,$m,"standardComparer:m");u&&w.i(b,$m,$m,"standardComparer:n");var c=a.fb,d=b.fb;return c?d?(c=c.text,d=d.text,c<d?-1:c>d?1:0):1:d!==n?-1:0};
$m.smartComparer=function(a,b){u&&w.i(a,$m,$m,"smartComparer:m");u&&w.i(b,$m,$m,"smartComparer:n");if(a!==n){if(b!==n){var c=a.fb,d=b.fb;if(c!==n){if(d!==n){var c=c.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=d.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;
else{if(isNaN(i))return-1;if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return d!==n?-1:0}return 1}return b!==n?-1:0};function an(){w.jc(this);this.B=n;this.clear()}w.Q("LayoutEdge",an);an.prototype.clear=function(){this.S=this.W=this.Ra=n};an.prototype.toString=function(){return"LayoutEdge#"+w.ec(this)+(this.Ra!==n?"("+this.Ra.toString()+")":"")};w.g(an,"network",an.prototype.Pc);
w.defineProperty(an,{Pc:"network"},t("B"),function(a){this.B!==a&&(u&&a!==n&&w.i(a,Wm,an,"network"),this.B=a)});w.g(an,"link",an.prototype.link);w.defineProperty(an,{link:"link"},t("Ra"),function(a){this.Ra!==a&&(u&&a!==n&&w.i(a,U,an,"link"),this.Ra=a)});w.g(an,"fromVertex",an.prototype.hz);w.defineProperty(an,{hz:"fromVertex"},t("W"),function(a){this.W!==a&&(u&&a!==n&&w.i(a,$m,an,"fromVertex"),this.W=a)});w.g(an,"toVertex",an.prototype.eA);
w.defineProperty(an,{eA:"toVertex"},t("S"),function(a){this.S!==a&&(u&&a!==n&&w.i(a,$m,an,"toVertex"),this.S=a)});an.prototype.Uv=function(){var a=this.W;this.W=this.S;this.S=a};an.prototype.commit=an.prototype.fv=aa();an.prototype.getOtherVertex=an.prototype.HG=function(a){u&&w.i(a,$m,an,"getOtherVertex:v");return this.S===a?this.W:this.W===a?this.S:n};
function dj(){ci.call(this);this.ks=h;this.zr=this.Ar=NaN;this.Ti=(new bb(NaN,NaN)).freeze();this.ph=(new bb(10,10)).freeze();this.Aa=uk;this.Sc=sk;this.uc=ok;this.rc=fn}w.Q("GridLayout",dj);w.Ea(dj,ci);dj.prototype.cloneProtected=dj.prototype.xb=function(a){ci.prototype.xb.call(this,a);a.Ar=this.Ar;a.zr=this.zr;a.Ti=this.Ti.O();a.ph=this.ph.O();a.Aa=this.Aa;a.Sc=this.Sc;a.uc=this.uc;a.rc=this.rc};
dj.prototype.doLayout=dj.prototype.Mr=function(a){var b=this.h;b===n&&w.m("The diagram for this layout is not set.");this.jd=Zm(this,this.jd);var c=new ma(S);a===this.h?(Ym(this,c,a.al,h,n,h,q,h),Ym(this,c,a.links,h,n,h,q,h),Ym(this,c,a.bl,h,n,h,q,h)):a===this.group&&Ym(this,c,a.Gc,q,n,h,q,h);for(a=c.copy().l;a.next();){var d=a.value;if(d instanceof U&&(d.ga!==n||d.la!==n))c.remove(d);else if(d.Di(),d instanceof vf)for(d=d.Gc;d.next();)c.remove(d.value)}c=c.sg();if(0!==c.length){switch(this.ng){case rk:c.reverse();
break;case ok:c.sort(this.zh);break;case pk:c.sort(this.zh),c.reverse()}d=this.XE;isNaN(d)&&(d=0);a=this.jA;a=isNaN(a)?Math.max(this.h.Ua.width-b.padding.left-b.padding.right,0):Math.max(this.jA,0);0>=d&&0>=a&&(d=1);var e=this.spacing.width;isFinite(e)||(e=0);var g=this.spacing.height;isFinite(g)||(g=0);b.hc("Layout");switch(this.Db){case vk:var i=Math.max(this.Ok.width,1);if(!isFinite(i))for(var j=i=0;j<c.length;j++)var k=c[j],l=k.xa,i=Math.max(i,l.width);var i=Math.max(i+e,1),m=Math.max(this.Ok.height,
1);if(!isFinite(m))for(j=m=0;j<c.length;j++)k=c[j],l=k.xa,m=Math.max(m,l.height);for(var m=Math.max(m+g,1),p=this.le,r=this.jd.x,s=r,v=this.jd.y,y=0,C=0,j=0;j<c.length;j++){var k=c[j],l=k.xa,E=Math.ceil((l.width+e)/i)*i,I=Math.ceil((l.height+g)/m)*m,D;switch(p){case tk:D=Math.abs(s-l.width)+r;break;default:D=s+l.width-r}if(0<d&&y>d-1||0<a&&0<y&&D>a)y=0,s=r,v+=C,C=0;C=Math.max(C,I);switch(p){case tk:l=-l.width;break;default:l=0}k.move(new F(s+l,v));switch(p){case tk:s-=E;break;default:s+=E}y++}break;
case uk:i=Math.max(this.Ok.width,1);for(k=j=y=v=0;k<c.length;k++)m=c[k],p=m.xa,r=Jl(m,m.Xb,m.bg),v=Math.max(v,r.x),y=Math.max(y,p.width-r.x),j=Math.max(j,r.y);s=this.le;switch(s){case tk:v+=e;break;default:y+=e}var i=isFinite(i)?Math.max(i+e,1):Math.max(v+y,1),M=v=this.jd.x,y=this.jd.y,E=C=0,l=Math.max(this.Ok.height,1),I=j=0;D=h;for(k=0;k<c.length;k++){m=c[k];p=m.xa;r=Jl(m,m.Xb,m.bg);if(0<C)switch(s){case tk:M=Math.floor((M-v-(p.width-r.x))/i)*i+v;break;default:M=Math.ceil((M-v+r.x)/i)*i+v}else switch(s){case tk:E=
M+r.x+p.width;break;default:E=M-r.x}var N;switch(s){case tk:N=-(M+r.x)+v+E;break;default:N=M+p.width-r.x-v-E}if(0<d&&C>d-1||0<a&&0<C&&N>a){for(M=0;M<C&&k!==C;M++){N=c[k-C+M];var Z=Jl(N,N.Xb,N.bg);N.move(new F(N.position.x,N.position.y+j-Z.y))}I+=g;y=D?y+I:y+(I+j);C=I=j=0;M=v;D=q}j=Math.max(j,r.y);I=Math.max(I,p.height-r.y);isFinite(l)&&(I=Math.max(I,Math.max(p.height,l)-r.y));D?m.move(new F(M-r.x,y-r.y)):m.move(new F(M-r.x,y));switch(s){case tk:M-=r.x+e;break;default:M+=p.width-r.x+e}C++}for(M=0;M<
C&&k!==C;M++)N=c[k-C+M],Z=Jl(N,N.Xb,N.bg),N.move(new F(N.position.x,N.position.y+j-Z.y))}b.ne("Layout");this.Se=h}};w.g(dj,"wrappingWidth",dj.prototype.jA);w.defineProperty(dj,{jA:"wrappingWidth"},t("Ar"),function(a){if(this.Ar!==a&&(0<a||isNaN(a)))this.Ar=a,this.ks=isNaN(a),this.F()});w.g(dj,"wrappingColumn",dj.prototype.XE);w.defineProperty(dj,{XE:"wrappingColumn"},t("zr"),function(a){if(this.zr!==a&&(0<a||isNaN(a)))this.zr=a,this.F()});w.g(dj,"cellSize",dj.prototype.Ok);
w.defineProperty(dj,{Ok:"cellSize"},t("Ti"),function(a){this.Ti.I(a)||(this.Ti.Va(a),this.F())});w.g(dj,"spacing",dj.prototype.spacing);w.defineProperty(dj,{spacing:"spacing"},t("ph"),function(a){this.ph.I(a)||(this.ph.Va(a),this.F())});w.g(dj,"alignment",dj.prototype.Db);w.defineProperty(dj,{Db:"alignment"},t("Aa"),function(a){if(this.Aa!==a&&(u&&w.i(a,ja,dj,"alignment"),a===uk||a===vk))this.Aa=a,this.F()});w.g(dj,"arrangement",dj.prototype.le);
w.defineProperty(dj,{le:"arrangement"},t("Sc"),function(a){if(this.Sc!==a&&(u&&w.i(a,ja,dj,"arrangement"),a===sk||a===tk))this.Sc=a,this.F()});w.g(dj,"sorting",dj.prototype.ng);w.defineProperty(dj,{ng:"sorting"},t("uc"),function(a){if(this.uc!==a&&(u&&w.i(a,ja,dj,"sorting"),a===qk||a===rk||a===ok||a===pk))this.uc=a,this.F()});w.g(dj,"comparer",dj.prototype.zh);w.defineProperty(dj,{zh:"comparer"},t("rc"),function(a){this.rc!==a&&(u&&w.k(a,"function",dj,"comparer"),this.rc=a,this.F())});var fn;
dj.standardComparer=fn=function(a,b){u&&w.i(a,S,dj,"standardComparer:a");u&&w.i(b,S,dj,"standardComparer:b");var c=a.text,d=b.text;return c<d?-1:c>d?1:0};
dj.smartComparer=function(a,b){u&&w.i(a,S,dj,"standardComparer:a");u&&w.i(b,S,dj,"standardComparer:b");if(a!==n){if(b!==n){var c=a.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),d=b.text.toLocaleLowerCase().split(/([+\-]?[\.]?\d+(?:\.\d*)?(?:e[+\-]?\d+)?)/),e;for(e=0;e<c.length;e++)if(""!==d[e]&&d[e]!==f){var g=parseFloat(c[e]),i=parseFloat(d[e]);if(isNaN(g))if(isNaN(i)){if(0!==c[e].localeCompare(d[e]))return c[e].localeCompare(d[e])}else return 1;else{if(isNaN(i))return-1;
if(0!==g-i)return g-i}}else if(""!==c[e])return 1;return""!==d[e]&&d[e]!==f?-1:0}return 1}return b!==n?-1:0};var vk;dj.Position=vk=w.s(dj,"Position",0);var uk;dj.Location=uk=w.s(dj,"Location",1);var sk;dj.LeftToRight=sk=w.s(dj,"LeftToRight",2);var tk;dj.RightToLeft=tk=w.s(dj,"RightToLeft",3);var qk;dj.Forward=qk=w.s(dj,"Forward",4);var rk;dj.Reverse=rk=w.s(dj,"Reverse",5);var ok;dj.Ascending=ok=w.s(dj,"Ascending",6);var pk;dj.Descending=pk=w.s(dj,"Descending",7);
function wk(){ci.call(this);this.gx=this.Im=this.cd=0;this.rp=360;this.ex=Ik;this.jk=0;this.SA=Ik;this.jt=this.Wf=this.OB=0;this.Su=new gn;this.mt=this.Hl=0;this.lF=600;this.Gq=NaN;this.Wo=1;this.Ud=0;this.Vd=360;this.Sc=Ik;this.da=Ek;this.uc=Bk;this.rc=en;this.ph=6;this.Aq=Lk}w.Q("CircularLayout",wk);w.Ea(wk,ci);
wk.prototype.cloneProtected=wk.prototype.xb=function(a){ci.prototype.xb.call(this,a);a.Gq=this.Gq;a.Wo=this.Wo;a.Ud=this.Ud;a.Vd=this.Vd;a.Sc=this.Sc;a.da=this.da;a.uc=this.uc;a.rc=this.rc;a.ph=this.ph;a.Aq=this.Aq};wk.prototype.createNetwork=wk.prototype.lv=function(){var a=new hn;Xm(a,this);return a};
wk.prototype.doLayout=wk.prototype.Mr=function(a){this.Pc===n&&(this.Pc=this.makeNetwork(a));a=this.Pc.ka;if(1>=a.count)1==a.count&&(a=a.zb(),a.pa=0,a.ta=0);else{var b=new z(jn);b.Xf(a.l);var a=new z(jn),c=new z(jn),b=this.sort(b),a=new z(jn),c=new z(jn),d=this.ex,e=this.SA,g=this.cd,i=this.Im,j=this.gx,k=this.rp,l=this.jk,m=this.OB,p=this.Wf,r=this.jt,d=this.le,e=this.us,g=this.YD;if(!isFinite(g)||0>=g)g=NaN;i=this.gC;if(!isFinite(i)||0>=i)i=1;j=this.og;isFinite(j)||(j=0);k=this.Jh;if(!isFinite(k)||
360<k||1>k)k=360;l=this.spacing;isFinite(l)||(l=NaN);d===Jk&&e===Kk?d=Ik:d===Jk&&e!==Kk&&(e=Kk,d=this.le);if((this.direction===Ck||this.direction===Dk)&&this.ng!==Bk){for(var s=0;!(s>=b.length);s+=2){a.add(b.oa(s));if(s+1>=b.length)break;c.add(b.oa(s+1))}this.direction===Ck?(this.le===Jk&&a.reverse(),b=new z(jn),b.Xf(a),b.Xf(c)):(this.le===Jk&&c.reverse(),b=new z(jn),b.Xf(c),b.Xf(a))}for(var v=b.length,y=m=0,s=0;s<b.length;s++){var p=j+k*y*(this.direction===Ek?1:-1)/v,C=b.oa(s).yf;isNaN(C)&&(C=kn(b.oa(s),
p));if(360>k&&(0===s||s===b.length-1))C/=2;m+=C;y++}if(isNaN(g)||d===Jk){isNaN(l)&&(l=6);if(d!==Ik&&d!==Jk){C=-Infinity;for(s=0;s<v;s++){var r=b.oa(s),E=b.oa(s===v-1?0:s+1);isNaN(r.yf)&&kn(r,0);isNaN(E.yf)&&kn(E,0);C=Math.max(C,(r.yf+E.yf)/2)}r=C+l;d===Gk?(p=2*Math.PI/v,g=(C+l)/p):g=ln(this,r*(360<=k?v:v-1),i,j*Math.PI/180,k*Math.PI/180)}else g=ln(this,m+(360<=k?v:v-1)*(d!==Jk?l:1.6*l),i,j*Math.PI/180,k*Math.PI/180);p=g*i}else if(p=g*i,y=mn(this,g,p,j*Math.PI/180,k*Math.PI/180),isNaN(l)){if(d===Ik||
d===Jk)l=(y-m)/(360<=k?v:v-1)}else if(d===Ik||d===Jk)s=(y-m)/(360<=k?v:v-1),s<l?(g=ln(this,m+l*(360<=k?v:v-1),i,j*Math.PI/180,k*Math.PI/180),p=g*i):l=s;else{C=-Infinity;for(s=0;s<v;s++)r=b.oa(s),E=b.oa(s===v-1?0:s+1),isNaN(r.yf)&&kn(r,0),isNaN(E.yf)&&kn(E,0),C=Math.max(C,(r.yf+E.yf)/2);r=C+l;s=ln(this,r*(360<=k?v:v-1),i,j*Math.PI/180,k*Math.PI/180);s>g?(g=s,p=g*i):r=y/(360<=k?v:v-1)}this.ex=d;this.SA=e;this.cd=g;this.Im=i;this.gx=j;this.rp=k;this.jk=l;this.OB=m;this.Wf=p;this.jt=r;c=[b,a,c];b=c[0];
a=c[1];c=c[2];d=this.ex;e=this.cd;i=this.gx;j=this.rp;k=this.jk;l=this.Wf;m=this.jt;if((this.direction===Ck||this.direction===Dk)&&d===Jk)nn(this,b,j,i-j/2,Ek);else if(this.direction===Ck||this.direction===Dk){g=0;switch(d){case Hk:g=180*on(this,e,l,i,m)/Math.PI;break;case Ik:m=b=0;g=a.zb();g!==n&&(b=kn(g,Math.PI/2));g=c.zb();g!==n&&(m=kn(g,Math.PI/2));g=180*on(this,e,l,i,k+(b+m)/2)/Math.PI;break;case Gk:g=j/b.length}if(this.direction===Ck){switch(d){case Hk:pn(this,a,i,Fk);break;case Ik:qn(this,
a,i,Fk);break;case Gk:rn(this,a,j/2,i,Fk)}switch(d){case Hk:pn(this,c,i+g,Ek);break;case Ik:qn(this,c,i+g,Ek);break;case Gk:rn(this,c,j/2,i+g,Ek)}}else{switch(d){case Hk:pn(this,c,i,Fk);break;case Ik:qn(this,c,i,Fk);break;case Gk:rn(this,c,j/2,i,Fk)}switch(d){case Hk:pn(this,a,i+g,Ek);break;case Ik:qn(this,a,i+g,Ek);break;case Gk:rn(this,a,j/2,i+g,Ek)}}}else switch(d){case Hk:pn(this,b,i,this.direction);break;case Ik:qn(this,b,i,this.direction);break;case Gk:rn(this,b,j,i,this.direction);break;case Jk:nn(this,
b,j,i,this.direction)}}this.updateParts();this.Pc=n;this.Se=h};function rn(a,b,c,d,e){for(var g=a.rp,i=a.cd,a=a.Wf,d=d*Math.PI/180,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=d+(e===Ek?k*c/(360<=g?j:j-1):-(k*c)/j),m=b.oa(k),p=i*Math.tan(l)/a,p=Math.sqrt((i*i+a*a*p*p)/(1+p*p));m.pa=p*Math.cos(l);m.ta=p*Math.sin(l);m.Vu=180*l/Math.PI}}
function qn(a,b,c,d){for(var e=a.cd,g=a.Wf,i=a.jk,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.oa(k),m=b.oa(k===j-1?0:k+1),p=g*Math.sin(c);l.pa=e*Math.cos(c);l.ta=p;l.Vu=180*c/Math.PI;isNaN(l.yf)&&kn(l,0);isNaN(m.yf)&&kn(m,0);l=on(a,e,g,d===Ek?c:-c,(l.yf+m.yf)/2+i);c+=d===Ek?l:-l}}function pn(a,b,c,d){for(var e=a.cd,g=a.Wf,i=a.jt,c=c*Math.PI/180,j=b.length,k=0;k<j;k++){var l=b.oa(k);l.pa=e*Math.cos(c);l.ta=g*Math.sin(c);l.Vu=180*c/Math.PI;l=on(a,e,g,d===Ek?c:-c,i);c+=d===Ek?l:-l}}
function nn(a,b,c,d,e){var g=a.mt,g=a.rp;a.Hl=0;a.Su=new gn;if(360>c){for(g=d+(e===Ek?g:-g);0>g;)g+=360;g%=360;180<g&&(g-=360);g*=Math.PI/180;a.mt=g;sn(a,b,c,d,e)}else tn(a,b,c,d,e);a.Su.fv(b)}
function tn(a,b,c,d,e){var g=a.cd,i=a.Wf,j=a.jk,k=a.Im,l=g*Math.cos(d*Math.PI/180),m=i*Math.sin(d*Math.PI/180),p=b.sg();if(3===p.length)p[0].pa=g*Math.cos(0),p[0].ta=i*Math.sin(0),p[1].pa=p[0].pa-p[0].width/2-p[1].width/2-j,p[1].y=p[0].y,p[2].pa=(p[0].pa+p[1].pa)/2,p[2].y=p[0].y-p[2].height-j;else if(4===p.length)p[0].pa=g*Math.cos(0),p[0].ta=i*Math.sin(0),p[2].pa=-p[0].pa,p[2].ta=p[0].ta,p[1].pa=0,p[1].y=Math.min(p[0].y,p[2].y)-p[1].height-j,p[3].pa=0,p[3].y=Math.max(p[0].y+p[0].height+j,p[2].y+
p[2].height+j);else{for(g=0;g<p.length;g++){p[g].pa=l;p[g].ta=m;if(g>=p.length-1)break;i=un(a,l,m,p,g,e);i[0]||(i=vn(a,l,m,p,g,e));l=i[1];m=i[2]}a.Hl++;if(!(23<a.Hl)){var l=p[0].pa,m=p[0].ta,g=p[p.length-1].pa,i=p[p.length-1].ta,r=Math.abs(l-g)-((p[0].width+p[p.length-1].width)/2+j),s=Math.abs(m-i)-((p[0].height+p[p.length-1].height)/2+j),j=0;1>Math.abs(s)?Math.abs(l-g)<(p[0].width+p[p.length-1].width)/2&&(j=0):j=0<s?s:1>Math.abs(r)?0:r;r=q;r=Math.abs(g)>Math.abs(i)?0<g!==m>i:0<i!==l<g;if(r=e===Ek?
r:!r)j=-Math.abs(j),j=Math.min(j,-p[p.length-1].width),j=Math.min(j,-p[p.length-1].height);l=a.Su;if(0<j&&0>l.Mm||Math.abs(j)<Math.abs(l.Mm)&&!(0>j&&0<l.Mm)){l.Mm=j;l.Ol=[];l.Cn=[];for(m=0;m<p.length;m++)l.Ol[m]=p[m].Fb.x,l.Cn[m]=p[m].Fb.y}1<Math.abs(j)&&(a.cd=8>a.Hl?a.cd-j/(2*Math.PI):5>p.length&&10<j?a.cd/2:a.cd-(0<j?1.7:-2.3),a.Wf=a.cd*k,tn(a,b,c,d,e))}}}
function sn(a,b,c,d,e){for(var g=a.cd,i=a.Wf,j=a.Im,k=g*Math.cos(d*Math.PI/180),l=i*Math.sin(d*Math.PI/180),m=b.sg(),p=0;p<m.length;p++){m[p].pa=k;m[p].ta=l;if(p>=m.length-1)break;var r=un(a,k,l,m,p,e);r[0]||(r=vn(a,k,l,m,p,e));k=r[1];l=r[2]}a.Hl++;if(!(23<a.Hl)){b.oa(b.length-1);k=Math.atan2(l,k);k=e===Ek?a.mt-k:k-a.mt;k=Math.abs(k)<Math.abs(k-2*Math.PI)?k:k-2*Math.PI;g=k*(g+i)/2;i=a.Su;if(Math.abs(g)<Math.abs(i.Mm)){i.Mm=g;i.Ol=[];i.Cn=[];for(k=0;k<m.length;k++)i.Ol[k]=m[k].Fb.x,i.Cn[k]=m[k].Fb.y}1<
Math.abs(g)&&(a.cd=8>a.Hl?a.cd-g/(2*Math.PI):a.cd-(0<g?1.7:-2.3),a.Wf=a.cd*j,sn(a,b,c,d,e))}}function un(a,b,c,d,e,g){var i=a.cd,j=a.Wf,k=0,l=0,a=(d[e].width+d[e+1].width)/2+a.jk,m=q;if(0<=c!==(g===Ek)){if(k=b+a,k>i){k=b-a;if(k<-i)return[q,k,l];m=h}}else if(k=b-a,k<-i){k=b+a;if(k>i)return[q,k,l];m=h}l=Math.sqrt(1-Math.min(1,k*k/(i*i)))*j;0>c!==m&&(l=-l);return Math.abs(c-l)>(d[e].height+d[e+1].height)/2?[q,k,l]:[h,k,l]}
function vn(a,b,c,d,e,g){var i=a.cd,j=a.Wf,k=0,l=0,a=(d[e].height+d[e+1].height)/2+a.jk,m=q;if(0<=b!==(g===Ek)){if(l=c-a,l<-j){l=c+a;if(l>j)return[q,k,l];m=h}}else if(l=c+a,l>j){l=c-a;if(l<-j)return[q,k,l];m=h}k=Math.sqrt(1-Math.min(1,l*l/(j*j)))*i;0>b!==m&&(k=-k);return Math.abs(b-k)>(d[e].width+d[e+1].width)/2?[q,k,l]:[h,k,l]}function gn(){this.Mm=-Infinity;this.Cn=this.Ol=n}
gn.prototype.fv=function(a){if(!(this.Ol===n||this.Cn===n))for(var b=0;b<this.Ol.length;b++){var c=a.oa(b);c.x=this.Ol[b];c.y=this.Cn[b]}};wk.prototype.commitLayout=wk.prototype.gv=function(){this.commitNodes();this.is&&this.commitLinks()};wk.prototype.commitNodes=wk.prototype.Ty=function(){for(var a=this.AF,b=this.B.ka.l,c;b.next();)c=b.value,c.x+=a.x,c.y+=a.y,c.commit()};wk.prototype.commitLinks=wk.prototype.Sy=function(){for(var a=this.B.mc.l;a.next();)a.value.commit()};
function mn(a,b,c,d,e){var g=a.lF;if(0.001>Math.abs(a.Im-1))return d!==f&&e!==f?e*b:2*Math.PI*b;var a=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,j;j=d!==f&&e!==f?e/(g+1):Math.PI/(2*(g+1));for(var k=0;k<=g;k++)var l=Math.sin(d!==f&&e!==f?d+k*e/g:k*Math.PI/(2*g)),i=i+Math.sqrt(1-a*a*l*l)*j;return d!==f&&e!==f?(b>c?b:c)*i:4*(b>c?b:c)*i}function ln(a,b,c,d,e){return b/(d!==f&&e!==f?mn(a,1,c,d,e):mn(a,1,c))}
function on(a,b,c,d,e){if(0.001>Math.abs(a.Im-1))return e/b;var g=b>c?Math.sqrt(b*b-c*c)/b:Math.sqrt(c*c-b*b)/c,i=0,a=2*Math.PI/(700*a.B.ka.count);b>c&&(d+=Math.PI/2);for(var j=0;;j++){var k=Math.sin(d+j*a),i=i+(b>c?b:c)*Math.sqrt(1-g*g*k*k)*a;if(i>=e)return j*a}return 0}
wk.prototype.sort=function(a){switch(this.ng){case zk:break;case Ak:a.reverse();break;case xk:a.sort(this.zh);break;case yk:a.sort(this.zh);a.reverse();break;case Bk:for(var b=[],c=0;c<a.length;c++)b.push(0);for(var d=new z(jn),c=0;c<a.length;c++){var e=-1,g=-1;if(0===c)for(var i=0;i<a.length;i++){var j=a.oa(i).xG;j>e&&(e=j,g=i)}else for(i=0;i<a.length;i++)j=b[i],j>e&&(e=j,g=i);d.add(a.oa(g));b[g]=-1;g=a.oa(g);e=g.Hb;for(g=g.Gb;e.next();)i=e.value,i=i.hz,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++;for(;g.next();)i=
g.value,i=i.eA,i=a.indexOf(i),0>i||0<=b[i]&&b[i]++}a=[];for(b=0;b<d.length;b++){j=d.oa(b);a[b]=[];for(var c=j.Gb,e=j.Hb,k,l;c.next();)k=c.value,l=d.indexOf(k.eA),l!==b&&0>a[b].indexOf(l)&&a[b].push(l);for(;e.next();)k=e.value,l=d.indexOf(k.hz),l!==b&&0>a[b].indexOf(l)&&a[b].push(l)}j=[];for(b=0;b<a.length;b++)j[b]=0;for(var c=[],m=[],p=[],e=[],g=new z(jn),i=b=0;b<a.length;b++){var r=a[b].length;if(1===r)e.push(b);else if(0===r)g.add(d.oa(b));else{if(0===i)c.push(b);else{for(var s=Infinity,v=Infinity,
y=-1,C=[],r=0;r<c.length;r++)if(0>a[c[r]].indexOf(c[r===c.length-1?0:r+1]))C.push(r===c.length-1?0:r+1);if(0===C.length)for(r=0;r<c.length;r++)C.push(r);for(r=0;r<C.length;r++){var E=C[r],I;l=a[b];k=m;I=p;for(var D=j,M=E,N=c,Z=0,va=0;va<k.length;va++){var la=D[k[va]],ta=D[I[va]],Ea=0,Ha=0;la<ta?(Ea=la,Ha=ta):(Ea=ta,Ha=la);if(Ea<M&&M<=Ha)for(la=0;la<l.length;la++)ta=l[la],0>N.indexOf(ta)||Ea<D[ta]&&D[ta]<Ha||(Ea===D[ta]||Ha===D[ta])||Z++;else for(la=0;la<l.length;la++)ta=l[la],0>N.indexOf(ta)||Ea<
D[ta]&&D[ta]<Ha&&!(Ea===D[ta]||Ha===D[ta])&&Z++}I=Z;for(k=D=0;k<a[b].length;k++)l=c.indexOf(a[b][k]),0<=l&&(l=Math.abs(E-(l>=E?l+1:l)),D+=l<c.length+1-l?l:c.length+1-l);for(k=0;k<m.length;k++)l=j[m[k]],M=j[p[k]],l>=E&&l++,M>=E&&M++,l>M&&(N=M,M=l,l=N),M-l<(c.length+2)/2===(l<E&&E<=M)&&D++;if(I<s||I===s&&D<v)s=I,v=D,y=E}c.splice(y,0,b);for(r=0;r<c.length;r++)j[c[r]]=r;for(r=0;r<a[b].length;r++)s=a[b][r],0<=c.indexOf(s)&&(m.push(b),p.push(s))}i++}}m=q;for(p=c.length;;){m=h;for(j=0;j<e.length;j++)if(b=
e[j],r=a[b][0],l=c.indexOf(r),0<=l){for(i=v=0;i<a[r].length;i++)s=a[r][i],s=c.indexOf(s),0>s||s===l||(y=s>l?s-l:l-s,v+=s<l!==y>p-y?1:-1);c.splice(0>v?l:l+1,0,b);e.splice(j,1);j--}else m=q;if(m)break;else c.push(e[0]),e.splice(0,1)}for(b=0;b<c.length;b++)l=c[b],g.add(d.oa(l));return g;default:w.m("Invalid sorting type.")}return a};w.g(wk,"radius",wk.prototype.YD);w.defineProperty(wk,{YD:"radius"},t("Gq"),function(a){if(this.Gq!==a&&(0<a||isNaN(a)))this.Gq=a,this.F()});w.g(wk,"aspectRatio",wk.prototype.gC);
w.defineProperty(wk,{gC:"aspectRatio"},t("Wo"),function(a){this.Wo!==a&&0<a&&(this.Wo=a,this.F())});w.g(wk,"startAngle",wk.prototype.og);w.defineProperty(wk,{og:"startAngle"},t("Ud"),function(a){this.Ud!==a&&(this.Ud=a,this.F())});w.g(wk,"sweepAngle",wk.prototype.Jh);w.defineProperty(wk,{Jh:"sweepAngle"},t("Vd"),function(a){this.Vd!==a&&(this.Vd=0<a&&360>=a?a:360,this.F())});w.g(wk,"arrangement",wk.prototype.le);
w.defineProperty(wk,{le:"arrangement"},t("Sc"),function(a){if(this.Sc!==a&&(u&&w.i(a,ja,wk,"arrangement"),a===Jk||a===Ik||a===Hk||a===Gk))this.Sc=a,this.F()});w.g(wk,"direction",wk.prototype.direction);w.defineProperty(wk,{direction:"direction"},t("da"),function(a){if(this.da!==a&&(u&&w.i(a,ja,wk,"direction"),a===Ek||a===Fk||a===Ck||a===Dk))this.da=a,this.F()});w.g(wk,"sorting",wk.prototype.ng);
w.defineProperty(wk,{ng:"sorting"},t("uc"),function(a){if(this.uc!==a&&(u&&w.i(a,ja,wk,"sorting"),a===zk||a===Ak||a===xk||yk||a===Bk))this.uc=a,this.F()});w.g(wk,"comparer",wk.prototype.zh);w.defineProperty(wk,{zh:"comparer"},t("rc"),function(a){this.rc!==a&&(u&&w.k(a,"function",wk,"comparer"),this.rc=a,this.F())});w.g(wk,"spacing",wk.prototype.spacing);w.defineProperty(wk,{spacing:"spacing"},t("ph"),function(a){this.ph!==a&&(this.ph=a,this.F())});w.g(wk,"nodeDiameterFormula",wk.prototype.us);
w.defineProperty(wk,{us:"nodeDiameterFormula"},t("Aq"),function(a){if(this.Aq!==a&&(u&&w.i(a,ja,wk,"nodeDiameterFormula"),a===Lk||a===Kk))this.Aq=a,this.F()});w.u(wk,{BF:"actualXRadius"},t("cd"));w.u(wk,{CF:"actualYRadius"},t("Wf"));w.u(wk,{yI:"actualSpacing"},t("jk"));w.u(wk,{AF:"actualCenter"},function(){return isNaN(this.jd.x)||isNaN(this.jd.y)?new F(0,0):new F(this.jd.x+this.BF,this.jd.y+this.CF)});var Ik;wk.ConstantSpacing=Ik=w.s(wk,"ConstantSpacing",0);var Hk;
wk.ConstantDistance=Hk=w.s(wk,"ConstantDistance",1);var Gk;wk.ConstantAngle=Gk=w.s(wk,"ConstantAngle",2);var Jk;wk.Packed=Jk=w.s(wk,"Packed",3);var Ek;wk.Clockwise=Ek=w.s(wk,"Clockwise",4);var Fk;wk.Counterclockwise=Fk=w.s(wk,"Counterclockwise",5);var Ck;wk.BidirectionalLeft=Ck=w.s(wk,"BidirectionalLeft",6);var Dk;wk.BidirectionalRight=Dk=w.s(wk,"BidirectionalRight",7);var zk;wk.Forwards=zk=w.s(wk,"Forwards",8);var Ak;wk.Reverse=Ak=w.s(wk,"Reverse",9);var xk;wk.Ascending=xk=w.s(wk,"Ascending",10);
var yk;wk.Descending=yk=w.s(wk,"Descending",11);var Bk;wk.Optimized=Bk=w.s(wk,"Optimized",12);var Lk;wk.Pythagorean=Lk=w.s(wk,"Pythagorean",13);var Kk;wk.Circular=Kk=w.s(wk,"Circular",14);function hn(){Wm.call(this)}w.Q("CircularNetwork",hn);w.Ea(hn,Wm);hn.prototype.createVertex=hn.prototype.zj=function(){return new jn};hn.prototype.createEdge=hn.prototype.Tn=function(){return new wn};function jn(){$m.call(this);this.sA=this.Hm=NaN}w.Q("CircularVertex",jn);w.Ea(jn,$m);
function kn(a,b){var c=a.B;if(c===n)return NaN;c=c.Pb;if(c===n)return NaN;if(c.le===Jk)if(c.us===Kk)a.Hm=Math.max(a.width,a.height);else{var c=Math.abs(Math.sin(b)),d=Math.abs(Math.cos(b));if(0===c)return a.width;if(0===d)return a.height;a.Hm=Math.min(a.height/c,a.width/d)}else a.Hm=c.us===Kk?Math.max(a.width,a.height):Math.sqrt(a.width*a.width+a.height*a.height);return a.Hm}w.g(jn,"diameter",jn.prototype.yf);w.defineProperty(jn,{yf:"diameter"},t("Hm"),ba("Hm"));w.g(jn,"actualAngle",jn.prototype.Vu);
w.defineProperty(jn,{Vu:"actualAngle"},t("sA"),ba("sA"));function wn(){an.call(this)}w.Q("CircularEdge",wn);w.Ea(wn,an);function xn(){ci.call(this);this.Vf=n;this.Yp=0;this.Hf=(new bb(100,100)).freeze();this.Vo=q;this.Fd=this.oh=h;this.cn=100;this.up=1;this.Ip=1E3;this.np=0.05;this.mp=50;this.kp=150;this.lp=0;this.ip=20;this.hp=25}w.Q("ForceDirectedLayout",xn);w.Ea(xn,ci);
xn.prototype.cloneProtected=xn.prototype.xb=function(a){ci.prototype.xb.call(this,a);a.Hf=this.Hf.O();a.Vo=this.Vo;a.oh=this.oh;a.Fd=this.Fd;a.cn=this.cn;a.up=this.up;a.Ip=this.Ip;a.np=this.np;a.mp=this.mp;a.kp=this.kp;a.lp=this.lp;a.ip=this.ip;a.hp=this.hp};xn.prototype.createNetwork=xn.prototype.lv=function(){var a=new yn;Xm(a,this);return a};
xn.prototype.doLayout=xn.prototype.Mr=function(a){this.Pc===n&&(this.Pc=this.makeNetwork(a));a=this.Mv;if(0<this.B.ka.count){this.B.ov();for(var b=this.B.ka.l;b.next();){var c=b.value;c.Vi=this.electricalCharge(c);c.bn=this.gravitationalMass(c)}for(b=this.B.mc.l;b.next();)c=b.value,c.ir=this.springStiffness(c),c.di=this.springLength(c);this.Yp=0;a:{if(!(3>this.B.ka.count)){var d=b=0,c=this.B.ka.l;c.next();for(var e=c.value.L;c.next();){if(c.value.L.Qe(e)&&(b++,1<b)){b=h;break a}if(10<d)break;d++}}b=
q}if(b){b=this.B;for(d=b.aI().l;d.next();){this.Pc=e=d.value;for(c=this.B.ka.l;c.next();){for(var e=c.value,g=0,i=e.ka;i.next();)g++;e.jf=g;e.lj=1;e.nl=n;e.Jg=n}zn(this,0,a)}this.Pc=b;d.reset();u&&w.i(b,yn,xn,"arrangeConnectedGraphs:singletons");for(var c=this.Zu,j=d.count,e=h,i=g=0,k=[],l=0;l<j+b.ka.count+2;l++)k[l]=n;j=0;for(d.reset();d.next();){var m=d.value,l=this.oe(m);if(e)e=q,g=l.x+l.width/2,i=l.y+l.height/2,k[0]=new F(l.right+c.width,l.top),k[1]=new F(l.left,l.bottom+c.height),j=2;else{var p=
An(k,j,new F(g,i),new bb(l.width,l.height),c),r=k[p],s=new F(r.x+l.width+c.width,r.y),v=new F(r.x,r.y+l.height+c.height);p+1<j&&k.splice(p+1,0,n);k[p]=s;k[p+1]=v;j++;p=r.x-l.x;l=r.y-l.y;for(m=m.ka.l;m.next();){var y=m.value;y.pa+=p;y.ta+=l}}}for(m=b.ka.l;m.next();)y=m.value,l=y.L,2>j?(g=l.x+l.width/2,i=l.y+l.height/2,k[0]=new F(l.right+c.width,l.top),k[1]=new F(l.left,l.bottom+c.height),j=2):(p=An(k,j,new F(g,i),new bb(l.width,l.height),c),r=k[p],s=new F(r.x+l.width+c.width,r.y),v=new F(r.x,r.y+l.height+
c.height),p+1<j&&k.splice(p+1,0,n),k[p]=s,k[p+1]=v,j++,y.pa=r.x+y.width/2,y.ta=r.y+y.height/2);for(d.reset();d.next();){e=d.value;for(g=e.ka.l;g.next();)c=g.value,b.Gk(c);for(e=e.mc.l;e.next();)c=e.value,b.Dn(c)}}Bn(this,a);this.updateParts()}this.cn=a;this.Pc=n;this.Se=h};xn.prototype.oe=function(a){u&&w.i(a,yn,xn,"computeBounds:net");for(var b=new G,c=h,a=a.ka.l;a.next();){var d=a.value;c?(c=q,b.set(d.L)):b.Ni(d.L)}return b};
function Cn(a,b,c){u&&(w.o(b,xn,"computeClusterLayoutIterations:level"),w.o(c,xn,"computeClusterLayoutIterations:maxiter"));return Math.max(Math.min(a.B.ka.count,c*(b+1)/11),10)}
function zn(a,b,c){u&&(w.o(b,xn,"layoutClusters:level"),w.o(c,xn,"layoutClusters:maxiter"));var d;u&&w.o(b,xn,"hasClusters:level");if(10<b||3>a.B.ka.count)d=q;else{a.Vf===n?a.Vf=new z(Dn):a.Vf.clear();a.Vf.Xf(a.B.ka);d=a.Vf;d.sort(function(a,b){return a===n||b===n||a===b?0:b.jf-a.jf});for(var e=d.count-1;0<=e&&1>=d.n[e].jf;)e--;d=1<d.count-e}if(d){d=a.fm;a.fm*=1+1/(b+1);u&&w.o(b,xn,"pushSubNetwork:level");for(var e=a.B,g=new yn,i=a.Vf.l;i.next();){var j=i.value;if(1<j.jf){g.Gk(j);var k={mA:j.jf,nA:j.width,
lA:j.height,ZE:j.K.x,$E:j.K.y};j.Jg===n&&(j.Jg=new z);j.Jg.add(k);j.Xx=j.Jg.count-1}else break}for(var l=e.mc.l;l.next();){var m=l.value;if(m.W.B===g&&m.S.B===g)g.Dn(m);else if(m.W.B===g){var p=m.W.nl;p===n&&(p=new z(Dn),m.W.nl=p);p.add(m.S);m.W.jf--;m.W.lj+=m.S.lj}else m.S.B===g&&(p=m.S.nl,p===n&&(p=new z(Dn),m.S.nl=p),p.add(m.W),m.S.jf--,m.S.lj+=m.W.lj)}for(l=g.mc.l;l.next();)m=l.value,m.di*=Math.max(1,sc((m.W.lj+m.S.lj)/(4*b+1)));for(i=g.ka.l;i.next();)if(j=i.value,p=j.nl,p!==n&&0<p.count&&(k=
j.Jg.n[j.Jg.count-1],k=k.mA-j.jf,!(0>=k))){for(var r=0,s=0,v=p.count-k;v<p.count;v++){for(var y=p.n[v],m=n,l=y.mc.l;l.next();){var C=l.value;if(C.HG(y)===j){m=C;break}}m!==n&&(s+=m.di,r+=y.width*y.height)}p=j.pa;l=j.ta;m=j.width;v=j.height;y=j.K;C=m*v;1>C&&(C=1);r=sc((r+C+4*s*s/(k*k))/C);k=(r-1)*m/2;r=(r-1)*v/2;j.Fb=new G(p-y.x-k,l-y.y-r,m+2*k,v+2*r);j.focus=new F(y.x+k,y.y+r)}a.Pc=g;g=Math.max(0,Cn(a,b,c));a.Mv+=g;zn(a,b+1,c);Bn(a,g);u&&(w.i(e,yn,xn,"popNetwork:oldnet"),w.o(b,xn,"popNetwork:level"));
for(c=a.B.ka.l;c.next();)g=c.value,g.B=e,g.Jg!==n&&(i=g.Jg.n[g.Xx],g.jf=i.mA,j=i.ZE,k=i.$E,g.Fb=new G(g.pa-j,g.ta-k,i.nA,i.lA),g.focus=new F(j,k),g.Xx--);for(c=a.B.mc.l;c.next();)c.value.B=e;a.Pc=e;c=a.Vf;c===n?c=new z(Dn):c.clear();c.Xf(e.ka);c.sort(function(a,b){return a===n||b===n||a===b?0:b.jf-a.jf});for(e=c.l;e.next();)En(a,e.value,b);a.fm=d}}
function En(a,b,c){u&&(w.i(b,Dn,xn,"surroundNode:oldnet"),w.o(c,xn,"surroundNode:level"));var d=b.nl;if(!(d===n||0===d.count)){var c=b.pa,e=b.ta,g=b.width,i=b.height;b.Jg!==n&&0<b.Jg.count&&(i=b.Jg.n[0],g=i.nA,i=i.lA);for(var g=sc(g*g+i*i)/2,j=q,k=i=0,l=0,m=b.ka.l;m.next();){var p=m.value;1>=p.jf?k++:(j=h,l++,i+=Math.atan2(b.ta-p.ta,b.pa-p.pa))}if(0!==k){0<l&&(i/=l);l=b=0;b=j?2*Math.PI/(k+1):2*Math.PI/k;0===k%2&&(l=b/2);1<d.count&&d.sort(function(a,b){return a===n||b===n||a===b?0:b.width*b.height-
a.width*a.height});j=0===k%2?0:1;for(m=d.l;m.next();)if(p=m.value,!(1<p.jf)&&!a.isFixed(p)){d=n;for(k=p.mc.l;k.next();){d=k.value;break}var k=p.width,r=p.height,k=sc(k*k+r*r)/2,d=g+d.di+k,k=i+(b*(j/2>>1)+l)*(0==j%2?1:-1);p.pa=c+d*Math.cos(k);p.ta=e+d*Math.sin(k);j++}}}}
function An(a,b,c,d,e){var g=9E19,i=-1,j=0;a:for(;j<b;j++){var k=a[j],l=k.x-c.x,m=k.y-c.y,l=l*l+m*m;if(l<g){for(m=j-1;0<=m;m--)if(a[m].y>k.y&&a[m].x-k.x<d.width+e.width)continue a;for(m=j+1;m<b;m++)if(a[m].x>k.x&&a[m].y-k.y<d.height+e.height)continue a;i=j;g=l}}return i}xn.prototype.DF=function(a){var b=a.fb;if(b!==n)for(b=b.NC();b.next();){var c=b.value;if("Comment"===c.Mc){var d=this.B.Pe(c);d===n&&(d=this.B.Fn(c),d.Vi=this.zC,c=this.B.hm(a,d,n),c!==n&&(c.di=this.AC))}}};
function Fn(a,b){u&&(w.i(a,Dn,xn,"getNodeDistance:vertexA"),w.i(b,Dn,xn,"getNodeDistance:vertexB"));var c=a.L,d=c.x,e=c.y,g=c.width,c=c.height,i=b.L,j=i.x,k=i.y,l=i.width,i=i.height;return d+g<j?e>k+i?(d=d+g-j,e=e-k-i,sc(d*d+e*e)):e+c<k?(d=d+g-j,e=e+c-k,sc(d*d+e*e)):j-(d+g):d>j+l?e>k+i?(d=d-j-l,e=e-k-i,sc(d*d+e*e)):e+c<k?(d=d-j-l,e=e+c-k,sc(d*d+e*e)):d-(j+l):e>k+i?e-(k+i):e+c<k?k-(e+c):0.1}
function Bn(a,b){u&&w.o(b,xn,"performIterations:num");a.Vf=n;for(var c=a.Yp+b;a.Yp<c&&!(a.Yp++,!Gn(a)););a.Vf=n}
function Gn(a){a.Vf===n&&(a.Vf=new z(Dn),a.Vf.Xf(a.B.ka));var b=a.Vf;if(0>=b.count)return q;var c=b.n[0];c.Pd=0;c.Qd=0;for(var d=c.pa,e=d,g=c.ta,i=g,c=1;c<b.count;c++){var j=b.n[c];j.Pd=0;j.Qd=0;var k=j.pa,j=j.ta,d=Math.min(d,k),e=Math.max(e,k),g=Math.min(g,j),i=Math.max(i,j)}(i=e-d>i-g)?b.sort(function(a,b){return a===n||b===n||a===b?0:a.pa-b.pa}):b.sort(function(a,b){return a===n||b===n||a===b?0:a.ta-b.ta});for(var l=0,m=k=0,c=0;c<b.count;c++){j=b.n[c];d=j.pa;e=j.ta;k=j.Vi*a.electricalFieldX(d,
e);m=j.Vi*a.electricalFieldY(d,e);j.Pd+=k;j.Qd+=m;k=j.bn*a.gravitationalFieldX(d,e);m=j.bn*a.gravitationalFieldY(d,e);j.Pd+=k;j.Qd+=m;for(var p=a.fm,r=c+1;r<b.count;r++)if(g=b.n[r],g!==j){var m=g.pa,s=g.ta;if(Math.abs(d-m)>p){if(i)break}else if(Math.abs(e-s)>p){if(!i)break}else{var v=Fn(j,g);1>v?(d>m?(k=Math.abs(g.L.right-j.L.left),k=Hn(1+k)):d<m?(k=Math.abs(g.L.left-j.L.right),k=-Hn(1+k)):(k=Math.max(g.width,j.width),k=Hn(1+k)-k/2),e>s?(m=Math.abs(g.L.bottom-j.L.top),m=Hn(1+m)):d<m?(m=Math.abs(g.L.top-
j.L.bottom),m=-Hn(1+m)):(m=Math.max(g.height,j.height),m=Hn(1+m)-m/2)):(l=-(j.Vi*g.Vi)/(v*v),k=l*((m-d)/v),m=l*((s-e)/v));j.Pd+=k;j.Qd+=m;g.Pd-=k;g.Qd-=m}}}for(c=a.B.mc.l;c.next();)i=c.value,j=i.W,g=i.S,d=j.pa,e=j.ta,m=g.pa,s=g.ta,v=Fn(j,g),1>v?(k=(d>m?1:-1)*Hn(1+Math.max(g.width,j.width)),m=(e>s?1:-1)*Hn(1+Math.max(g.height,j.height))):(l=i.ir*(v-i.di),k=l*((m-d)/v),m=l*((s-e)/v)),j.Pd+=k,j.Qd+=m,g.Pd-=k,g.Qd-=m;c=0;d=Math.max(a.fm/20,50);for(e=0;e<b.count;e++)j=b.n[e],a.isFixed(j)||(g=j.Pd,i=j.Qd,
g<-d?g=-d:g>d&&(g=d),i<-d?i=-d:i>d&&(i=d),j.pa+=g,j.ta+=i,c=Math.max(c,g*g+i*i));return c>a.dz*a.dz}function Hn(a){return Math.floor(a*Math.random())}xn.prototype.commitLayout=xn.prototype.gv=function(){this.Xz();this.commitNodes();this.is&&this.commitLinks()};xn.prototype.Xz=function(){if(this.nm)for(var a=this.B.mc.l;a.next();){var b=a.value.Ra;b!==n&&(b.lb=Hb,b.ob=Hb)}};
xn.prototype.commitNodes=xn.prototype.Ty=function(){var a=0,b=0;if(this.eC)var b=this.oe(this.B),c=this.jd,a=c.x-b.x,b=c.y-b.y;for(var c=new G,d=this.B.ka.l;d.next();){var e=d.value;if(0!==a||0!==b)c.set(e.L),c.x+=a,c.y+=b,e.Fb=c;e.commit()}};xn.prototype.commitLinks=xn.prototype.Sy=function(){for(var a=this.B.mc.l;a.next();)a.value.commit()};xn.prototype.springStiffness=xn.prototype.iM=function(a){a=a.ir;return!isNaN(a)?a:this.EC};
xn.prototype.springLength=xn.prototype.hM=function(a){a=a.di;return!isNaN(a)?a:this.DC};xn.prototype.electricalCharge=xn.prototype.mK=function(a){a=a.Vi;return!isNaN(a)?a:this.BC};xn.prototype.electricalFieldX=xn.prototype.nK=ca(0);xn.prototype.electricalFieldY=xn.prototype.oK=ca(0);xn.prototype.gravitationalMass=xn.prototype.PK=function(a){a=a.bn;return!isNaN(a)?a:this.CC};xn.prototype.gravitationalFieldX=xn.prototype.NK=ca(0);xn.prototype.gravitationalFieldY=xn.prototype.OK=ca(0);
xn.prototype.isFixed=xn.prototype.qD=function(a){return a.wx};w.u(xn,{HJ:"currentIteration"},t("Yp"));w.g(xn,"arrangementSpacing",xn.prototype.Zu);w.defineProperty(xn,{Zu:"arrangementSpacing"},t("Hf"),function(a){this.Hf.I(a)||(this.Hf.Va(a),this.F())});w.g(xn,"arrangesToOrigin",xn.prototype.eC);w.defineProperty(xn,{eC:"arrangesToOrigin"},t("Vo"),function(a){this.Vo!==a&&(this.Vo=a,this.F())});w.g(xn,"setsPortSpots",xn.prototype.nm);
w.defineProperty(xn,{nm:"setsPortSpots"},t("oh"),function(a){this.oh!==a&&(this.oh=a,this.F())});w.g(xn,"comments",xn.prototype.Ry);w.defineProperty(xn,{Ry:"comments"},t("Fd"),function(a){this.Fd!==a&&(this.Fd=a,this.F())});w.g(xn,"maxIterations",xn.prototype.Mv);w.defineProperty(xn,{Mv:"maxIterations"},t("cn"),function(a){this.cn!==a&&0<=a&&(this.cn=a,this.F())});w.g(xn,"epsilonDistance",xn.prototype.dz);
w.defineProperty(xn,{dz:"epsilonDistance"},t("up"),function(a){this.up!==a&&0<a&&(this.up=a,this.F())});w.g(xn,"infinityDistance",xn.prototype.fm);w.defineProperty(xn,{fm:"infinityDistance"},t("Ip"),function(a){this.Ip!==a&&1<a&&(this.Ip=a,this.F())});w.g(xn,"defaultSpringStiffness",xn.prototype.EC);w.defineProperty(xn,{EC:"defaultSpringStiffness"},t("np"),function(a){this.np!==a&&(this.np=a,this.F())});w.g(xn,"defaultSpringLength",xn.prototype.DC);
w.defineProperty(xn,{DC:"defaultSpringLength"},t("mp"),function(a){this.mp!==a&&(this.mp=a,this.F())});w.g(xn,"defaultElectricalCharge",xn.prototype.BC);w.defineProperty(xn,{BC:"defaultElectricalCharge"},t("kp"),function(a){this.kp!==a&&(this.kp=a,this.F())});w.g(xn,"defaultGravitationalMass",xn.prototype.CC);w.defineProperty(xn,{CC:"defaultGravitationalMass"},t("lp"),function(a){this.lp!==a&&(this.lp=a,this.F())});w.g(xn,"defaultCommentSpringLength",xn.prototype.AC);
w.defineProperty(xn,{AC:"defaultCommentSpringLength"},t("ip"),function(a){this.ip!==a&&(this.ip=a,this.F())});w.g(xn,"defaultCommentElectricalCharge",xn.prototype.zC);w.defineProperty(xn,{zC:"defaultCommentElectricalCharge"},t("hp"),function(a){this.hp!==a&&(this.hp=a,this.F())});function yn(){Wm.call(this)}w.Q("ForceDirectedNetwork",yn);w.Ea(yn,Wm);yn.prototype.createVertex=yn.prototype.zj=function(){return new Dn};yn.prototype.createEdge=yn.prototype.Tn=function(){return new In};
function Dn(){$m.call(this);this.wx=q;this.bn=this.Vi=NaN;this.lj=this.jf=this.Qd=this.Pd=0;this.Jg=this.nl=n;this.Xx=0}w.Q("ForceDirectedVertex",Dn);w.Ea(Dn,$m);w.g(Dn,"isFixed",Dn.prototype.qD);w.defineProperty(Dn,{qD:"isFixed"},t("wx"),ba("wx"));w.g(Dn,"charge",Dn.prototype.cG);w.defineProperty(Dn,{cG:"charge"},t("Vi"),ba("Vi"));w.g(Dn,"mass",Dn.prototype.mH);w.defineProperty(Dn,{mH:"mass"},t("bn"),ba("bn"));w.g(Dn,"forceX",Dn.prototype.CG);w.defineProperty(Dn,{CG:"forceX"},t("Pd"),ba("Pd"));
w.g(Dn,"forceY",Dn.prototype.DG);w.defineProperty(Dn,{DG:"forceY"},t("Qd"),ba("Qd"));function In(){an.call(this);this.di=this.ir=NaN}w.Q("ForceDirectedEdge",In);w.Ea(In,an);w.g(In,"stiffness",In.prototype.cI);w.defineProperty(In,{cI:"stiffness"},t("ir"),ba("ir"));w.g(In,"length",In.prototype.length);w.defineProperty(In,{length:"length"},t("di"),ba("di"));
function X(){ci.call(this);this.nd=this.Hd=25;this.da=0;this.Dm=Jn;this.Ym=Kn;this.Sm=Ln;this.zl=4;this.vm=Mn;this.mi=Nn;this.oh=h;this.pb=this.Ut=this.bb=-1;this.gf=this.qq=0;this.qd=this.ef=this.Dg=this.jh=this.pd=n;this.xq=0;this.cu=this.Fl=n;this.Nf=0;this.yq=n;this.Fg=[];this.Fg.length=100}w.Q("LayeredDigraphLayout",X);w.Ea(X,ci);
X.prototype.cloneProtected=X.prototype.xb=function(a){ci.prototype.xb.call(this,a);a.Hd=this.Hd;a.nd=this.nd;a.da=this.da;a.Dm=this.Dm;a.Ym=this.Ym;a.Sm=this.Sm;a.zl=this.zl;a.vm=this.vm;a.mi=this.mi;a.oh=this.oh};X.prototype.createNetwork=X.prototype.lv=function(){var a=new On;Xm(a,this);return a};
X.prototype.doLayout=X.prototype.Mr=function(a){this.Pc===n&&(this.Pc=this.makeNetwork(a));this.jd=Zm(this,this.jd);this.Ut=-1;this.gf=this.qq=0;this.yq=this.cu=this.Fl=n;for(a=0;a<this.Fg.length;a++)this.Fg[a]=n;if(0<this.B.ka.count){this.B.ov();for(a=this.B.mc.l;a.next();)a.value.wb=q;switch(this.Dm){default:case Pn:var b=0,c=this.B.ka.count-1,a=[];a.length=c+1;for(var d=this.B.ka.l;d.next();)d.value.Da=h;for(;Qn(this.B)!==n;){for(d=Rn(this.B);d!==n;)a[c]=d,c--,d.Da=q,d=Rn(this.B);for(d=Sn(this.B);d!==
n;)a[b]=d,b++,d.Da=q,d=Sn(this.B);u&&w.i(this.B,Wm,X,"greedyCycleRemovalFindNodeMaxDegDiff:network");for(var d=n,e=0,g=this.B.ka.l;g.next();){var i=g.value;if(i.Da){for(var j=0,k=i.Gb;k.next();)k.value.S.Da&&j++;for(var k=0,l=i.Hb;l.next();)l.value.W.Da&&k++;if(d===n||e<j-k)d=i,e=j-k}}d!==n&&(a[b]=d,b++,d.Da=q)}for(b=0;b<this.B.ka.count;b++)a[b].ea=b;for(a=this.B.mc.l;a.next();)b=a.value,b.W.ea>b.S.ea&&(this.B.Uv(b),b.wb=h);break;case Jn:for(b=this.B.ka.l;b.next();)b.value.ik=-1,b.value.Km=-1;for(a=
this.B.mc.l;a.next();)a.value.xp=q;this.xq=0;for(b.reset();b.next();)0===b.value.Hb.count&&Tn(this,b.value);for(b.reset();b.next();)-1===b.value.ik&&Tn(this,b.value);for(a.reset();a.next();)b=a.value,b.xp||(c=b.W,d=c.Km,e=b.S,g=e.Km,e.ik<c.ik&&d<g&&(this.B.Uv(b),b.wb=h))}for(a=this.B.ka.l;a.next();)b=a.value,b.G=-1;this.bb=-1;this.assignLayers();for(a.reset();a.next();)this.bb=Math.max(this.bb,a.value.G);c=this.B.mc.l;for(b=[];c.next();)a=c.value,a.Da=q,b.push(a);for(c=0;c<b.length;c++)if(a=b[c],
!a.Da&&!((a.W.fb===n||a.S.fb===n)&&a.W.G===a.S.G)){g=j=i=k=0;e=a.W;d=a.S;if(a.Ra!==n){j=a.Ra;if(j===n)continue;var m=e.fb,g=d.fb;if(m===n||g===n)continue;var p=j.ga,i=j.la,r=j.Oc,k=j.Bd;a.wb&&(j=p,l=r,p=i,r=k,i=j,k=l);var l=e.K.copy(),j=a.S.K.copy(),s=a.wb?d.L.copy():e.L.copy(),r=isNaN(s.x)?l.copy():Jl(p,r,Ob);m!==p&&(!isNaN(s.x)&&p.hb())&&(m=e.L.copy(),isNaN(m.x)||(r.x+=s.x-m.x,r.y+=s.y-m.y));m=a.wb?e.L.copy():d.L.copy();k=isNaN(m.x)?j.copy():Jl(i,k,Ob);g!==i&&(!isNaN(m.x)&&i.hb())&&(g=d.L,isNaN(g.x)||
(k.x+=m.x-g.x,k.y+=m.y-g.y));90===this.da||270===this.da?(g=Math.round((r.x-l.x)/this.nd),i=r.x,j=Math.round((k.x-j.x)/this.nd),k=k.x):(g=Math.round((r.y-l.y)/this.nd),i=r.y,j=Math.round((k.y-j.y)/this.nd),k=k.y);a.Ge=g;a.mf=i;a.He=j;a.of=k}else a.Ge=0,a.mf=0,a.He=0,a.of=0;l=e.G;r=d.G;m=a;u&&w.i(m,Un,X,"_goesAround:edge");p=0;s=m.Ra;if(s!==n){if(s.Oc!==n){var v=s.ga;om(s)===Vn(this,m,h)?p+=1:this.nm&&v!==n&&1===v.ports.count&&m.wb&&(p+=1)}s.Bd!==n&&(v=s.la,pm(s)===Vn(this,m,q)?p+=2:this.nm&&v!==n&&
1===v.ports.count&&m.wb&&(p+=2))}m=1===p||3===p?h:q;if(p=2===p||3===p?h:q)s=this.B.zj(),s.fb=n,s.il=1,s.G=l,s.hj=e,this.B.Gk(s),e=this.B.hm(e,s,a.Ra),e.Da=q,e.wb=a.wb,e.Ge=g,e.He=0,e.mf=i,e.of=0,e=s;v=1;m&&v--;if(l-r>v&&0<l){a.Da=q;s=this.B.zj();s.fb=n;s.il=2;s.G=l-1;this.B.Gk(s);e=this.B.hm(e,s,a.Ra);e.Da=h;e.wb=a.wb;e.Ge=p?0:g;e.He=0;e.mf=p?0:i;e.of=0;e=s;for(l--;l-r>v&&0<l;)s=this.B.zj(),s.fb=n,s.il=3,s.G=l-1,this.B.Gk(s),e=this.B.hm(e,s,a.Ra),e.Da=h,e.wb=a.wb,e.Ge=0,e.He=0,e.mf=0,e.of=0,e=s,l--;
e=this.B.hm(s,d,a.Ra);e.Da=!m;m&&(s.hj=d);e.wb=a.wb;e.Ge=0;e.He=j;e.mf=0;e.of=k}else a.Da=h}b=this.pd=[];for(c=0;c<=this.bb;c++)b[c]=0;for(a=this.B.ka.l;a.next();)a.value.ea=-1;this.initializeIndices();this.Ut=-1;for(c=this.gf=this.qq=0;c<=this.bb;c++)b[c]>b[this.gf]&&(this.Ut=b[c]-1,this.gf=c),b[c]<b[this.qq]&&(this.qq=c);this.yq=[];for(c=0;c<b.length;c++)this.yq[c]=[];for(a.reset();a.next();)c=a.value,b=c.G,this.yq[b][c.ea]=c;this.pb=-1;for(a=0;a<=this.bb;a++){b=Wn(this,a);c=0;d=this.pd[a];for(e=
0;e<d;e++)g=b[e],c+=Xn(this,g,h),g.Z=c,c+=1,c+=Xn(this,g,q);this.pb=Math.max(this.pb,c-1);Yn(this,a,b)}this.reduceCrossings();this.straightenAndPack();this.updateParts()}this.Pc=n;this.Se=h};function Zn(a){u&&w.i(a,an,X,"linkMinLength:edge");for(var b=a.S,c=0,a=a.W.Gb;a.next();)a.value.S===b&&c++;return 1<c?2:1}function $n(a){u&&w.i(a,an,X,"linkLengthWeight:edge");return 1}function ao(a){u&&w.i(a,an,X,"linkStraightenWeight:edge");var b=a.W.fb,a=a.S.fb;return b===n&&a===n?8:b===n||a===n?4:1}
function bo(a,b,c){u&&(w.i(b,co,X,"nodeMinLayerSpace:v"),w.k(c,"boolean",X,"nodeMinLayerSpace:topleft"));return b.fb===n?0:90===a.da||270===a.da?c?b.K.y+10:b.L.height-b.K.y+10:c?b.K.x+10:b.L.width-b.K.x+10}
function Xn(a,b,c){u&&(w.i(b,co,X,"nodeMinColumnSpace:v"),w.k(c,"boolean",X,"nodeMinColumnSpace:topleft"));if(b.fb===n)return 0;var d=c?b.Jx:b.Ix;if(d!==f)return d;d=a.da;return 90===d||270===d?c?b.Jx=b.K.x/a.nd+1|0:b.Ix=(b.L.width-b.K.x)/a.nd+1|0:c?b.Jx=b.K.y/a.nd+1|0:b.Ix=(b.L.height-b.K.y)/a.nd+1|0}function eo(a){a.Fl===n&&(a.Fl=[]);for(var b=0,c=a.B.ka.l,d;c.next();)d=c.value,a.Fl[b]=d.G,b++,a.Fl[b]=d.Z,b++,a.Fl[b]=d.ea,b++;return a.Fl}
function fo(a,b){u&&w.i(b,Array,X,"restoreLayout:layout");for(var c=0,d=a.B.ka.l,e;d.next();)e=d.value,e.G=b[c],c++,e.Z=b[c],c++,e.ea=b[c],c++}
function ho(a,b,c){u&&(w.o(b,X,"crossingMatrix:unfixedLayer"),w.o(c,X,"crossingMatrix:direction"));var d=Wn(a,b),e=a.pd[b];a.cu||(a.cu=[]);for(var g=a.cu,i,j=0;j<e;j++){i=0;var k=d[j],l=k.hj,m,p;if(l!==n&&l.G===k.G)if(k=l.ea,k>j)for(p=j+1;p<k;p++)m=d[p],(m.hj!==l||m.il!==l.il)&&i++;else for(p=j-1;p>k;p--)m=d[p],(m.hj!==l||m.il!==l.il)&&i++;var r,s,v,y,C,E;if(0<=c){k=d[j].Sf;for(l=0;l<k.count;l++)if(r=k.n[l],r.Da&&r.W.G!==b){m=r.W.ea;p=r.of;r=r.mf;for(s=l+1;s<k.count;s++)v=k.n[s],v.Da&&v.W.G!==b&&
(y=v.W.ea,C=v.of,v=v.mf,p<C&&(m>y||m===y&&r>v)&&i++,C<p&&(y>m||y===m&&v>r)&&i++)}}if(0>=c){k=d[j].cf;for(l=0;l<k.count;l++)if(r=k.n[l],r.Da&&r.S.G!==b){m=r.S.ea;p=r.of;r=r.mf;for(s=l+1;s<k.count;s++)v=k.n[s],v.Da&&v.S.G!==b&&(y=v.S.ea,C=v.of,v=v.mf,r<v&&(m>y||m===y&&p>C)&&i++,v<r&&(y>m||y===m&&C>p)&&i++)}}g[j*e+j]=i;for(k=j+1;k<e;k++){var I=0,D=0;if(0<=c){i=d[j].Sf;E=d[k].Sf;for(l=0;l<i.count;l++)if(r=i.n[l],r.Da&&r.W.G!==b){m=r.W.ea;r=r.mf;for(s=0;s<E.count;s++)v=E.n[s],v.Da&&v.W.G!==b&&(y=v.W.ea,
v=v.mf,(m<y||m===y&&r<v)&&D++,(y<m||y===m&&v<r)&&I++)}}if(0>=c){i=d[j].cf;E=d[k].cf;for(l=0;l<i.count;l++)if(r=i.n[l],r.Da&&r.S.G!==b){m=r.S.ea;p=r.of;for(s=0;s<E.count;s++)v=E.n[s],v.Da&&v.S.G!==b&&(y=v.S.ea,C=v.of,(m<y||m===y&&p<C)&&D++,(y<m||y===m&&C<p)&&I++)}}g[j*e+k]=I;g[k*e+j]=D}}Yn(a,b,d);return g}X.prototype.countCrossings=X.prototype.GJ=function(){var a,b=0,c,d;for(a=0;a<=this.bb;a++){c=ho(this,a,1);d=this.pd[a];for(var e=0;e<d;e++)for(var g=e;g<d;g++)b+=c[e*d+g]}return b};
function io(a){u&&w.k(h,"boolean",X,"countBends:weighted");for(var b=0,c=0;c<=a.bb;c++){var d=a,e=c;u&&(w.o(e,X,"bends:unfixedLayer"),w.o(1,X,"bends:direction"),w.k(h,"boolean",X,"bends:weighted"));for(var g=Wn(d,e),i=d.pd[e],j=0,k=f,k=0;k<i;k++){var l=g[k].cf,m,p,r;if("undefined"!==typeof l)for(var s=0;s<l.count;s++)m=l.n[s],m.Da&&m.S.G!==e&&(p=m.W.Z+m.Ge,r=m.S.Z+m.He,j+=(Math.abs(p-r)+1)*ao(m))}Yn(d,e,g);b+=j}return b}
X.prototype.normalize=function(){var a=Infinity;this.pb=-1;for(var b=this.B.ka.l,c;b.next();)c=b.value,a=Math.min(a,c.Z-Xn(this,c,h)),this.pb=Math.max(this.pb,c.Z+Xn(this,c,q));for(b.reset();b.next();)b.value.Z-=a;this.pb-=a};
function ro(a,b,c){u&&(w.o(b,X,"barycenters:unfixedLayer"),w.o(c,X,"barycenters:direction"));var d=Wn(a,b),e=a.pd[b],g=[],i;for(i=0;i<e;i++){var j=d[i],k=n;0>=c&&(k=j.Sf);var l=n;0<=c&&(l=j.cf);var m=0,p=0,r=j.hj;r!==n&&r.G===j.G&&(m+=r.Z-1,p++);if(k!==n)for(r=0;r<k.count;r++){var j=k.n[r],s=j.W;j.Da&&(!j.wb&&s.G!==b)&&(m+=s.Z+j.Ge,p++)}if(l!==n)for(k=0;k<l.count;k++)j=l.n[k],r=j.S,j.Da&&(!j.wb&&r.G!==b)&&(m+=r.Z+j.He,p++);g[i]=0===p?-1:m/p}Yn(a,b,d);return g}
function yo(a,b,c){u&&(w.o(b,X,"medians:unfixedLayer"),w.o(c,X,"medians:direction"));for(var d=Wn(a,b),e=a.pd[b],g=[],i=0;i<e;i++){var j=d[i],k=n;0>=c&&(k=j.Sf);var l=n;0<=c&&(l=j.cf);var m=0,p=[],r=j.hj;r!==n&&r.G===j.G&&(p[m]=r.Z-1,m++);if(k!==n)for(r=0;r<k.count;r++){var j=k.n[r],s=j.W;j.Da&&(!j.wb&&s.G!==b)&&(p[m]=s.Z+j.Ge,m++)}if(l!==n)for(k=0;k<l.count;k++)j=l.n[k],r=j.S,j.Da&&(!j.wb&&r.G!==b)&&(p[m]=r.Z+j.He,m++);0===m?g[i]=-1:(p.sort(function(a,b){return a-b}),l=m>>1,g[i]=m&1?p[l]:p[l-1]+
p[l]>>1)}Yn(a,b,d);return g}function zo(a,b,c,d,e,g){u&&(w.i(b,co,X,"tightComponentUnset:v"),w.o(c,X,"tightComponentUnset:component"),w.o(d,X,"tightComponentUnset:unset"),w.k(e,"boolean",X,"tightComponentUnset:forward"),w.k(g,"boolean",X,"tightComponentUnset:backward"));if(b.Kb===d){b.Kb=c;var i,j;if(e)for(var k=b.Gb;k.next();){var l=k.value.S;i=b.G-l.G;j=Zn(k.value);i===j&&zo(a,l,c,d,e,g)}if(g)for(k=b.Hb;k.next();)l=k.value.W,i=l.G-b.G,j=Zn(k.value),i===j&&zo(a,l,c,d,e,g)}}
function Ao(a,b,c,d,e,g){u&&(w.i(b,co,X,"componentUnset:v"),w.o(c,X,"componentUnset:component"),w.o(d,X,"componentUnset:unset"),w.k(e,"boolean",X,"componentUnset:forward"),w.k(g,"boolean",X,"componentUnset:backward"));if(b.Kb===d){b.Kb=c;if(e)for(var i=b.Gb,j;i.next();)j=i.value.S,Ao(a,j,c,d,e,g);if(g)for(b=b.Hb;b.next();)i=b.value.W,Ao(a,i,c,d,e,g)}}function Qn(a){u&&w.i(a,Wm,X,"greedyCycleRemovalFindNode:network");for(a=a.ka.l;a.next();){var b=a.value;if(b.Da)return b}return n}
function Rn(a){u&&w.i(a,Wm,X,"greedyCycleRemovalFindSink:network");for(a=a.ka.l;a.next();){var b=a.value;if(b.Da){for(var c=h,d=b.Gb;d.next();)if(d.value.S.Da){c=q;break}if(c)return b}}return n}function Sn(a){u&&w.i(a,Wm,X,"greedyCycleRemovalFindSource:network");for(a=a.ka.l;a.next();){var b=a.value;if(b.Da){for(var c=h,d=b.Hb;d.next();)if(d.value.W.Da){c=q;break}if(c)return b}}return n}
function Tn(a,b){u&&w.i(b,co,X,"depthFirstSearchCycleRemovalVisit:v");b.ik=a.xq;a.xq++;for(var c=b.Gb;c.next();){var d=c.value,e=d.S;-1===e.ik&&(d.xp=h,Tn(a,e))}b.Km=a.xq;a.xq++}
X.prototype.assignLayers=X.prototype.FI=function(){switch(this.Ym){case Bo:Co(this);break;case Do:for(var a,b=this.B.ka.l;b.next();)a=Eo(this,b.value),this.bb=Math.max(a,this.bb);for(b.reset();b.next();)a=b.value,a.G=this.bb-a.G;break;default:case Kn:Co(this);for(b=this.B.ka.l;b.next();)b.value.Da=q;for(b.reset();b.next();)0===b.value.Hb.count&&Fo(this,b.value);a=Infinity;for(b.reset();b.next();)a=Math.min(a,b.value.G);this.bb=-1;for(b.reset();b.next();)b.value.G-=a,this.bb=Math.max(this.bb,b.value.G)}};
function Co(a){for(var b=a.B.ka.l;b.next();){var c=Go(a,b.value);a.bb=Math.max(c,a.bb)}}function Go(a,b){u&&w.i(b,co,X,"longestPathSinkLayeringLength:v");var c=0;if(-1===b.G){for(var d=b.Gb;d.next();)var e=d.value,g=Zn(e),c=Math.max(c,Go(a,e.S)+g);b.G=c}else c=b.G;return c}function Eo(a,b){u&&w.i(b,co,X,"longestPathSourceLayeringLength:v");var c=0;if(-1===b.G){for(var d,e,g=b.Hb;g.next();)e=g.value,d=Zn(e),c=Math.max(c,Eo(a,e.W)+d);b.G=c}else c=b.G;return c}
function Fo(a,b){u&&w.i(b,co,X,"optimalLinkLengthLayeringDepthFirstSearch:v");if(!b.Da){b.Da=h;for(var c=b.Gb;c.next();)Fo(a,c.value.S);u&&w.i(b,co,X,"optimalLinkLengthLayeringPull:v");for(c=a.B.ka.l;c.next();)c.value.Kb=-1;for(var d=b.Hb;d.next();){var e=d.value,g=Zn(e);e.W.G-e.S.G>g&&zo(a,e.W,0,-1,h,q)}for(zo(a,b,1,-1,h,h);0!==b.Kb;){for(var g=0,d=Infinity,i=0,j=n,k=a.B.ka.l;k.next();){var l=k.value;if(1===l.Kb){for(var m=0,p=q,r=l.Hb;r.next();){var e=r.value,s=e.W,m=m+$n(e);1!==s.Kb&&(g+=$n(e),
s=s.G-l.G,e=Zn(e),d=Math.min(d,s-e))}for(e=l.Gb;e.next();)r=e.value,s=r.S,m-=$n(r),1!==s.Kb?g-=$n(r):p=h;if((j===n||m<i)&&!p)j=l,i=m}}if(0<g){for(c.reset();c.next();)g=c.value,1===g.Kb&&(g.G+=d);b.Kb=0}else j.Kb=0}u&&w.i(b,co,X,"optimalLinkLengthLayeringPush:v");for(c=a.B.ka.l;c.next();)c.value.Kb=-1;for(zo(a,b,1,-1,h,q);0!==b.Kb;){g=0;d=Infinity;i=0;j=n;for(k=a.B.ka.l;k.next();)if(l=k.value,1===l.Kb){m=0;p=q;for(e=l.Hb;e.next();)r=e.value.W,m+=$n(e.value),1!==r.Kb?g+=$n(e.value):p=h;for(e=k.value.Gb;e.next();)r=
e.value,s=r.S,m-=$n(r),1!==s.Kb&&(g-=$n(r),s=l.G-s.G,r=Zn(r),d=Math.min(d,s-r));if((j===n||m>i)&&!p)j=l,i=m}if(0>g){for(c.reset();c.next();)g=c.value,1===g.Kb&&(g.G-=d);b.Kb=0}else j.Kb=0}}}function Vn(a,b,c){u&&(w.i(b,Un,X,"_oppositeSpotDir:edge"),w.k(c,"boolean",X,"_oppositeSpotDir:from"));return 90===a.da?c&&!b.wb||!c&&b.wb?Kb:Qb:180===a.da?c&&!b.wb||!c&&b.wb?Zb:Tb:270===a.da?c&&!b.wb||!c&&b.wb?Qb:Kb:c&&!b.wb||!c&&b.wb?Tb:Zb}
X.prototype.initializeIndices=X.prototype.ZK=function(){switch(this.Sm){default:case Ho:for(var a,b=this.B.ka.l;b.next();){var c=b.value;a=c.G;c.ea=this.pd[a];this.pd[a]++}break;case Ln:b=this.B.ka.l;for(a=this.bb;0<=a;a--){for(;b.next();)b.value.G===a&&-1===b.value.ea&&Io(this,b.value);b.reset()}break;case Jo:b=this.B.ka.l;for(a=0;a<=this.bb;a++){for(;b.next();)b.value.G===a&&-1===b.value.ea&&Ko(this,b.value);b.reset()}}};
function Io(a,b){u&&w.i(b,co,X,"depthFirstOutInitializeIndicesVisit:v");var c=b.G;b.ea=a.pd[c];a.pd[c]++;for(var c=b.cf.sg(),d=h,e;d;){d=q;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.Ge>i.Ge&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.Da&&(d=d.S,-1===d.ea&&Io(a,d))}
function Ko(a,b){u&&w.i(b,co,X,"depthFirstInInitializeIndicesVisit:v");var c=b.G;b.ea=a.pd[c];a.pd[c]++;for(var c=b.Sf.sg(),d=h,e;d;){d=q;for(e=0;e<c.length-1;e++){var g=c[e],i=c[e+1];g.He>i.He&&(d=h,c[e]=i,c[e+1]=g)}}for(e=0;e<c.length;e++)d=c[e],d.Da&&(d=d.W,-1===d.ea&&Ko(a,d))}
X.prototype.reduceCrossings=X.prototype.RL=function(){var a=this.countCrossings(),b=eo(this),c,d,e;for(c=0;c<this.zl;c++){for(d=0;d<=this.bb;d++)Lo(this,d,1),Mo(this,d,1,1);e=this.countCrossings();e<a&&(a=e,b=eo(this));for(d=this.bb;0<=d;d--)Lo(this,d,-1),Mo(this,d,-1,-1);e=this.countCrossings();e<a&&(a=e,b=eo(this))}fo(this,b);for(c=0;c<this.zl;c++){for(d=0;d<=this.bb;d++)Lo(this,d,0),Mo(this,d,0,0);e=this.countCrossings();e<a&&(a=e,b=eo(this));for(d=this.bb;0<=d;d--)Lo(this,d,0),Mo(this,d,0,0);
e=this.countCrossings();e<a&&(a=e,b=eo(this))}fo(this,b);var g,i,j;switch(this.vm){case No:break;case Oo:for(j=a+1;(d=this.countCrossings())<j;){j=d;for(c=this.bb;0<=c;c--)for(i=0;i<=c;i++){for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Mo(this,d,-1,-1)||g}e=this.countCrossings();e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Mo(this,d,1,1)||g}e=this.countCrossings();e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Mo(this,d,1,1)||g}e>=a?fo(this,b):(a=e,b=eo(this));for(g=
h;g;){g=q;for(d=i;d<=c;d++)g=Mo(this,d,-1,-1)||g}e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Mo(this,d,0,0)||g}e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Mo(this,d,0,0)||g}e>=a?fo(this,b):(a=e,b=eo(this))}}break;default:case Mn:c=this.bb;i=0;for(j=a+1;(d=this.countCrossings())<j;){j=d;for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Mo(this,d,-1,-1)||g}e=this.countCrossings();e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Mo(this,d,1,1)||g}e=
this.countCrossings();e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Mo(this,d,1,1)||g}e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Mo(this,d,-1,-1)||g}e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=c;d>=i;d--)g=Mo(this,d,0,0)||g}e>=a?fo(this,b):(a=e,b=eo(this));for(g=h;g;){g=q;for(d=i;d<=c;d++)g=Mo(this,d,0,0)||g}e>=a?fo(this,b):(a=e,b=eo(this))}}fo(this,b)};
function Lo(a,b,c){u&&(w.o(b,X,"medianBarycenterCrossingReduction:unfixedLayer"),w.o(c,X,"medianBarycenterCrossingReduction:direction"));for(var d=Wn(a,b),e=a.pd[b],g=yo(a,b,c),i=ro(a,b,c),c=0;c<e;c++)-1===i[c]&&(i[c]=d[c].Z),-1===g[c]&&(g[c]=d[c].Z);for(var j=h,k;j;){j=q;for(c=0;c<e-1;c++)if(g[c+1]<g[c]||g[c+1]===g[c]&&i[c+1]<i[c])j=h,k=g[c],g[c]=g[c+1],g[c+1]=k,k=i[c],i[c]=i[c+1],i[c+1]=k,k=d[c],d[c]=d[c+1],d[c+1]=k}for(c=g=0;c<e;c++)k=d[c],k.ea=c,g+=Xn(a,k,h),k.Z=g,g+=1,g+=Xn(a,k,q);Yn(a,b,d)}
function Mo(a,b,c,d){u&&(w.o(b,X,"adjacentExchangeCrossingReductionBendStraighten:unfixedLayer"),w.o(c,X,"adjacentExchangeCrossingReductionBendStraighten:directionCR"),w.k(q,"boolean",X,"adjacentExchangeCrossingReductionBendStraighten:straighten"),w.o(d,X,"adjacentExchangeCrossingReductionBendStraighten:directionBS"));var d=Wn(a,b),e=a.pd[b],c=ho(a,b,c),g,i;i=[];for(g=0;g<e;g++)i[g]=-1;var j;j=[];for(g=0;g<e;g++)j[g]=-1;for(var k=q,l=h;l;){l=q;for(g=0;g<e-1;g++){var m=c[d[g].ea*e+d[g+1].ea],p=c[d[g+
1].ea*e+d[g].ea],r=0,s=0,v=d[g].Z,y=d[g+1].Z,C=Xn(a,d[g],h),E=Xn(a,d[g],q),I=Xn(a,d[g+1],h),D=Xn(a,d[g+1],q),C=v-C+I,E=y-E+D,M=d[g].Hb.l;for(M.reset();M.next();)if(D=M.value,D.Da&&D.W.G===b){D=D.W;for(I=0;d[I]!==D;)I++;I<g&&(r+=2*(g-I),s+=2*(g+1-I));I===g+1&&(r+=1);I>g+1&&(r+=4*(I-g),s+=4*(I-(g+1)))}M=d[g].Gb.l;for(M.reset();M.next();)if(D=M.value,D.Da&&D.S.G===b){D=D.S;for(I=0;d[I]!==D;)I++;I===g+1&&(s+=1)}M=d[g+1].Hb.l;for(M.reset();M.next();)if(D=M.value,D.Da&&D.W.G===b){D=D.W;for(I=0;d[I]!==D;)I++;
I<g&&(r+=2*(g+1-I),s+=2*(g-I));I===g&&(s+=1);I>g+1&&(r+=4*(I-(g+1)),s+=4*(I-g))}M=d[g+1].Gb.l;for(M.reset();M.next();)if(D=M.value,D.Da&&D.S.G===b){D=D.S;for(I=0;d[I]!==D;)I++;I===g&&(r+=1)}var I=D=0,M=i[d[g].ea],N=j[d[g].ea],Z=i[d[g+1].ea],va=j[d[g+1].ea];-1!==M&&(D+=Math.abs(M-v),I+=Math.abs(M-E));-1!==N&&(D+=Math.abs(N-v),I+=Math.abs(N-E));-1!==Z&&(D+=Math.abs(Z-y),I+=Math.abs(Z-C));-1!==va&&(D+=Math.abs(va-y),I+=Math.abs(va-C));if(s<r-0.5||s===r&&p<m-0.5||s===r&&p===m&&I<D-0.5)l=k=h,d[g].Z=E,
d[g+1].Z=C,m=d[g],d[g]=d[g+1],d[g+1]=m}}for(g=0;g<e;g++)d[g].ea=g;Yn(a,b,d);return k}
X.prototype.straightenAndPack=X.prototype.pM=function(){var a,b,c=0!==(this.mi&Po);a=this.mi===Nn;1E3<this.B.mc.count&&!a&&(c=q);if(c){b=[];for(a=0;a<=this.bb;a++)b[a]=0;for(var d=this.B.ka.l,e,g;d.next();)e=d.value,a=e.G,g=e.Z,e=Xn(this,e,q),b[a]=Math.max(b[a],g+e);for(d.reset();d.next();)e=d.value,a=e.G,g=e.Z,e.Z=(8*(this.pb-b[a])>>1)+8*g;this.pb*=8}if(0!==(this.mi&Qo))for(b=h;b;){b=q;for(a=this.gf+1;a<=this.bb;a++)b=Ro(this,a,1)||b;for(a=this.gf-1;0<=a;a--)b=Ro(this,a,-1)||b;b=Ro(this,this.gf,
0)||b}if(0!==(this.mi&So)){for(a=this.gf+1;a<=this.bb;a++)To(this,a,1);for(a=this.gf-1;0<=a;a--)To(this,a,-1);To(this,this.gf,0)}c&&(Uo(this,-1),Uo(this,1));if(0!==(this.mi&Qo))for(b=h;b;){b=q;b=Ro(this,this.gf,0)||b;for(a=this.gf+1;a<=this.bb;a++)b=Ro(this,a,0)||b;for(a=this.gf-1;0<=a;a--)b=Ro(this,a,0)||b}};function Ro(a,b,c){u&&(w.o(b,X,"bendStraighten:unfixedLayer"),w.o(c,X,"bendStraighten:direction"));for(var d=q;Vo(a,b,c);)d=h;return d}
function Vo(a,b,c){u&&(w.o(b,X,"shiftbendStraighten:unfixedLayer"),w.o(c,X,"shiftbendStraighten:direction"));var d,e=Wn(a,b),g=a.pd[b],i=ro(a,b,-1);if(0<c)for(d=0;d<g;d++)i[d]=-1;var j=ro(a,b,1);if(0>c)for(d=0;d<g;d++)j[d]=-1;for(var k=q,l=h;l;){l=q;for(d=0;d<g;d++){var m=e[d].Z,p=Xn(a,e[d],h),r=Xn(a,e[d],q),p=0>d-1||m-e[d-1].Z-1>p+Xn(a,e[d-1],q)?m-1:m,r=d+1>=g||e[d+1].Z-m-1>r+Xn(a,e[d+1],h)?m+1:m,s=0,v=0,y=0,C,E,I,D;if(0>=c)for(var M=e[d].Hb.l;M.next();)C=M.value,C.Da&&C.W.G!==b&&(E=ao(C),I=C.Ge,
D=C.He,C=C.W.Z,s+=(Math.abs(m+D-(C+I))+1)*E,v+=(Math.abs(p+D-(C+I))+1)*E,y+=(Math.abs(r+D-(C+I))+1)*E);if(0<=c)for(M=e[d].Gb.l;M.next();)C=M.value,C.Da&&C.S.G!==b&&(E=ao(C),I=C.Ge,D=C.He,C=C.S.Z,s+=(Math.abs(m+I-(C+D))+1)*E,v+=(Math.abs(p+I-(C+D))+1)*E,y+=(Math.abs(r+I-(C+D))+1)*E);D=I=E=0;C=i[e[d].ea];M=j[e[d].ea];-1!==C&&(E+=Math.abs(C-m),I+=Math.abs(C-p),D+=Math.abs(C-r));-1!==M&&(E+=Math.abs(M-m),I+=Math.abs(M-p),D+=Math.abs(M-r));if(v<s||v===s&&I<E)l=k=h,e[d].Z=p;if(y<s||y===s&&D<E)l=k=h,e[d].Z=
r}}Yn(a,b,e);a.normalize();return k}
function To(a,b,c){u&&(w.o(b,X,"medianStraighten:unfixedLayer"),w.o(c,X,"medianStraighten:direction"));for(var d=Wn(a,b),e=a.pd[b],g=yo(a,b,c),i=[],c=0;c<e;c++)i[c]=g[c];for(g=h;g;){g=q;for(c=0;c<e;c++){var j=d[c].Z,k=Xn(a,d[c],h),l=Xn(a,d[c],q),m=0,p;-1===i[c]?0===c&&c===e-1?m=j:0===c?(p=d[c+1].Z,m=p-j===l+Xn(a,d[c+1],h)?j-1:j):c===e-1?(p=d[c-1].Z,m=j-p===k+Xn(a,d[c-1],q)?j+1:j):(p=d[c-1].Z,k=p+Xn(a,d[c-1],q)+k+1,p=d[c+1].Z,l=p-Xn(a,d[c+1],h)-l-1,m=(k+l)/2|0):0===c&&c===e-1?m=i[c]:0===c?(p=d[c+1].Z,
l=p-Xn(a,d[c+1],h)-l-1,m=Math.min(i[c],l)):c===e-1?(p=d[c-1].Z,k=p+Xn(a,d[c-1],q)+k+1,m=Math.max(i[c],k)):(p=d[c-1].Z,k=p+Xn(a,d[c-1],q)+k+1,p=d[c+1].Z,l=p-Xn(a,d[c+1],h)-l-1,k<i[c]&&i[c]<l?m=i[c]:k>=i[c]?m=k:l<=i[c]&&(m=l));m!==j&&(g=h,d[c].Z=m)}}Yn(a,b,d);a.normalize()}
function Wo(a,b){u&&(w.o(b,X,"packAux:column"),w.o(1,X,"packAux:direction"));for(var c=h,d=a.B.ka.l,e;d.next();){e=d.value;var g=Xn(a,e,h),i=Xn(a,e,q);if(e.Z-g<=b&&e.Z+i>=b){c=q;break}}g=q;if(c)for(d.reset();d.next();)e=d.value,e.Z>b&&(e.Z-=1,g=h);return g}
function Xo(a,b){u&&(w.o(b,X,"tightPackAux:column"),w.o(1,X,"tightPackAux:direction"));var c=b,c=b+1,d,e=[],g=[];for(d=0;d<=a.bb;d++)e[d]=q,g[d]=q;for(var i=a.B.ka.l;i.next();){d=i.value;var j=d.Z-Xn(a,d,h),k=d.Z+Xn(a,d,q);j<=b&&k>=b&&(e[d.G]=h);j<=c&&k>=c&&(g[d.G]=h)}j=h;c=q;for(d=0;d<=a.bb;d++)j=j&&!(e[d]&&g[d]);if(j)for(i.reset();i.next();)d=i.value,d.Z>b&&(d.Z-=1,c=h);return c}
function Uo(a,b){u&&w.o(b,X,"componentPack:direction");for(var c=0;c<=a.pb;c++)for(;Wo(a,c););a.normalize();for(c=0;c<a.pb;c++)for(;Xo(a,c););a.normalize();var d,e,g,i;if(0<b)for(c=0;c<=a.pb;c++){d=eo(a);e=io(a);for(g=e+1;e<g;)g=e,Yo(a,c,1),i=io(a),i>e?fo(a,d):i<e&&(e=i,d=eo(a))}if(0>b)for(c=a.pb;0<=c;c--){d=eo(a);e=io(a);for(g=e+1;e<g;)g=e,Yo(a,c,-1),i=io(a),i>e?fo(a,d):i<e&&(e=i,d=eo(a))}a.normalize()}
function Yo(a,b,c){u&&(w.o(b,X,"componentPackAux:column"),w.o(c,X,"componentPackAux:direction"));a.Nf=0;for(var d=a.B.ka.l,e;d.next();)d.value.Kb=-1;if(0<c)for(d.reset();d.next();)e=d.value,e.Z-Xn(a,e,h)<=b&&(e.Kb=a.Nf);if(0>c)for(d.reset();d.next();)e=d.value,e.Z+Xn(a,e,q)>=b&&(e.Kb=a.Nf);a.Nf++;for(d.reset();d.next();)e=d.value,-1===e.Kb&&(Ao(a,e,a.Nf,-1,h,h),a.Nf++);b=[];for(e=0;e<a.Nf*a.Nf;e++)b[e]=q;var g=[];for(e=0;e<(a.bb+1)*(a.pb+1);e++)g[e]=-1;for(d.reset();d.next();){e=d.value;for(var i=
e.G,j=Math.max(0,e.Z-Xn(a,e,h)),k=Math.min(a.pb,e.Z+Xn(a,e,q));j<=k;j++)g[i*(a.pb+1)+j]=e.Kb}for(e=0;e<=a.bb;e++){if(0<c)for(j=0;j<a.pb;j++)-1!==g[e*(a.pb+1)+j]&&(-1!==g[e*(a.pb+1)+j+1]&&g[e*(a.pb+1)+j]!==g[e*(a.pb+1)+j+1])&&(b[g[e*(a.pb+1)+j]*a.Nf+g[e*(a.pb+1)+j+1]]=h);if(0>c)for(j=a.pb;0<j;j--)-1!==g[e*(a.pb+1)+j]&&(-1!==g[e*(a.pb+1)+j-1]&&g[e*(a.pb+1)+j]!==g[e*(a.pb+1)+j-1])&&(b[g[e*(a.pb+1)+j]*a.Nf+g[e*(a.pb+1)+j-1]]=h)}g=[];for(e=0;e<a.Nf;e++)g[e]=h;i=new z("number");for(i.add(0);0!==i.count;)if(k=
i.n[i.count-1],i.Xe(i.count-1),g[k]){g[k]=q;for(e=0;e<a.Nf;e++)b[k*a.Nf+e]&&i.yc(0,e)}if(0<c)for(d.reset();d.next();)e=d.value,g[e.Kb]&&(e.Z-=1);if(0>c)for(d.reset();d.next();)e=d.value,g[e.Kb]&&(e.Z+=1)}X.prototype.commitLayout=X.prototype.gv=function(){if(this.nm){var a,b;270===this.da?(a=Sb,b=$b):90===this.da?(a=$b,b=Sb):180===this.da?(a=Tb,b=Zb):(a=Zb,b=Tb);for(var c=this.B.mc.l,d;c.next();)d=c.value.Ra,d!==n&&(d.lb=a,d.ob=b)}this.commitNodes();this.is&&this.commitLinks()};
X.prototype.commitNodes=X.prototype.Ty=function(){this.jh=[];this.Dg=[];this.ef=[];this.qd=[];for(var a=0;a<=this.bb;a++)this.jh[a]=0,this.Dg[a]=0,this.ef[a]=0,this.qd[a]=0;for(var a=this.B.ka.l,b,c;a.next();)b=a.value,c=b.G,this.jh[c]=Math.max(this.jh[c],bo(this,b,h)),this.Dg[c]=Math.max(this.Dg[c],bo(this,b,q));b=0;for(var d=this.Hd,e=0;e<=this.bb;e++)c=d,0>=this.jh[e]+this.Dg[e]&&(c=0),0<e&&(b+=c/2),90===this.da||0===this.da?(b+=this.Dg[e],this.ef[e]=b,b+=this.jh[e]):(b+=this.jh[e],this.ef[e]=
b,b+=this.Dg[e]),e<this.bb&&(b+=c/2),this.qd[e]=b;d=this.jd.copy();for(e=0;e<=this.bb;e++)270===this.da?(this.ef[e]=d.y+this.ef[e],this.qd[e]=d.y+this.qd[e]):90===this.da?(this.ef[e]=d.y+b-this.ef[e],this.qd[e]=d.y+b-this.qd[e]):180===this.da?(this.ef[e]=d.x+this.ef[e],this.qd[e]=d.x+this.qd[e]):(this.ef[e]=d.x+b-this.ef[e],this.qd[e]=d.x+b-this.qd[e]);for(a.reset();a.next();){b=a.value;c=b.G;var g=b.Z|0;270===this.da||90===this.da?(e=d.x+this.nd*g,c=this.ef[c]):(e=this.ef[c],c=d.y+this.nd*g);b.pa=
e;b.ta=c;b.commit()}};
X.prototype.commitLinks=X.prototype.Sy=function(){for(var a=this.B.mc.l,b,c;a.next();)c=a.value.Ra,"undefined"!==typeof c&&c!==n&&(c.el(),c.Qn(),c.yi());for(a.reset();a.next();)c=a.value.Ra,"undefined"!==typeof c&&c!==n&&c.gA();for(a.reset();a.next();)if(b=a.value,c=b.Ra){c.el();var d=c,e=d.ga,g=d.la,i=d.Oc,j=d.Bd;if(b.Da){if(c.xf===hk&&4===c.ja){b.wb&&(d=e,e=g,g=d,d=i,i=j,j=d);var k,l,m,p;if(b.W.Z===b.S.Z)k=c.getLinkPoint(e,i,om(c),h,q,g,j).copy(),l=c.getLinkPoint(g,j,pm(c),q,q,e,i).copy(),m=new F((2*
k.x+l.x)/3,(2*k.y+l.y)/3),p=new F((k.x+2*l.x)/3,(k.y+2*l.y)/3),c.Qn(),c.vd(k),c.vd(m),c.vd(p),c.vd(l);else{d=b=q;i!==n&&om(c)===Gb&&(b=h);j!==n&&pm(c)===Gb&&(d=h);if(b||d)k=c.p(0).copy(),m=c.p(1).copy(),p=c.p(2).copy(),l=c.p(3).copy();b&&(90===this.da||270===this.da?(m.x=k.x,m.y=(k.y+l.y)/2):(m.x=(k.x+l.x)/2,m.y=k.y),c.J(1,m),c.J(0,c.getLinkPoint(e,i,om(c),h,q,g,j).copy()));d&&(90===this.da||270===this.da?(p.x=l.x,p.y=(k.y+l.y)/2):(p.x=(k.x+l.x)/2,p.y=l.y),c.J(2,p),c.J(3,c.getLinkPoint(g,j,pm(c),
q,q,e,i).copy()))}}c.yi()}else if(b.W.G===b.S.G)c.yi();else{var r=q,s=q,v,y=c.yv+1;if(c.fc)s=h,v=c.ja,4<v&&c.points.removeRange(2,v-3);else if(c.xf===hk)r=h,v=c.ja,4<v&&c.points.removeRange(2,v-3),y=2;else{v=c.ja;var C=om(c)===Gb,E=pm(c)===Gb;2<v&&C&&E?c.points.removeRange(1,v-2):3<v&&C&&!E?c.points.removeRange(1,v-3):3<v&&!C&&E?c.points.removeRange(2,v-2):4<v&&(!C&&!E)&&c.points.removeRange(2,v-3)}v=b.W;var E=b.S,I;if(b.wb){for(;E!==n&&v!==E;){I=C=n;for(var D=E.Hb.l;D.next()&&!(M=D.value,M.Ra===
b.Ra&&(C=M.W,I=M.S,C.fb===n)););C!==v&&(M=c.p(y-1).copy(),D=new F(C.pa,C.ta),s?180===this.da||0===this.da?2===y?(c.A(y++,new F(M.x,M.y)),c.A(y++,new F(M.x,D.y))):(I=I!==n?new F(I.pa,I.ta):M.copy(),I.y!==D.y&&(I=this.qd[C.G-1],c.A(y++,new F(I,M.y)),c.A(y++,new F(I,D.y)))):2===y?(c.A(y++,new F(M.x,M.y)),c.A(y++,new F(D.x,M.y))):(I=I!==n?new F(I.pa,I.ta):M.copy(),I.x!==D.x&&(I=this.qd[C.G-1],c.A(y++,new F(M.x,I)),c.A(y++,new F(D.x,I)))):2===y?r?(I=Math.max(10,this.jh[E.G]),N=Math.max(10,this.Dg[E.G]),
180===this.da?(E=E.L.x,c.A(y++,new F(E-I,D.y)),c.A(y++,new F(E,D.y)),c.A(y++,new F(E+N,D.y))):90===this.da?(E=E.L.y+E.L.height,c.A(y++,new F(D.x,E+N)),c.A(y++,new F(D.x,E)),c.A(y++,new F(D.x,E-I))):270===this.da?(E=E.L.y,c.A(y++,new F(D.x,E-I)),c.A(y++,new F(D.x,E)),c.A(y++,new F(D.x,E+N))):(E=E.L.x+E.L.width,c.A(y++,new F(E+N,D.y)),c.A(y++,new F(E,D.y)),c.A(y++,new F(E-I,D.y)))):(c.A(y++,M),180===this.da||0===this.da?c.A(y++,new F(M.x,D.y)):c.A(y++,new F(D.x,M.y)),c.A(y++,new F(D.x,D.y))):(I=Math.max(10,
this.jh[C.G]),N=Math.max(10,this.Dg[C.G]),180===this.da?(r&&c.A(y++,new F(D.x-I,D.y)),c.A(y++,D),r&&c.A(y++,new F(D.x+N,D.y))):90===this.da?(r&&c.A(y++,new F(D.x,D.y+N)),c.A(y++,D),r&&c.A(y++,new F(D.x,D.y-I))):270===this.da?(r&&c.A(y++,new F(D.x,D.y-I)),c.A(y++,D),r&&c.A(y++,new F(D.x,D.y+N))):(r&&c.A(y++,new F(D.x+N,D.y)),c.A(y++,D),r&&c.A(y++,new F(D.x-I,D.y)))));E=C}if(j===n||!pm(c).I(Gb))M=c.p(y-1).copy(),D=c.p(y).copy(),s?(C=this.Dg[v.G],180===this.da||0===this.da?(s=M.y,s>=v.L.y&&s<=v.L.bottom&&
(E=v.pa+C,s=s<v.L.y+v.L.height/2?v.L.y-this.nd/2:v.L.bottom+this.nd/2,c.A(y++,new F(E,M.y)),c.A(y++,new F(E,s))),c.A(y++,new F(D.x,s))):(s=M.x,s>=v.L.x&&s<=v.L.right&&(E=v.ta+C,s=s<v.L.x+v.L.width/2?v.L.x-this.nd/2:v.L.right+this.nd/2,c.A(y++,new F(M.x,E)),c.A(y++,new F(s,E))),c.A(y++,new F(s,D.y))),c.A(y++,D)):r?(I=Math.max(10,this.jh[v.G]),N=Math.max(10,this.Dg[v.G]),180===this.da?(E=v.L.x+v.L.width,c.J(y-2,new F(E,M.y)),c.J(y-1,new F(E+N,M.y))):90===this.da?(E=v.L.y,c.J(y-2,new F(M.x,E)),c.J(y-
1,new F(M.x,E-I))):270===this.da?(E=v.L.y+v.L.height,c.J(y-2,new F(M.x,E)),c.J(y-1,new F(M.x,E+N))):(E=v.L.x,c.J(y-2,new F(E,M.y)),c.J(y-1,new F(E-I,M.y)))):(180===this.da||0===this.da?c.A(y++,new F(D.x,M.y)):c.A(y++,new F(M.x,D.y)),c.A(y++,D))}else{for(;v!==n&&v!==E;){I=C=n;v=v.Gb.l;for(var M;v.next()&&!(M=v.value,M.Ra===b.Ra&&(C=M.S,I=M.W,I.fb!==n&&(I=n),C.fb===n)););var N;C!==E&&(M=c.p(y-1).copy(),D=new F(C.pa,C.ta),s?180===this.da||0===this.da?(I=I!==n?new F(I.pa,I.ta):M.copy(),I.y!==D.y&&(I=
this.qd[C.G],2===y&&(I=0===this.da?Math.max(I,M.x):Math.min(I,M.x)),c.A(y++,new F(I,M.y)),c.A(y++,new F(I,D.y)))):(I=I!==n?new F(I.pa,I.ta):M.copy(),I.x!==D.x&&(I=this.qd[C.G],2===y&&(I=90===this.da?Math.max(I,M.y):Math.min(I,M.y)),c.A(y++,new F(M.x,I)),c.A(y++,new F(D.x,I)))):(I=Math.max(10,this.jh[C.G]),N=Math.max(10,this.Dg[C.G]),180===this.da?(c.A(y++,new F(D.x+N,D.y)),r&&c.A(y++,D),c.A(y++,new F(D.x-I,D.y))):90===this.da?(c.A(y++,new F(D.x,D.y-I)),r&&c.A(y++,D),c.A(y++,new F(D.x,D.y+N))):270===
this.da?(c.A(y++,new F(D.x,D.y+N)),r&&c.A(y++,D),c.A(y++,new F(D.x,D.y-I))):(c.A(y++,new F(D.x-I,D.y)),r&&c.A(y++,D),c.A(y++,new F(D.x+N,D.y)))));v=C}s&&(M=c.p(y-1).copy(),D=c.p(y).copy(),180===this.da||0===this.da?M.y!==D.y&&(I=0===this.da?Math.min(Math.max((D.x+M.x)/2,this.qd[E.G]),D.x):Math.max(Math.min((D.x+M.x)/2,this.qd[E.G]),D.x),c.A(y++,new F(I,M.y)),c.A(y++,new F(I,D.y))):M.x!==D.x&&(I=90===this.da?Math.min(Math.max((D.y+M.y)/2,this.qd[E.G]),D.y):Math.max(Math.min((D.y+M.y)/2,this.qd[E.G]),
D.y),c.A(y++,new F(M.x,I)),c.A(y++,new F(D.x,I))))}d!==n&&r&&(i!==n&&(zb(om(c))&&(d=c.p(0).copy(),r=c.p(2).copy(),d.I(r)||c.J(1,new F((d.x+r.x)/2,(d.y+r.y)/2))),c.J(0,c.getLinkPoint(e,i,Gb,h,q,g,j))),j!==n&&(zb(pm(c))&&(d=c.p(c.ja-1),r=c.p(c.ja-3),d.I(r)||c.J(c.ja-2,new F((d.x+r.x)/2,(d.y+r.y)/2))),c.J(c.ja-1,c.getLinkPoint(g,j,Gb,q,q,e,i))));c.yi();b.commit()}}e=new z(U);for(a=this.B.mc.l;a.next();)c=a.value.Ra,c!==n&&(c.fc&&!e.contains(c))&&e.add(c);if(0<e.count)if(90===this.da||270===this.da){u&&
w.i(e,z,X,"adjustOverlapsH:routables");a=0;c=new z(Zo);for(k=e.l;k.next();)if(g=k.value,g!==n&&g.fc)for(e=2;e<g.ja-3;e++)i=g.p(e).copy(),j=g.p(e+1).copy(),$o(i.y,j.y)&&!$o(i.x,j.x)&&(l=new Zo,l.G=Math.floor(i.y/2),m=g.p(0).copy(),p=g.p(g.ja-1).copy(),l.zb=m.x*m.x+m.y,l.zd=p.x*p.x+p.y,l.Xd=Math.min(i.x,j.x),l.wd=Math.max(i.x,j.x),l.ea=e,l.Ra=g,e+2<g.ja&&(m=g.p(e-1).copy(),p=g.p(e+2).copy(),b=0,m.y<i.y?b=p.y<i.y?3:i.x<j.x?2:1:m.y>i.y&&(b=p.y>i.y?0:j.x<i.x?2:1),l.Lh=b),c.add(l));if(1<c.count){c.sort(this.rE);
for(k=0;k<c.count;){e=c.n[k].G;for(l=k+1;l<c.count&&c.n[l].G===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.n[g].wd;for(m=k+1;m<l&&c.n[m].Xd<e;)e=Math.max(e,c.n[m].wd),m++;i=m-g;if(1<i){c.Ho(this.Xv,g,g+i);j=1;p=c.n[g].zd;for(e=g;e<m;e++)b=c.n[e],b.zd!==p&&(j++,p=b.zd);c.Ho(this.qE,g,g+i);r=1;p=c.n[g].zb;for(e=g;e<m;e++)b=c.n[e],b.zb!==p&&(r++,p=b.zb);j<r?(d=q,r=j,p=c.n[g].zd,c.Ho(this.Xv,g,g+i)):(d=h,p=c.n[g].zb);y=0;for(e=g;e<m;e++){b=c.n[e];if((d?b.zb:b.zd)!==p)y++,p=d?b.zb:b.zd;g=b.Ra;i=g.p(b.ea).copy();
j=g.p(b.ea+1).copy();s=4*(y-(r-1)/2);if(g.Fh!==$f||ap(i.x,i.y+s,j.x,j.y+s))a++,g.el(),g.J(b.ea,new F(i.x,i.y+s)),g.J(b.ea+1,new F(j.x,j.y+s)),g.yi()}}g=m}k=l}}}else{u&&w.i(e,z,X,"adjustOverlapsV:routables");a=0;c=new z(Zo);for(k=e.l;k.next();)if(g=k.value,g!==n&&g.fc)for(e=2;e<g.ja-3;e++)i=g.p(e).copy(),j=g.p(e+1).copy(),$o(i.x,j.x)&&!$o(i.y,j.y)&&(l=new Zo,l.G=Math.floor(i.x/2),m=g.p(0).copy(),p=g.p(g.ja-1).copy(),l.zb=m.x+m.y*m.y,l.zd=p.x+p.y*p.y,l.Xd=Math.min(i.y,j.y),l.wd=Math.max(i.y,j.y),l.ea=
e,l.Ra=g,e+2<g.ja&&(m=g.p(e-1).copy(),p=g.p(e+2).copy(),b=0,m.x<i.x?b=p.x<i.x?3:i.y<j.y?2:1:m.x>i.x&&(b=p.x>i.x?0:j.y<i.y?2:1),l.Lh=b),c.add(l));if(1<c.count){c.sort(this.rE);for(k=0;k<c.count;){e=c.n[k].G;for(l=k+1;l<c.count&&c.n[l].G===e;)l++;if(1<l-k)for(g=k;g<l;){e=c.n[g].wd;for(m=k+1;m<l&&c.n[m].Xd<e;)e=Math.max(e,c.n[m].wd),m++;i=m-g;if(1<i){c.Ho(this.Xv,g,g+i);j=1;p=c.n[g].zd;for(e=g;e<m;e++)b=c.n[e],b.zd!==p&&(j++,p=b.zd);c.Ho(this.qE,g,g+i);r=1;p=c.n[g].zb;for(e=g;e<m;e++)b=c.n[e],b.zb!==
p&&(r++,p=b.zb);j<r?(d=q,r=j,p=c.n[g].zd,c.Ho(this.Xv,g,g+i)):(d=h,p=c.n[g].zb);y=0;for(e=g;e<m;e++){b=c.n[e];if((d?b.zb:b.zd)!==p)y++,p=d?b.zb:b.zd;g=b.Ra;i=g.p(b.ea).copy();j=g.p(b.ea+1).copy();s=4*(y-(r-1)/2);if(g.Fh!==$f||ap(i.x+s,i.y,j.x+s,j.y))a++,g.el(),g.J(b.ea,new F(i.x+s,i.y)),g.J(b.ea+1,new F(j.x+s,j.y)),g.yi()}}g=m}k=l}}}};function Zo(){this.ea=this.wd=this.Xd=this.zd=this.zb=this.G=0;this.Ra=n;this.Lh=0}w.Nd(Zo,{Oa:h,zb:h,zd:h,Xd:h,wd:h,index:h,link:h,Lh:h});
X.prototype.rE=function(a,b){return!(a instanceof Zo)||!(b instanceof Zo)||a===b?0:a.G<b.G?-1:a.G>b.G?1:a.Xd<b.Xd?-1:a.Xd>b.Xd?1:a.wd<b.wd?-1:a.wd>b.wd?1:0};X.prototype.qE=function(a,b){return!(a instanceof Zo)||!(b instanceof Zo)||a===b?0:a.zb<b.zb?-1:a.zb>b.zb||a.Lh<b.Lh?1:a.Lh>b.Lh||a.Xd<b.Xd?-1:a.Xd>b.Xd?1:a.wd<b.wd?-1:a.wd>b.wd?1:0};
X.prototype.Xv=function(a,b){return!(a instanceof Zo)||!(b instanceof Zo)||a===b?0:a.zd<b.zd?-1:a.zd>b.zd||a.Lh<b.Lh?1:a.Lh>b.Lh||a.Xd<b.Xd?-1:a.Xd>b.Xd?1:a.wd<b.wd?-1:a.wd>b.wd?1:0};function $o(a,b){u&&(w.o(a,X,"isApprox:a"),w.o(b,X,"isApprox:b"));var c=a-b;return-1<c&&1>c}function ap(a,b,c,d){u&&(w.o(a,X,"isUnoccupied2:px"),w.o(b,X,"isUnoccupied2:py"),w.o(c,X,"isUnoccupied2:qx"),w.o(d,X,"isUnoccupied2:qy"));return h}
function Wn(a,b){var c,d=a.pd[b];if(d>=a.Fg.length){c=[];var e;for(e=0;e<a.Fg.length;e++)c[e]=a.Fg[e];a.Fg=c}"undefined"===typeof a.Fg[d]||a.Fg[d]===n?c=[]:(c=a.Fg[d],a.Fg[d]=n);var d=a.yq[b],g;for(e=0;e<d.length;e++)g=d[e],g instanceof co&&(c[g.ea]=g);return c}function Yn(a,b,c){a.Fg[a.pd[b]]=c}w.g(X,"layerSpacing",X.prototype.ls);w.defineProperty(X,{ls:"layerSpacing"},t("Hd"),function(a){this.Hd!==a&&("number"===typeof a&&0<=a)&&(this.Hd=a,this.F())});w.g(X,"columnSpacing",X.prototype.gG);
w.defineProperty(X,{gG:"columnSpacing"},t("nd"),function(a){this.nd!==a&&("number"===typeof a&&0<=a)&&(this.nd=a,this.F())});w.g(X,"direction",X.prototype.direction);w.defineProperty(X,{direction:"direction"},t("da"),function(a){this.da!==a&&"number"===typeof a&&(this.da=a,this.F())});w.g(X,"cycleRemoveOption",X.prototype.yC);w.defineProperty(X,{yC:"cycleRemoveOption"},t("Dm"),function(a){if(this.Dm!==a&&(u&&w.i(a,ja,On,"cycleRemoveOption"),a===Pn||a===Jn))this.Dm=a,this.F()});
w.g(X,"layeringOption",X.prototype.xD);w.defineProperty(X,{xD:"layeringOption"},t("Ym"),function(a){if(this.Ym!==a&&(u&&w.i(a,ja,On,"layeringOption"),a===Kn||a===Bo||a===Do))this.Ym=a,this.F()});w.g(X,"initializeOption",X.prototype.nD);w.defineProperty(X,{nD:"initializeOption"},t("Sm"),function(a){if(this.Sm!==a&&(u&&w.i(a,ja,On,"initializeOption"),a===Ln||a===Jo||a===Ho))this.Sm=a,this.F()});w.g(X,"iterations",X.prototype.cH);
w.defineProperty(X,{cH:"iterations"},t("zl"),function(a){u&&w.o(a,On,"iterations");this.zl!==a&&("number"===typeof a&&0<=a)&&(this.zl=a,this.F())});w.g(X,"aggressiveOption",X.prototype.aC);w.defineProperty(X,{aC:"aggressiveOption"},t("vm"),function(a){if(this.vm!==a&&(u&&w.i(a,ja,On,"cycleRemoveOption"),a===No||a===Mn||a===Oo))this.vm=a,this.F()});w.g(X,"packOption",X.prototype.CH);w.defineProperty(X,{CH:"packOption"},t("mi"),function(a){this.mi!==a&&("number"===typeof a&&0<=a&&8>a)&&(this.mi=a,this.F())});
w.g(X,"setsPortSpots",X.prototype.nm);w.defineProperty(X,{nm:"setsPortSpots"},t("oh"),function(a){this.oh!==a&&"boolean"===typeof a&&(this.oh=a,this.F())});w.u(X,{yL:"maxLayer"},t("bb"));w.u(X,{wL:"maxIndex"},t("Ut"));w.u(X,{vL:"maxColumn"},t("pb"));w.u(X,{EL:"minIndexLayer"},t("qq"));w.u(X,{xL:"maxIndexLayer"},t("gf"));var Jn;X.CycleDepthFirst=Jn=w.s(X,"CycleDepthFirst",0);var Pn;X.CycleGreedy=Pn=w.s(X,"CycleGreedy",1);var Kn;X.LayerOptimalLinkLength=Kn=w.s(X,"LayerOptimalLinkLength",0);var Bo;
X.LayerLongestPathSink=Bo=w.s(X,"LayerLongestPathSink",1);var Do;X.LayerLongestPathSource=Do=w.s(X,"LayerLongestPathSource",2);var Ln;X.InitDepthFirstOut=Ln=w.s(X,"InitDepthFirstOut",0);var Jo;X.InitDepthFirstIn=Jo=w.s(X,"InitDepthFirstIn",1);var Ho;X.InitNaive=Ho=w.s(X,"InitNaive",2);var No;X.AggressiveNone=No=w.s(X,"AggressiveNone",0);var Mn;X.AggressiveLess=Mn=w.s(X,"AggressiveLess",1);var Oo;X.AggressiveMore=Oo=w.s(X,"AggressiveMore",2);X.PackNone=0;var Po;X.PackExpand=Po=1;var Qo;
X.PackStraighten=Qo=2;var So;X.PackMedian=So=4;var Nn;X.PackAll=Nn=7;function On(){Wm.call(this)}w.Q("LayeredDigraphNetwork",On);w.Ea(On,Wm);On.prototype.createVertex=On.prototype.zj=function(){return new co};On.prototype.createEdge=On.prototype.Tn=function(){return new Un};function co(){$m.call(this);this.ea=this.Z=this.G=-1;this.Da=q;this.Kb=this.Km=this.ik=NaN;this.hj=n;this.il=0;this.Ix=this.Jx=f}w.Q("LayeredDigraphVertex",co);w.Ea(co,$m);w.g(co,"layer",co.prototype.Oa);
w.defineProperty(co,{Oa:"layer"},t("G"),ba("G"));w.g(co,"column",co.prototype.Ec);w.defineProperty(co,{Ec:"column"},t("Z"),ba("Z"));w.g(co,"index",co.prototype.index);w.defineProperty(co,{index:"index"},t("ea"),ba("ea"));w.g(co,"valid",co.prototype.valid);w.defineProperty(co,{valid:"valid"},t("Da"),ba("Da"));w.g(co,"discover",co.prototype.sG);w.defineProperty(co,{sG:"discover"},t("ik"),ba("ik"));w.g(co,"finish",co.prototype.finish);w.defineProperty(co,{finish:"finish"},t("Km"),ba("Km"));
w.g(co,"component",co.prototype.hG);w.defineProperty(co,{hG:"component"},t("Kb"),ba("Kb"));w.g(co,"near",co.prototype.tH);w.defineProperty(co,{tH:"near"},t("hj"),function(a){a!==n&&w.i(a,co,co,"layeredDigraphVertex");this.hj=a});function Un(){an.call(this);this.xp=this.wb=this.Da=q;this.of=this.mf=NaN;this.He=this.Ge=0}w.Q("LayeredDigraphEdge",Un);w.Ea(Un,an);w.g(Un,"valid",Un.prototype.valid);w.defineProperty(Un,{valid:"valid"},t("Da"),ba("Da"));w.g(Un,"rev",Un.prototype.rev);
w.defineProperty(Un,{rev:"rev"},t("wb"),ba("wb"));w.g(Un,"forest",Un.prototype.EG);w.defineProperty(Un,{EG:"forest"},t("xp"),ba("xp"));w.g(Un,"portFromPos",Un.prototype.FH);w.defineProperty(Un,{FH:"portFromPos"},t("mf"),ba("mf"));w.g(Un,"portToPos",Un.prototype.HH);w.defineProperty(Un,{HH:"portToPos"},t("of"),ba("of"));w.g(Un,"portFromColOffset",Un.prototype.EH);w.defineProperty(Un,{EH:"portFromColOffset"},t("Ge"),ba("Ge"));w.g(Un,"portToColOffset",Un.prototype.GH);
w.defineProperty(Un,{GH:"portToColOffset"},t("He"),ba("He"));function W(){ci.call(this);this.fd=new ma(T);this.mh=bp;this.df=cp;this.kr=dp;this.Sc=ep;this.Hf=new bb(10,10);this.ia=new Y;this.ha=new Y}w.Q("TreeLayout",W);w.Ea(W,ci);W.prototype.cloneProtected=W.prototype.xb=function(a){ci.prototype.xb.call(this,a);a.mh=this.mh;a.kr=this.kr;a.Sc=this.Sc;a.Hf=this.Hf.copy();fp(a.ia,this.ia);fp(a.ha,this.ha)};W.prototype.createNetwork=W.prototype.lv=function(){var a=new gp;Xm(a,this);return a};
W.prototype.makeNetwork=W.prototype.kH=function(a){var b=this.createNetwork();a instanceof A?(hp(this,b,a.al,h),hp(this,b,a.links,h)):a instanceof vf?hp(this,b,a.Gc,q):a.l&&hp(this,b,a.l,q);return b};
function hp(a,b,c,d){for(c=c.l;c.next();){var e=c.value;if(e instanceof T&&e.Hr()&&"Comment"!==e.Mc&&(!d||e.js))e.Ki||(e instanceof vf&&e.Pb===n?hp(a,b,e.Gc,q):b.Fn(e))}for(c.reset();c.next();)if(e=c.value,e instanceof U&&e.Hr()&&"Comment"!==e.Mc&&(!d||e.js)){var g=e.ga,a=e.la;if(!(g===n||a===n||g===a)&&"Comment"!==g.Mc&&"Comment"!==a.Mc)g=b.uv(g),a=b.uv(a),g!==n&&a!==n&&b.hm(g,a,e)}}
W.prototype.doLayout=W.prototype.Mr=function(a){this.Pc===n&&(this.Pc=this.makeNetwork(a));this.le!==ip&&(this.jd=Zm(this,this.jd));var b=this.h;b===n&&a instanceof A&&(b=a);this.df=this.path===bp&&b!==n?b.Xc?cp:jp:this.path===bp?cp:this.path;if(0<this.B.ka.count){this.B.ov();for(b=this.B.ka.l;b.next();)a=b.value,a.qk=q,a.Al=0,a.jb=n,a.Yb=[];for(b=this.fd.l;b.next();){var c=b.value,a=this.B.Pe(c);a===n&&this.fd.remove(c)}if(0===this.fd.count){for(a=this.B.ka.l;a.next();)switch(b=a.value,this.df){case cp:0===
b.Hb.count&&this.fd.add(b.fb);break;case jp:0===b.Gb.count&&this.fd.add(b.fb);break;default:w.m("Unhandled path value "+this.df.toString())}if(0===this.fd.count){a=999999;b=n;for(c=this.B.ka.l;c.next();){var d=c.value;switch(this.df){case cp:d.Hb.count<a&&(a=d.Hb.count,b=d);break;case jp:d.Gb.count<a&&(a=d.Gb.count,b=d);break;default:w.m("Unhandled path value "+this.df.toString())}}b!==n&&this.fd.add(b.fb)}}for(b=this.fd.l;b.next();)c=b.value,a=this.B.Pe(c),a!==n&&!a.qk&&(a.qk=h,kp(this,a));for(a=
this.fd.l;a.next();)b=this.B.Pe(a.value),lp(this,b);for(a=this.fd.l;a.next();)b=this.B.Pe(a.value),mp(this,b);for(a=this.fd.l;a.next();)np(this,this.B.Pe(a.value));for(a=this.B.ka.l;a.next();)this.addComments(a.value);for(a=this.fd.l;a.next();)op(this,this.B.Pe(a.value));if(this.Sc===ip)for(a=this.fd.l;a.next();)d=a.value,b=this.B.Pe(d),d=d.position,c=d.x,d=d.y,isFinite(c)||(c=0),isFinite(d)||(d=0),pp(this,b,c,d);else for(var a=this.jd,c=a.x,e=a.y,a=this.fd.l;a.next();)if(d=a.value,b=this.B.Pe(d),
b!==n)switch(pp(this,b,c+b.Ca.x,e+b.Ca.y),this.Sc){case ep:e+=b.Pa.height+this.Hf.height;break;case qp:c+=b.Pa.width+this.Hf.width;break;default:w.m("Unhandled arrangement value "+this.Sc.toString())}this.updateParts()}this.Pc=n;this.fd=new ma(T);this.Se=h};
function kp(a,b){u&&w.i(b,Y,W,"walkTree:v");if(b!==n){switch(a.df){case cp:if(0<b.Gb.count){for(var c=new z(Y),d=b.rG;d.next();){var e=d.value;rp(a,b,e)&&c.add(e)}0<c.count&&(b.Yb=c.sg())}break;case jp:if(0<b.Hb.count){c=new z(Y);for(d=b.$H;d.next();)e=d.value,rp(a,b,e)&&c.add(e);0<c.count&&(b.Yb=c.sg())}break;default:w.m("Unhandled path value"+a.df.toString())}for(var c=b.Yb,d=c.length,g=0;g<d;g++)e=c[g],e.qk=h,e.Al=b.Al+1,e.jb=b,a.fd.remove(e.fb);for(g=0;g<d;g++)e=c[g],kp(a,e)}}
function rp(a,b,c){u&&w.i(b,Y,W,"walkOK:v");u&&w.i(c,Y,W,"walkOK:c");if(c.qk){var d;u&&w.i(c,Y,W,"isAncestor:a");u&&w.i(b,Y,W,"isAncestor:b");if(b===n)d=q;else{for(d=b.jb;d!==n&&d!==c;)d=d.jb;d=d===c}if(d||c.Al>b.Al)return q;a.removeChild(c.jb,c)}return h}
W.prototype.removeChild=function(a,b){u&&w.i(a,Y,W,"removeChild:p");u&&w.i(b,Y,W,"removeChild:c");if(a!==n&&b!==n){for(var c=a.Yb,d=0,e=0;e<c.length;e++)c[e]===b&&d++;if(0<d){for(var d=Array(c.length-d),g=0,e=0;e<c.length;e++)c[e]!==b&&(d[g++]=c[e]);a.Yb=d}}};
function lp(a,b){u&&w.i(b,Y,W,"initializeTree:v");if(b!==n){u&&w.i(b,Y,W,"initializeTreeVertexValues:v");var c=sp(a,b);fp(b,c);if(b.jb!==n&&b.jb.Aa===tp){for(var c=b.angle,d=b.jb.Yb,e=0;e<d.length&&b!==d[e];)e++;0===e%2?e!==d.length-1&&(c=90===c?180:180===c?270:270===c?180:270):c=90===c?0:180===c?90:270===c?0:90;b.angle=c}b.qk=h;b.Aa===tp&&a.AE(b);for(var c=0,d=b.Tl,e=0,g=b.Yb,i=g.length,j=0;j<i;j++){var k=g[j];lp(a,k);c+=k.rt+1;d=Math.max(d,k.Tt);e=Math.max(e,k.ei)}b.rt=c;b.Tt=d;b.ei=0<d?e+1:0}}
function sp(a,b){u&&w.i(b,Y,W,"mom:v");switch(a.kr){default:case dp:return b.jb!==n?b.jb:a.ia;case up:return b.jb===n?a.ia:b.jb.jb===n?a.ha:b.jb;case vp:if(b.jb!==n)return b.jb.jb!==n?b.jb.jb:a.ha;case wp:var c=h;if(0===b.Tl)c=q;else for(var d=b.Yb,e=d.length,g=0;g<e;g++)if(0<d[g].Tl){c=q;break}return c&&b.jb!==n?a.ha:b.jb!==n?b.jb:a.ia}}function mp(a,b){u&&w.i(b,Y,W,"assignTree:v");if(b!==n){a.assignTreeVertexValues(b);for(var c=b.Yb,d=c.length,e=0;e<d;e++)mp(a,c[e])}}
W.prototype.assignTreeVertexValues=W.prototype.GI=aa();function np(a,b){u&&w.i(b,Y,W,"sortTree:v");if(b!==n){b.Aa!==tp&&a.AE(b);for(var c=b.Yb,d=c.length,e=0;e<d;e++)np(a,c[e])}}W.prototype.sortTreeVertexChildren=W.prototype.AE=function(a){u&&w.i(a,Y,W,"sortTreeVertexChildren:v");switch(a.uc){case xp:break;case yp:a.Yb.reverse();break;case zp:a.Yb.sort(a.rc);break;case Ap:a.Yb.sort(a.rc);a.Yb.reverse();break;default:w.m("Unhandled sorting value "+a.uc.toString())}};
W.prototype.addComments=W.prototype.DF=function(a){u&&w.i(a,Y,W,"addComments:v");var b=a.oc,c=a.jb,d=0,e=Bp,e=q;c!==n&&(d=c.oc,e=c.Aa,e=Cp(e));var b=90===b||270===b,d=90===d||270===d,c=0===a.Tl,g=new G,i=g.width,g=g.height,j=0,k=a.Ed;if(a.fb!==n)for(var l=a.fb.NC();l.next();){var m=l.value;"Comment"===m.Mc&&m.hb()&&(a.Fd===n&&(a.Fd=[]),a.Fd.push(m),m.Di(),m=m.xa,b&&!c||!e&&!d&&c||e&&d&&c?(i=Math.max(i,m.width),g+=m.height+Math.abs(j)):(i+=m.width+Math.abs(j),g=Math.max(g,m.height)),j=k)}a.Fd!==n&&
(b&&!c||!e&&!d&&c||e&&d&&c?(i+=Math.abs(a.qc),g=Math.max(0,g-a.height)):(g+=Math.abs(a.qc),i=Math.max(0,i-a.width)),a.Fb=new G(0,0,a.L.width+i,a.L.height+g))};function Cp(a){return a===Dp||a===tp||a===Ep||a===Fp}function Gp(a){return a===Dp||a===tp}function Hp(a){u&&w.i(a,Y,W,"isLeftSideBus:v");var b=a.jb;if(b!==n){var c=b.Db;if(Cp(c)){if(Gp(c)){b=b.children;for(c=0;c<b.length&&a!==b[c];)c++;return 0===c%2}if(c===Ep)return h}}return q}
W.prototype.layoutComments=W.prototype.qL=function(a){u&&w.i(a,Y,W,"layoutComments:v");if(a.Fd!==n){var b=a.Ug.xa,c=a.jb,d=a.oc,e=0,g=Bp,g=q;c!==n&&(e=c.oc,g=c.Aa,g=Cp(g));for(var d=90===d||270===d,i=90===e||270===e,j=0===a.Tl,k=Hp(a),l=0,m=a.Fd,p=m.length,r=0;r<p;r++){var c=m[r],s=c.xa;if(d&&!j||!g&&!i&&j||g&&i&&j){if(135<e&&!g||i&&k)if(0<=a.qc){c.location=new F(a.L.x-a.qc-s.width,a.L.y+l);for(var v=c.Af();v.next();)c=v.value,c.lb=Tb,c.ob=Zb}else{c.location=new F(a.L.x+2*a.K.x-a.qc,a.L.y+l);for(v=
c.Af();v.next();)c=v.value,c.lb=Zb,c.ob=Tb}else if(0<=a.qc){c.location=new F(a.L.x+2*a.K.x+a.qc,a.L.y+l);for(v=c.Af();v.next();)c=v.value,c.lb=Zb,c.ob=Tb}else{c.location=new F(a.L.x+a.qc-s.width,a.L.y+l);for(v=c.Af();v.next();)c=v.value,c.lb=Tb,c.ob=Zb}l=0<=a.Ed?l+(s.height+a.Ed):l+(a.Ed-s.height)}else{if(135<e&&!g||!i&&k)if(0<=a.qc){c.location=new F(a.L.x+l,a.L.y-a.qc-s.height);for(v=c.Af();v.next();)c=v.value,c.lb=Sb,c.ob=$b}else{c.location=new F(a.L.x+l,a.L.y+2*a.K.y-a.qc);for(v=c.Af();v.next();)c=
v.value,c.lb=$b,c.ob=Sb}else if(0<=a.qc){c.location=new F(a.L.x+l,a.L.y+2*a.K.y+a.qc);for(v=c.Af();v.next();)c=v.value,c.lb=$b,c.ob=Sb}else{c.location=new F(a.L.x+l,a.L.y+a.qc-s.height);for(v=c.Af();v.next();)c=v.value,c.lb=Sb,c.ob=$b}l=0<=a.Ed?l+(s.width+a.Ed):l+(a.Ed-s.width)}}b=l-a.Ed-(d?b.height:b.width);if(this.df===cp)for(a=a.Gb;a.next();){if(e=a.value,(c=e.link)&&c.Fh!==$f)c.Sk=0<b?b:NaN}else for(a=a.Hb;a.next();)if(e=a.value,(c=e.link)&&c.Fh!==$f)c.fl=0<b?b:NaN}};
function op(a,b){u&&w.i(b,Y,W,"layoutTree:v");if(b!==n){for(var c=b.Yb,d=c.length,e=0;e<d;e++)op(a,c[e]);switch(b.wg){case Ip:Jp(a,b);break;case Kp:if(b.Aa===tp)Jp(a,b);else if(u&&w.i(b,Y,W,"layoutTreeBlock:v"),0===b.Tl){var e=b.jb,c=q,d=0,g=Bp;e!==n&&(d=e.oc,g=e.Aa,c=Cp(g));e=Hp(b);b.aa.U(0,0);b.Pa.U(b.width,b.height);b.jb!==n&&b.Fd!==n&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?b.Ca.U(b.width-2*b.K.x,0):b.Ca.U(0,b.height-2*b.K.y):b.Ca.U(0,0);b.aq=n;b.Pq=n}else{for(var i=Lp(b),
c=90===i||270===i,j=0,k=b.Yb,l=k.length,m=0;m<l;m++)var p=k[m],j=Math.max(j,c?p.Pa.width:p.Pa.height);var r=b.Aa,e=r===Mp,s=r===Np,v=Cp(r),y=Math.max(0,b.tg),d=Op(b),C=b.td,E=Pp(b),I=b.Je,D=0;if(e||s||b.Ak||b.Bk&&1===b.ei)D=Math.max(0,b.gd);var e=b.width,g=b.height,M=0,N=0,Z=0,va=n,la=n,ta=0,Ea=0,Ha=0,cb=0,rb=0,Xa=0,Na=0,gb=0,p=0;v&&!Gp(r)&&135<i&&k.reverse();if(Gp(r))if(1<l)for(m=0;m<l;m++)0===m%2&&m!==l-1?gb=Math.max(gb,c?k[m].Pa.width:k[m].Pa.height):0!==m%2&&(p=Math.max(p,c?k[m].Pa.width:k[m].Pa.height));
else 1===l&&(gb=c?k[0].Pa.width:k[0].Pa.height);if(v){switch(r){case Dp:Ea=135>i?Qp(b,k,gb,M,N):Rp(b,k,gb,M,N);gb=Ea[0];M=Ea[1];N=Ea[2];break;case Ep:for(m=0;m<l;m++){var p=k[m],Ya=p.Pa,va=0===Xa?0:I;c?(p.aa.U(j-Ya.width,cb+va),M=Math.max(M,Ya.width),N=Math.max(N,cb+va+Ya.height),cb+=va+Ya.height):(p.aa.U(Ha+va,j-Ya.height),M=Math.max(M,Ha+va+Ya.width),N=Math.max(N,Ya.height),Ha+=va+Ya.width);Xa++}break;case Fp:for(m=0;m<l;m++)p=k[m],Ya=p.Pa,va=0===Xa?0:I,c?(p.aa.U(C/2+b.K.x,cb+va),M=Math.max(M,Ya.width),
N=Math.max(N,cb+va+Ya.height),cb+=va+Ya.height):(p.aa.U(Ha+va,C/2+b.K.y),M=Math.max(M,Ha+va+Ya.width),N=Math.max(N,Ya.height),Ha+=va+Ya.width),Xa++}va=[];la=[];c?(va[0]=new F(0,0),va[1]=new F(0,N),la[0]=new F(M,0)):(va[0]=new F(0,0),va[1]=new F(M,0),la[0]=new F(0,N));la[1]=new F(M,N)}else for(m=0;m<l;m++){p=k[m];Ya=p.Pa;if(c){0<y&&(0<Xa&&Ha+C+Ya.width>y)&&(Ha<j&&Sp(b,r,j-Ha,0,Na,m-1),rb++,Xa=0,Na=m,Z=N,Ha=0,cb=135<i?-N-I:N+I);Tp(a,p,0,cb);var nb=0;if(0===Xa){if(va=p.aq,la=p.Pq,ta=Ya.width,Ea=Ya.height,
va===n||la===n||i!==Lp(p))va=[],la=[],va[0]=new F(0,0),va[1]=new F(0,Ea),la[0]=new F(ta,0),la[1]=new F(ta,Ea)}else Ea=Up(b,p,va,la,ta,Ea),nb=Ea[0],va=Ea[1],la=Ea[2],ta=Ea[3],Ea=Ea[4],Ha<Ya.width&&0>nb&&(Vp(b,-nb,0,Na,m-1),Wp(va,-nb,0),Wp(la,-nb,0),nb=0);p.aa.U(nb,cb);M=Math.max(M,ta);N=Math.max(N,Z+(0===rb?0:I)+Ya.height);Ha=ta}else{0<y&&(0<Xa&&cb+C+Ya.height>y)&&(cb<j&&Sp(b,r,0,j-cb,Na,m-1),rb++,Xa=0,Na=m,Z=M,cb=0,Ha=135<i?-M-I:M+I);Tp(a,p,Ha,0);nb=0;if(0===Xa){if(va=p.aq,la=p.Pq,ta=Ya.width,Ea=
Ya.height,va===n||la===n||i!==Lp(p))va=[],la=[],va[0]=new F(0,0),va[1]=new F(ta,0),la[0]=new F(0,Ea),la[1]=new F(ta,Ea)}else Ea=Up(b,p,va,la,ta,Ea),nb=Ea[0],va=Ea[1],la=Ea[2],ta=Ea[3],Ea=Ea[4],cb<Ya.height&&0>nb&&(Vp(b,0,-nb,Na,m-1),Wp(va,0,-nb),Wp(la,0,-nb),nb=0);p.aa.U(Ha,nb);N=Math.max(N,Ea);M=Math.max(M,Z+(0===rb?0:I)+Ya.width);cb=Ea}Xa++}0<rb&&(c?(N+=Math.max(0,d),Ha<M&&Sp(b,r,M-Ha,0,Na,l-1),0<D&&(s||Vp(b,D,0,0,l-1),M+=D)):(M+=Math.max(0,d),cb<N&&Sp(b,r,0,N-cb,Na,l-1),0<D&&(s||Vp(b,0,D,0,l-1),
N+=D)));s=j=0;switch(r){case Xp:c?j+=M/2-b.K.x-E/2:s+=N/2-b.K.y-E/2;break;case Bp:0<rb?c?j+=M/2-b.K.x-E/2:s+=N/2-b.K.y-E/2:c?(m=k[0].aa.x+k[0].Ca.x,gb=k[l-1].aa.x+k[l-1].Ca.x+2*k[l-1].K.x,j+=m+(gb-m)/2-b.K.x-E/2):(m=k[0].aa.y+k[0].Ca.y,gb=k[l-1].aa.y+k[l-1].Ca.y+2*k[l-1].K.y,s+=m+(gb-m)/2-b.K.y-E/2);break;case Mp:c?(j-=E,M+=E):(s-=E,N+=E);break;case Np:c?(j+=M-b.width+E,M+=E):(s+=N-b.height+E,N+=E);break;case Dp:c?j=1<l?j+(gb+C/2-b.K.x):j+(k[0].K.x-b.K.x+k[0].Ca.x):s=1<l?s+(gb+C/2-b.K.y):s+(k[0].K.y-
b.K.y+k[0].Ca.y);break;case Ep:c?j+=M+C/2-b.K.x:s+=N+C/2-b.K.y;break;case Fp:break;default:w.m("Unhandled alignment value "+r.toString())}for(m=0;m<l;m++)p=k[m],c?p.aa.U(p.aa.x+p.Ca.x-j,p.aa.y+(135<i?(v?-N:-p.Pa.height)+p.Ca.y-d:g+d+p.Ca.y)):p.aa.U(p.aa.x+(135<i?(v?-M:-p.Pa.width)+p.Ca.x-d:e+d+p.Ca.x),p.aa.y+p.Ca.y-s);l=k=0;v?c?(M=Yp(b,M,j),0>j&&(j=0),135<i&&(s+=N+d),N+=g+d,r===Fp&&(k+=C/2+b.K.x),l+=g+d):(135<i&&(j+=M+d),M+=e+d,N=Zp(b,N,s),0>s&&(s=0),r===Fp&&(l+=C/2+b.K.y),k+=e+d):c?(b.Fd===n?e>M&&
(r=$p(r,e-M,0),k=r[0],l=r[1],M=e,j=0):M=Yp(b,M,j),0>j&&(k-=j,j=0),135<i&&(s+=N+d),N=Math.max(Math.max(N,g),N+g+d),l+=g+d):(135<i&&(j+=M+d),M=Math.max(Math.max(M,e),M+e+d),b.Fd===n?g>N&&(r=$p(r,0,g-N),k=r[0],l=r[1],N=g,s=0):N=Zp(b,N,s),0>s&&(l-=s,s=0),k+=e+d);if(0<rb)i=[],r=[],c?(i[2]=new F(0,g+d),i[3]=new F(i[2].x,N),r[2]=new F(M,i[2].y),r[3]=new F(r[2].x,i[3].y)):(i[2]=new F(e+d,0),i[3]=new F(M,i[2].y),r[2]=new F(i[2].x,N),r[3]=new F(i[3].x,r[2].y));else{i=[];r=[];for(m=0;m<va.length;m++)v=va[m],
i[m+2]=new F(v.x+k,v.y+l);for(m=0;m<la.length;m++)v=la[m],r[m+2]=new F(v.x+k,v.y+l)}c?(i[0]=new F(j,0),i[1]=new F(i[0].x,g),i[2].y<i[1].y&&(i[2].x>i[0].x?i[2]=i[1].copy():i[1].Va(i[2])),i[3].y<i[2].y&&(i[3].x>i[0].x?i[3]=i[2].copy():i[2]=i[3].copy()),r[0]=new F(j+e,0),r[1]=new F(r[0].x,g),r[2].y<r[1].y&&(r[2].x<r[0].x?r[2]=r[1].copy():r[1].Va(r[2])),r[3].y<r[2].y&&(r[3].x<r[0].x?r[3]=r[2].copy():r[2]=r[3].copy()),i[2].y-=d/2,r[2].y-=d/2):(i[0]=new F(0,s),i[1]=new F(e,i[0].y),i[2].x<i[1].x&&(i[2].y>
i[0].y?i[2]=i[1].copy():i[1].Va(i[2])),i[3].x<i[2].x&&(i[3].y>i[0].y?i[3]=i[2].copy():i[2]=i[3].copy()),r[0]=new F(0,s+g),r[1]=new F(e,r[0].y),r[2].x<r[1].x&&(r[2].y<r[0].y?r[2]=r[1].copy():r[1].Va(r[2])),r[3].x<r[2].x&&(r[3].y<r[0].y?r[3]=r[2].copy():r[2]=r[3].copy()),i[2].x-=d/2,r[2].x-=d/2);b.aq=i;b.Pq=r;b.Ca.U(j,s);b.Pa.U(M,N)}break;default:w.m("Unhandled compaction value "+b.wg.toString())}}}
function Jp(a,b){u&&w.i(b,Y,W,"layoutTreeNone:v");if(0===b.Tl){var c=q,d=0,e=Bp;b.jb!==n&&(d=b.jb.oc,e=b.jb.Aa,c=Cp(e));e=Hp(b);b.aa.U(0,0);b.Pa.U(b.width,b.height);b.jb!==n&&b.Fd!==n&&((180===d||270===d)&&!c||e)?180===d&&!c||(90===d||270===d)&&e?b.Ca.U(b.width-2*b.K.x,0):b.Ca.U(0,b.height-2*b.K.y):b.Ca.U(0,0)}else{for(var c=Lp(b),d=90===c||270===c,g=0,e=b.Yb,i=e.length,j=0;j<i;j++)var k=e[j],g=Math.max(g,d?k.Pa.width:k.Pa.height);var l=b.Aa,m=l===Mp,p=l===Np,r=Cp(l),s=Math.max(0,b.tg),v=Op(b),y=
b.td,C=Pp(b),E=m||p?0:C/2,I=b.Je,D=0;if(m||p||b.Ak||b.Bk&&1===b.ei)D=Math.max(0,b.gd);var m=b.width,M=b.height,N=0,Z=0,va=0,la=0,ta=0,Ea=0,Ha=0,cb=0,rb=0,Xa=0;r&&!Gp(l)&&135<c&&e.reverse();if(Gp(l))if(1<i)for(j=0;j<i;j++){var k=e[j],Na=k.Pa;0===j%2&&j!==i-1?rb=Math.max(rb,(d?Na.width:Na.height)+aq(k)-y):0!==j%2&&(Xa=Math.max(Xa,(d?Na.width:Na.height)+aq(k)-y))}else 1===i&&(rb=d?e[0].Pa.width:e[0].Pa.height);if(r)switch(l){case Dp:case tp:Z=135>c?Qp(b,e,rb,N,Z):Rp(b,e,rb,N,Z);rb=Z[0];N=Z[1];Z=Z[2];
break;case Ep:for(j=0;j<i;j++)k=e[j],Na=k.Pa,s=0===Ha?0:I,d?(k.aa.U(g-Na.width,ta+s),N=Math.max(N,Na.width),Z=Math.max(Z,ta+s+Na.height),ta+=s+Na.height):(k.aa.U(la+s,g-Na.height),N=Math.max(N,la+s+Na.width),Z=Math.max(Z,Na.height),la+=s+Na.width),Ha++;break;case Fp:for(g=0;g<i;g++)k=e[g],Na=k.Pa,s=0===Ha?0:I,d?(k.aa.U(y/2+b.K.x,ta+s),N=Math.max(N,Na.width),Z=Math.max(Z,ta+s+Na.height),ta+=s+Na.height):(k.aa.U(la+s,y/2+b.K.y),N=Math.max(N,la+s+Na.width),Z=Math.max(Z,Na.height),la+=s+Na.width),Ha++}else for(j=
0;j<i;j++)k=e[j],Na=k.Pa,d?(0<s&&(0<Ha&&la+y+Na.width>s)&&(la<g&&Sp(b,l,g-la,0,cb,j-1),Ea++,Ha=0,cb=j,va=Z,la=0,ta=135<c?-Z-I:Z+I),Xa=0===Ha?E:y,Tp(a,k,0,ta),k.aa.U(la+Xa,ta),N=Math.max(N,la+Xa+Na.width),Z=Math.max(Z,va+(0===Ea?0:I)+Na.height),la+=Xa+Na.width):(0<s&&(0<Ha&&ta+y+Na.height>s)&&(ta<g&&Sp(b,l,0,g-ta,cb,j-1),Ea++,Ha=0,cb=j,va=N,ta=0,la=135<c?-N-I:N+I),Xa=0===Ha?E:y,Tp(a,k,la,0),k.aa.U(la,ta+Xa),Z=Math.max(Z,ta+Xa+Na.height),N=Math.max(N,va+(0===Ea?0:I)+Na.width),ta+=Xa+Na.height),Ha++;
0<Ea&&(d?(Z+=Math.max(0,v),la<N&&Sp(b,l,N-la,0,cb,i-1),0<D&&(p||Vp(b,D,0,0,i-1),N+=D)):(N+=Math.max(0,v),ta<Z&&Sp(b,l,0,Z-ta,cb,i-1),0<D&&(p||Vp(b,0,D,0,i-1),Z+=D)));D=p=0;switch(l){case Xp:d?p+=N/2-b.K.x-C/2:D+=Z/2-b.K.y-C/2;break;case Bp:0<Ea?d?p+=N/2-b.K.x-C/2:D+=Z/2-b.K.y-C/2:d?(l=e[0].aa.x+e[0].Ca.x,y=e[i-1].aa.x+e[i-1].Ca.x+2*e[i-1].K.x,p+=l+(y-l)/2-b.K.x-C/2):(l=e[0].aa.y+e[0].Ca.y,y=e[i-1].aa.y+e[i-1].Ca.y+2*e[i-1].K.y,D+=l+(y-l)/2-b.K.y-C/2);break;case Mp:d?(p-=C,N+=C):(D-=C,Z+=C);break;
case Np:d?(p+=N-b.width+C,N+=C):(D+=Z-b.height+C,Z+=C);break;case Dp:case tp:d?p=1<i?p+(rb+y/2-b.K.x):p+(e[0].K.x-b.K.x+e[0].Ca.x):D=1<i?D+(rb+y/2-b.K.y):D+(e[0].K.y-b.K.y+e[0].Ca.y);break;case Ep:d?p+=N+y/2-b.K.x:D+=Z+y/2-b.K.y;break;case Fp:break;default:w.m("Unhandled alignment value "+l.toString())}for(j=0;j<i;j++)k=e[j],d?k.aa.U(k.aa.x+k.Ca.x-p,k.aa.y+(135<c?(r?-Z:-k.Pa.height)+k.Ca.y-v:M+v+k.Ca.y)):k.aa.U(k.aa.x+(135<c?(r?-N:-k.Pa.width)+k.Ca.x-v:m+v+k.Ca.x),k.aa.y+k.Ca.y-D);d?(N=Yp(b,N,p),
0>p&&(p=0),135<c&&(D+=Z+v),Z+=M+v):(135<c&&(p+=N+v),N+=m+v,Z=Zp(b,Z,D),0>D&&(D=0));b.Ca.U(p,D);b.Pa.U(N,Z)}}
function Qp(a,b,c,d,e){u&&w.i(a,Y,W,"layoutBusChildrenPosDir:v");var g=b.length;if(0===g)return[c,d,e];if(1===g){var i=b[0],d=i.Pa.width,e=i.Pa.height;return[c,d,e]}for(var j=a.td,k=a.Je,l=90===Lp(a),m=0,p=0,r=0,s=0;s<g;s++)if(!(0!==s%2||1<g&&s===g-1)){var i=b[s],v=i.Pa,y=0===m?0:k;if(l){var C=aq(i)-j;i.aa.U(c-(v.width+C),r+y);d=Math.max(d,v.width+C);e=Math.max(e,r+y+v.height);r+=y+v.height}else C=aq(i)-j,i.aa.U(p+y,c-(v.height+C)),e=Math.max(e,v.height+C),d=Math.max(d,p+y+v.width),p+=y+v.width;m++}var m=
0,E=p,I=r;l?(p=c+j,r=0):(p=0,r=c+j);for(s=0;s<g;s++)0!==s%2&&(i=b[s],v=i.Pa,y=0===m?0:k,l?(C=aq(i)-j,i.aa.U(p+C,r+y),d=Math.max(d,p+v.width+C),e=Math.max(e,r+y+v.height),r+=y+v.height):(C=aq(i)-j,i.aa.U(p+y,r+C),d=Math.max(d,p+y+v.width),e=Math.max(e,r+v.height+C),p+=y+v.width),m++);1<g&&1===g%2&&(i=b[g-1],v=i.Pa,b=bq(i,l?Math.max(Math.abs(I),Math.abs(r)):Math.max(Math.abs(E),Math.abs(p))),l?(i.aa.U(c+j/2-i.K.x-i.Ca.x,e+b),l=c+j/2-i.K.x-i.Ca.x,d=Math.max(d,l+v.width),0>l&&(d-=l),e=Math.max(e,Math.max(I,
r)+b+v.height),0>i.aa.x&&(c=cq(a,i.aa.x,q,c,j))):(i.aa.U(d+b,c+j/2-i.K.y-i.Ca.y),d=Math.max(d,Math.max(E,p)+b+v.width),l=c+j/2-i.K.y-i.Ca.y,e=Math.max(e,l+v.height),0>l&&(e-=l),0>i.aa.y&&(c=cq(a,i.aa.y,h,c,j))));return[c,d,e]}
function Rp(a,b,c,d,e){u&&w.i(a,Y,W,"layoutBusChildrenNegDir:v");var g=b.length;if(0===g)return[c,d,e];if(1===g){var i=b[0],d=i.Pa.width,e=i.Pa.height;return[c,d,e]}for(var j=a.td,k=a.Je,l=270===Lp(a),m=0,p=0,r=0,s=0;s<g;s++)if(!(0!==s%2||1<g&&s===g-1)){var i=b[s],v=i.Pa,y=0===m?0:k;if(l){var C=aq(i)-j,r=r-(y+v.height);i.aa.U(c-(v.width+C),r);d=Math.max(d,v.width+C);e=Math.max(e,Math.abs(r))}else C=aq(i)-j,p-=y+v.width,i.aa.U(p,c-(v.height+C)),e=Math.max(e,v.height+C),d=Math.max(d,Math.abs(p));m++}var m=
0,E=p,I=r;l?(p=c+j,r=0):(p=0,r=c+j);for(s=0;s<g;s++)0!==s%2&&(i=b[s],v=i.Pa,y=0===m?0:k,l?(C=aq(i)-j,r-=y+v.height,i.aa.U(p+C,r),d=Math.max(d,p+v.width+C),e=Math.max(e,Math.abs(r))):(C=aq(i)-j,p-=y+v.width,i.aa.U(p,r+C),e=Math.max(e,r+v.height+C),d=Math.max(d,Math.abs(p))),m++);1<g&&1===g%2&&(i=b[g-1],v=i.Pa,k=bq(i,l?Math.max(Math.abs(I),Math.abs(r)):Math.max(Math.abs(E),Math.abs(p))),l?(i.aa.U(c+j/2-i.K.x-i.Ca.x,-e-v.height-k),p=c+j/2-i.K.x-i.Ca.x,d=Math.max(d,p+v.width),0>p&&(d-=p),e=Math.max(e,
Math.abs(Math.min(I,r))+k+v.height),0>i.aa.x&&(c=cq(a,i.aa.x,q,c,j))):(i.aa.U(-d-v.width-k,c+j/2-i.K.y-i.Ca.y),d=Math.max(d,Math.abs(Math.min(E,p))+k+v.width),p=c+j/2-i.K.y-i.Ca.y,e=Math.max(e,p+v.height),0>p&&(e-=p),0>i.aa.y&&(c=cq(a,i.aa.y,h,c,j))));for(s=0;s<g;s++)i=b[s],l?i.aa.U(i.aa.x,i.aa.y+e):i.aa.U(i.aa.x+d,i.aa.y);return[c,d,e]}function aq(a){u&&w.i(a,Y,W,"fixRelativePostions:child");return a.parent===n?0:a.parent.Nv}
function bq(a){u&&w.i(a,Y,W,"fixRelativePostions:lastchild");return a.parent===n?0:a.parent.Wv}function cq(a,b,c,d,e){u&&w.i(a,Y,W,"fixRelativePostions:v");for(var a=a.Yb,g=a.length,i=0;i<g;i++)c?a[i].aa.U(a[i].aa.x,a[i].aa.y-b):a[i].aa.U(a[i].aa.x-b,a[i].aa.y);b=a[g-1];return Math.max(d,c?b.Ca.y+b.K.y-e/2:b.Ca.x+b.K.x-e/2)}
function Yp(a,b,c){u&&w.i(a,Y,W,"calculateSubwidth:v");switch(a.Aa){case Bp:case Xp:var d=b;c+a.width>d&&(d=c+a.width);0>c&&(d-=c);return d;case Mp:return a.width>b?a.width:b;case Np:return 2*a.K.x>b?a.width:b+a.width-2*a.K.x;case Dp:case tp:return d=Math.min(0,c),c=Math.max(b,c+a.width),Math.max(a.width,c-d);case Ep:return a.width-a.K.x+a.td/2+b;case Fp:return Math.max(a.width,a.K.x+a.td/2+b);default:return b}}
function Zp(a,b,c){u&&w.i(a,Y,W,"calculateSubheight:v");switch(a.Aa){case Bp:case Xp:var d=b;c+a.height>d&&(d=c+a.height);0>c&&(d-=c);return d;case Mp:return a.height>b?a.height:b;case Np:return 2*a.K.y>b?a.height:b+a.height-2*a.K.y;case Dp:case tp:return d=Math.min(0,c),c=Math.max(b,c+a.height),Math.max(a.height,c-d);case Ep:return a.height-a.K.y+a.td/2+b;case Fp:return Math.max(a.height,a.K.y+a.td/2+b);default:return b}}
function $p(a,b,c){u&&w.i(a,ja,W,"alignOffset:align");switch(a){case Xp:b/=2;c/=2;break;case Bp:b/=2;c/=2;break;case Mp:c=b=0;break;case Np:break;default:w.m("Unhandled alignment value "+a.toString())}return[b,c]}function Sp(a,b,c,d,e,g){u&&w.i(a,Y,W,"shiftRelPosAlign:v");u&&w.i(b,ja,W,"shiftRelPosAlign:align");b=$p(b,c,d);Vp(a,b[0],b[1],e,g)}function Vp(a,b,c,d,e){u&&w.i(a,Y,W,"shiftRelPos:v");if(!(0===b&&0===c))for(a=a.Yb;d<=e;d++){var g=a[d].aa;g.x+=b;g.y+=c}}
function Tp(a,b,c,d){u&&(w.i(b,Y,W,"recordMidPoints:v"),w.k(c,"number",W,"recordMidPoints:x"),w.k(d,"number",W,"recordMidPoints:y"));var e=b.jb;switch(a.df){case cp:for(a=b.Hb;a.next();)b=a.value,b.W===e&&b.Hq.U(c,d);break;case jp:for(a=b.Gb;a.next();)b=a.value,b.S===e&&b.Hq.U(c,d);break;default:w.m("Unhandled path value "+a.df.toString())}}function Wp(a,b,c){for(var d=0;d<a.length;d++){var e=a[d];e.x+=b;e.y+=c}}
function Up(a,b,c,d,e,g){u&&w.i(a,Y,W,"mergeFringes:parent");u&&w.i(b,Y,W,"mergeFringes:child");var i=Lp(a),j=90===i||270===i,k=a.td,l=e,m=g,p=b.aq,e=b.Pq,g=b.Pa,a=j?Math.max(m,g.height):Math.max(l,g.width);if(p===n||i!==Lp(b))p=[],e=[],j?(p[0]=new F(0,0),p[1]=new F(0,g.height),e[0]=new F(g.width,0),e[1]=new F(e[0].x,p[1].y)):(p[0]=new F(0,0),p[1]=new F(g.width,0),e[0]=new F(0,g.height),e[1]=new F(p[1].x,e[0].y));if(j){b=j=l;i=p;l=9999999;if(!(d===n||2>d.length||i===n||2>i.length))for(var r=m=0;m<
d.length&&r<i.length;){var s=d[m],v=i[r].copy();v.x+=j;var y=s;m+1<d.length&&(y=d[m+1]);var C=v;r+1<i.length&&(C=i[r+1].copy(),C.x+=j);var E=l;s.y===v.y?E=v.x-s.x:s.y>v.y&&s.y<C.y?E=v.x+(s.y-v.y)/(C.y-v.y)*(C.x-v.x)-s.x:v.y>s.y&&v.y<y.y&&(E=v.x-(s.x+(v.y-s.y)/(y.y-s.y)*(y.x-s.x)));E<l&&(l=E);y.y<=s.y?m++:C.y<=v.y?r++:(y.y<=C.y&&m++,C.y<=y.y&&r++)}b-=l;b+=k;k=p;p=b;if(c===n||2>c.length||k===n||2>k.length)c=n;else{i=[];for(l=j=r=0;j<k.length&&k[j].y<c[0].y;)m=k[j++].copy(),m.x+=p,i[l++]=m;for(;r<c.length;)m=
c[r++].copy(),i[l++]=m;for(c=c[c.length-1].y;j<k.length&&k[j].y<=c;)j++;for(;j<k.length&&k[j].y>c;)m=k[j++].copy(),m.x+=p,i[l++]=m;c=i}j=e;l=b;if(d===n||2>d.length||j===n||2>j.length)d=n;else{e=[];for(p=m=k=0;k<d.length&&d[k].y<j[0].y;)i=d[k++].copy(),e[p++]=i;for(;m<j.length;)i=j[m++].copy(),i.x+=l,e[p++]=i;for(j=j[j.length-1].y;k<d.length&&d[k].y<=j;)k++;for(;k<d.length&&d[k].y>j;)i=d[k++].copy(),e[p++]=i;d=e}e=Math.max(0,b)+g.width;g=a}else{b=j=m;i=p;l=9999999;if(!(d===n||2>d.length||i===n||2>
i.length))for(r=m=0;m<d.length&&r<i.length;)s=d[m],v=i[r].copy(),v.y+=j,y=s,m+1<d.length&&(y=d[m+1]),C=v,r+1<i.length&&(C=i[r+1].copy(),C.y+=j),E=l,s.x===v.x?E=v.y-s.y:s.x>v.x&&s.x<C.x?E=v.y+(s.x-v.x)/(C.x-v.x)*(C.y-v.y)-s.y:v.x>s.x&&v.x<y.x&&(E=v.y-(s.y+(v.x-s.x)/(y.x-s.x)*(y.y-s.y))),E<l&&(l=E),y.x<=s.x?m++:C.x<=v.x?r++:(y.x<=C.x&&m++,C.x<=y.x&&r++);b-=l;b+=k;k=p;p=b;if(c===n||2>c.length||k===n||2>k.length)c=n;else{i=[];for(l=j=r=0;j<k.length&&k[j].x<c[0].x;)m=k[j++].copy(),m.y+=p,i[l++]=m;for(;r<
c.length;)m=c[r++].copy(),i[l++]=m;for(c=c[c.length-1].x;j<k.length&&k[j].x<=c;)j++;for(;j<k.length&&k[j].x>c;)m=k[j++].copy(),m.y+=p,i[l++]=m;c=i}j=e;l=b;if(d===n||2>d.length||j===n||2>j.length)d=n;else{e=[];for(p=m=k=0;k<d.length&&d[k].x<j[0].x;)i=d[k++].copy(),e[p++]=i;for(;m<j.length;)i=j[m++].copy(),i.y+=l,e[p++]=i;for(j=j[j.length-1].x;k<d.length&&d[k].x<=j;)k++;for(;k<d.length&&d[k].x>j;)i=d[k++].copy(),e[p++]=i;d=e}e=a;g=Math.max(0,b)+g.height}return[b,c,d,e,g]}
function pp(a,b,c,d){if(b!==n){u&&w.i(b,Y,W,"assignAbsolutePositions:v");b.x=c;b.y=d;for(var b=b.Yb,e=b.length,g=0;g<e;g++){var i=b[g];pp(a,i,c+i.aa.x,d+i.aa.y)}}}W.prototype.commitLayout=W.prototype.gv=function(){this.Xz();this.commitNodes();this.is&&this.commitLinks()};W.prototype.commitNodes=W.prototype.Ty=function(){for(var a=this.B.ka.l,b;a.next();)b=a.value,b.commit();for(a.reset();a.next();)b=a.value,this.layoutComments(b)};W.prototype.commitLinks=W.prototype.Sy=function(){for(var a=this.B.mc.l;a.next();)a.value.commit()};
W.prototype.Xz=function(){for(var a=this.fd.l;a.next();){var b=this.B.Pe(a.value);iq(this,b)}};
function iq(a,b){if(b!==n){u&&w.i(b,Y,W,"setPortSpotsTree:v");u&&w.i(b,Y,W,"setPortSpots:v");var c=b.Aa;if(Cp(c)){u&&w.i(b,Y,W,"setPortSpotsBus:v");u&&w.i(c,ja,W,"setPortSpots:align");var d=a.df===cp,e=Lp(b),g;switch(e){case 0:g=Zb;break;case 90:g=$b;break;case 180:g=Tb;break;default:g=Sb}var i=b.Yb,j=i.length;switch(c){case Dp:case tp:for(c=0;c<j;c++){var k=i[c],k=d?k.Hb:k.Gb;if(k.next()){var l=k.value,l=l.Ra;if(l!==n){var m=90===e||270===e?Tb:Sb;if(1===j||c===j-1&&1===j%2)switch(e){case 0:m=Tb;
break;case 90:m=Sb;break;case 180:m=Zb;break;default:m=$b}else 0===c%2&&(m=90===e||270===e?Zb:$b);d?(b.Lj&&(l.lb=g),b.Kj&&(l.ob=m)):(b.Lj&&(l.lb=m),b.Kj&&(l.ob=g))}}}break;case Ep:m=90===e||270===e?Zb:$b;for(k=d?b.Gb:b.Hb;k.next();)l=k.value,l=l.Ra,l!==n&&(d?(b.Lj&&(l.lb=g),b.Kj&&(l.ob=m)):(b.Lj&&(l.lb=m),b.Kj&&(l.ob=g)));break;case Fp:m=90===e||270===e?Tb:Sb;for(k=d?b.Gb:b.Hb;k.next();)l=k.value,l=l.Ra,l!==n&&(d?(b.Lj&&(l.lb=g),b.Kj&&(l.ob=m)):(b.Lj&&(l.lb=m),b.Kj&&(l.ob=g)))}}else if(d=Lp(b),a.df===
cp)for(e=b.Gb;e.next();){if(g=e.value,g=g.Ra,g!==n){if(b.Lg)if(Eb(b.nf))switch(d){case 0:g.lb=Zb;break;case 90:g.lb=$b;break;case 180:g.lb=Tb;break;default:g.lb=Sb}else g.lb=b.nf;if(b.Kg)if(Eb(b.bf))switch(d){case 0:g.ob=Tb;break;case 90:g.ob=Sb;break;case 180:g.ob=Zb;break;default:g.ob=$b}else g.ob=b.bf}}else for(e=b.Hb;e.next();)if(g=e.value,g=g.Ra,g!==n){if(b.Lg)if(Eb(b.nf))switch(d){case 0:g.ob=Zb;break;case 90:g.ob=$b;break;case 180:g.ob=Tb;break;default:g.ob=Sb}else g.ob=b.nf;if(b.Kg)if(Eb(b.bf))switch(d){case 0:g.lb=
Tb;break;case 90:g.lb=Sb;break;case 180:g.lb=Zb;break;default:g.lb=$b}else g.lb=b.bf}d=b.Yb;e=d.length;for(g=0;g<e;g++)iq(a,d[g])}}function Lp(a){a=a.oc;return 45>=a?0:135>=a?90:225>=a?180:315>=a?270:0}function Op(a){u&&w.i(a,Y,W,"computeLayerSpacing:v");var b=Lp(a),b=90===b||270===b,c=a.Hd;if(0<a.Eg)var d=Math.min(1,a.Eg),c=c-(b?a.height*d:a.width*d);if(c<(b?-a.height:-a.width))c=b?-a.height:-a.width;return c}
function Pp(a){u&&w.i(a,Y,W,"computeNodeIndent:v");var b=Lp(a),b=90===b||270===b,c=a.lh;if(0<a.Hg)var d=Math.min(1,a.Hg),c=c+(b?a.width*d:a.height*d);return c=Math.max(0,c)}w.g(W,"roots",W.prototype.SH);w.defineProperty(W,{SH:"roots"},t("fd"),function(a){this.fd!==a&&(this.fd=a,this.F())});w.g(W,"path",W.prototype.path);w.defineProperty(W,{path:"path"},t("mh"),function(a){this.mh!==a&&(w.i(a,ja,W,"path"),this.mh=a,this.F())});w.g(W,"treeStyle",W.prototype.RE);
w.defineProperty(W,{RE:"treeStyle"},t("kr"),function(a){if(this.Sc!==a&&(u&&w.i(a,ja,W,"treeStyle"),a===dp||a===vp||a===wp||a===up))this.kr=a,this.F()});w.g(W,"arrangement",W.prototype.le);w.defineProperty(W,{le:"arrangement"},t("Sc"),function(a){if(this.Sc!==a&&(u&&w.i(a,ja,W,"arrangement"),a===ep||a===qp||a===ip))this.Sc=a,this.F()});w.g(W,"arrangementSpacing",W.prototype.Zu);w.defineProperty(W,{Zu:"arrangementSpacing"},t("Hf"),function(a){this.Hf.I(a)||(this.Hf.Va(a),this.F())});
w.g(W,"rootDefaults",W.prototype.RH);w.defineProperty(W,{RH:"rootDefaults"},t("ia"),function(a){this.ia!==a&&(u&&w.i(a,Y,W,"rootDefaults"),this.ia=a,this.F())});w.g(W,"alternateDefaults",W.prototype.QF);w.defineProperty(W,{QF:"alternateDefaults"},t("ha"),function(a){this.ha!==a&&(u&&w.i(a,Y,W,"alternateDefaults"),this.ha=a,this.F())});w.g(W,"sorting",W.prototype.ng);
w.defineProperty(W,{ng:"sorting"},function(){return this.ia.uc},function(a){if(this.ia.uc!==a&&(u&&w.i(a,ja,W,"sorting"),a===xp||a===yp||a===zp||Ap))this.ia.uc=a,this.F()});w.g(W,"comparer",W.prototype.zh);w.defineProperty(W,{zh:"comparer"},function(){return this.ia.rc},function(a){this.ia.rc!==a&&(u&&w.k(a,"function",W,"comparer"),this.ia.rc=a,this.F())});w.g(W,"angle",W.prototype.angle);
w.defineProperty(W,{angle:"angle"},function(){return this.ia.oc},function(a){if(this.ia.oc!==a&&(0===a||90===a||180===a||270===a))this.ia.oc=a,this.F()});w.g(W,"alignment",W.prototype.Db);w.defineProperty(W,{Db:"alignment"},function(){return this.ia.Aa},function(a){this.ia.Aa!==a&&(u&&w.kb(a,W,W,"alignment"),this.ia.Aa=a,this.F())});w.g(W,"nodeIndent",W.prototype.Fz);w.defineProperty(W,{Fz:"nodeIndent"},function(){return this.ia.lh},function(a){this.ia.lh!==a&&0<=a&&(this.ia.lh=a,this.F())});
w.g(W,"nodeIndentPastParent",W.prototype.Gz);w.defineProperty(W,{Gz:"nodeIndentPastParent"},function(){return this.ia.Hg},function(a){this.ia.Hg!==a&&(0<=a&&1>=a)&&(this.ia.Hg=a,this.F())});w.g(W,"nodeSpacing",W.prototype.Nv);w.defineProperty(W,{Nv:"nodeSpacing"},function(){return this.ia.td},function(a){this.ia.td!==a&&(this.ia.td=a,this.F())});w.g(W,"layerSpacing",W.prototype.ls);w.defineProperty(W,{ls:"layerSpacing"},function(){return this.ia.Hd},function(a){this.ia.Hd!==a&&(this.ia.Hd=a,this.F())});
w.g(W,"layerSpacingParentOverlap",W.prototype.uz);w.defineProperty(W,{uz:"layerSpacingParentOverlap"},function(){return this.ia.Eg},function(a){this.ia.Eg!==a&&(0<=a&&1>=a)&&(this.ia.Eg=a,this.F())});w.g(W,"compaction",W.prototype.hv);w.defineProperty(W,{hv:"compaction"},function(){return this.ia.wg},function(a){if(this.ia.wg!==a&&(u&&w.i(a,ja,W,"compaction"),a===Ip||a===Kp))this.ia.wg=a,this.F()});w.g(W,"breadthLimit",W.prototype.Ky);
w.defineProperty(W,{Ky:"breadthLimit"},function(){return this.ia.tg},function(a){this.ia.tg!==a&&0<=a&&(this.ia.tg=a,this.F())});w.g(W,"rowSpacing",W.prototype.Wv);w.defineProperty(W,{Wv:"rowSpacing"},function(){return this.ia.Je},function(a){this.ia.Je!==a&&(this.ia.Je=a,this.F())});w.g(W,"rowIndent",W.prototype.Qz);w.defineProperty(W,{Qz:"rowIndent"},function(){return this.ia.gd},function(a){this.ia.gd!==a&&0<=a&&(this.ia.gd=a,this.F())});w.g(W,"commentSpacing",W.prototype.Qy);
w.defineProperty(W,{Qy:"commentSpacing"},function(){return this.ia.Ed},function(a){this.ia.Ed!==a&&(this.ia.Ed=a,this.F())});w.g(W,"commentMargin",W.prototype.Py);w.defineProperty(W,{Py:"commentMargin"},function(){return this.ia.qc},function(a){this.ia.qc!==a&&(this.ia.qc=a,this.F())});w.g(W,"setsPortSpot",W.prototype.Lj);w.defineProperty(W,{Lj:"setsPortSpot"},function(){return this.ia.Lg},function(a){this.ia.Lg!==a&&(this.ia.Lg=a,this.F())});w.g(W,"portSpot",W.prototype.Jz);
w.defineProperty(W,{Jz:"portSpot"},function(){return this.ia.nf},function(a){this.ia.nf.I(a)||(this.ia.nf=a,this.F())});w.g(W,"setsChildPortSpot",W.prototype.Kj);w.defineProperty(W,{Kj:"setsChildPortSpot"},function(){return this.ia.Kg},function(a){this.ia.Kg!==a&&(this.ia.Kg=a,this.F())});w.g(W,"childPortSpot",W.prototype.Ny);w.defineProperty(W,{Ny:"childPortSpot"},function(){return this.ia.bf},function(a){this.ia.bf.I(a)||(this.ia.bf=a,this.F())});w.g(W,"alternateSorting",W.prototype.aG);
w.defineProperty(W,{aG:"alternateSorting"},function(){return this.ha.uc},function(a){if(this.ha.uc!==a&&(u&&w.i(a,ja,W,"alternateSorting"),a===xp||a===yp||a===zp||Ap))this.ha.uc=a,this.F()});w.g(W,"alternateComparer",W.prototype.OF);w.defineProperty(W,{OF:"alternateComparer"},function(){return this.ha.rc},function(a){this.ha.rc!==a&&(u&&w.k(a,"function",W,"alternateComparer"),this.ha.rc=a,this.F())});w.g(W,"alternateAngle",W.prototype.IF);
w.defineProperty(W,{IF:"alternateAngle"},function(){return this.ha.oc},function(a){if(this.ha.oc!==a&&(0===a||90===a||180===a||270===a))this.ha.oc=a,this.F()});w.g(W,"alternateAlignment",W.prototype.HF);w.defineProperty(W,{HF:"alternateAlignment"},function(){return this.ha.Aa},function(a){this.ha.Aa!==a&&(u&&w.kb(a,W,W,"alternateAlignment"),this.ha.Aa=a,this.F())});w.g(W,"alternateNodeIndent",W.prototype.TF);
w.defineProperty(W,{TF:"alternateNodeIndent"},function(){return this.ha.lh},function(a){this.ha.lh!==a&&0<=a&&(this.ha.lh=a,this.F())});w.g(W,"alternateNodeIndentPastParent",W.prototype.UF);w.defineProperty(W,{UF:"alternateNodeIndentPastParent"},function(){return this.ha.Hg},function(a){this.ha.Hg!==a&&(0<=a&&1>=a)&&(this.ha.Hg=a,this.F())});w.g(W,"alternateNodeSpacing",W.prototype.VF);
w.defineProperty(W,{VF:"alternateNodeSpacing"},function(){return this.ha.td},function(a){this.ha.td!==a&&(this.ha.td=a,this.F())});w.g(W,"alternateLayerSpacing",W.prototype.RF);w.defineProperty(W,{RF:"alternateLayerSpacing"},function(){return this.ha.Hd},function(a){this.ha.Hd!==a&&(this.ha.Hd=a,this.F())});w.g(W,"alternateLayerSpacingParentOverlap",W.prototype.SF);
w.defineProperty(W,{SF:"alternateLayerSpacingParentOverlap"},function(){return this.ha.Eg},function(a){this.ha.Eg!==a&&(0<=a&&1>=a)&&(this.ha.Eg=a,this.F())});w.g(W,"alternateCompaction",W.prototype.NF);w.defineProperty(W,{NF:"alternateCompaction"},function(){return this.ha.wg},function(a){if(this.ha.wg!==a&&(u&&w.i(a,ja,W,"alternateCompaction"),a===Ip||a===Kp))this.ha.wg=a,this.F()});w.g(W,"alternateBreadthLimit",W.prototype.JF);
w.defineProperty(W,{JF:"alternateBreadthLimit"},function(){return this.ha.tg},function(a){this.ha.tg!==a&&0<=a&&(this.ha.tg=a,this.F())});w.g(W,"alternateRowSpacing",W.prototype.YF);w.defineProperty(W,{YF:"alternateRowSpacing"},function(){return this.ha.Je},function(a){this.ha.Je!==a&&(this.ha.Je=a,this.F())});w.g(W,"alternateRowIndent",W.prototype.XF);w.defineProperty(W,{XF:"alternateRowIndent"},function(){return this.ha.gd},function(a){this.ha.gd!==a&&0<=a&&(this.ha.gd=a,this.F())});
w.g(W,"alternateCommentSpacing",W.prototype.MF);w.defineProperty(W,{MF:"alternateCommentSpacing"},function(){return this.ha.Ed},function(a){this.ha.Ed!==a&&(this.ha.Ed=a,this.F())});w.g(W,"alternateCommentMargin",W.prototype.LF);w.defineProperty(W,{LF:"alternateCommentMargin"},function(){return this.ha.qc},function(a){this.ha.qc!==a&&(this.ha.qc=a,this.F())});w.g(W,"alternateSetsPortSpot",W.prototype.$F);
w.defineProperty(W,{$F:"alternateSetsPortSpot"},function(){return this.ha.Lg},function(a){this.ha.Lg!==a&&(this.ha.Lg=a,this.F())});w.g(W,"alternatePortSpot",W.prototype.WF);w.defineProperty(W,{WF:"alternatePortSpot"},function(){return this.ha.nf},function(a){this.ha.nf.I(a)||(this.ha.nf=a,this.F())});w.g(W,"alternateSetsChildPortSpot",W.prototype.ZF);w.defineProperty(W,{ZF:"alternateSetsChildPortSpot"},function(){return this.ha.Kg},function(a){this.ha.Kg!==a&&(this.ha.Kg=a,this.F())});
w.g(W,"alternateChildPortSpot",W.prototype.KF);w.defineProperty(W,{KF:"alternateChildPortSpot"},function(){return this.ha.bf},function(a){this.ha.bf.I(a)||(this.ha.bf=a,this.F())});var bp;W.PathDefault=bp=w.s(W,"PathDefault",-1);var cp;W.PathDestination=cp=w.s(W,"PathDestination",0);var jp;W.PathSource=jp=w.s(W,"PathSource",1);var xp;W.SortingForwards=xp=w.s(W,"SortingForwards",10);var yp;W.SortingReverse=yp=w.s(W,"SortingReverse",11);var zp;W.SortingAscending=zp=w.s(W,"SortingAscending",12);var Ap;
W.SortingDescending=Ap=w.s(W,"SortingDescending",13);var Xp;W.AlignmentCenterSubtrees=Xp=w.s(W,"AlignmentCenterSubtrees",20);var Bp;W.AlignmentCenterChildren=Bp=w.s(W,"AlignmentCenterChildren",21);var Mp;W.AlignmentStart=Mp=w.s(W,"AlignmentStart",22);var Np;W.AlignmentEnd=Np=w.s(W,"AlignmentEnd",23);var Dp;W.AlignmentBus=Dp=w.s(W,"AlignmentBus",24);var tp;W.AlignmentBusBranching=tp=w.s(W,"AlignmentBusBranching",25);var Ep;W.AlignmentTopLeftBus=Ep=w.s(W,"AlignmentTopLeftBus",26);var Fp;
W.AlignmentBottomRightBus=Fp=w.s(W,"AlignmentBottomRightBus",27);var Ip;W.CompactionNone=Ip=w.s(W,"CompactionNone",30);var Kp;W.CompactionBlock=Kp=w.s(W,"CompactionBlock",31);var dp;W.StyleLayered=dp=w.s(W,"StyleLayered",40);var wp;W.StyleLastParents=wp=w.s(W,"StyleLastParents",41);var vp;W.StyleAlternating=vp=w.s(W,"StyleAlternating",42);var up;W.StyleRootOnly=up=w.s(W,"StyleRootOnly",43);var ep;W.ArrangementVertical=ep=w.s(W,"ArrangementVertical",50);var qp;
W.ArrangementHorizontal=qp=w.s(W,"ArrangementHorizontal",51);var ip;W.ArrangementFixedRoots=ip=w.s(W,"ArrangementFixedRoots",52);function gp(){Wm.call(this)}w.Q("TreeNetwork",gp);w.Ea(gp,Wm);gp.prototype.createVertex=gp.prototype.zj=function(){return new Y};gp.prototype.createEdge=gp.prototype.Tn=function(){return new jq};
function Y(){$m.call(this);this.qk=q;this.jb=n;this.Yb=[];this.ei=this.Tt=this.rt=this.Al=this.rI=0;this.aa=new F(0,0);this.Pa=new bb(0,0);this.Ca=new F(0,0);this.Pq=this.aq=this.Fd=n;this.Bk=this.Ak=this.Wx=q;this.uc=xp;this.rc=en;this.oc=0;this.Aa=Bp;this.Hg=this.lh=0;this.td=20;this.Hd=50;this.Eg=0;this.wg=Kp;this.tg=0;this.Je=25;this.Ed=this.gd=10;this.qc=20;this.Lg=h;this.nf=Hb;this.Kg=h;this.bf=Hb}w.Q("TreeVertex",Y);w.Ea(Y,$m);
function fp(a,b){b!==n&&(a.uc=b.uc,a.rc=b.rc,a.oc=b.oc,a.Aa=b.Aa,a.lh=b.lh,a.Hg=b.Hg,a.td=b.td,a.Hd=b.Hd,a.Eg=b.Eg,a.wg=b.wg,a.tg=b.tg,a.Je=b.Je,a.gd=b.gd,a.Ed=b.Ed,a.qc=b.qc,a.Lg=b.Lg,a.nf=b.nf,a.Kg=b.Kg,a.bf=b.bf)}w.g(Y,"initialized",Y.prototype.RG);w.defineProperty(Y,{RG:"initialized"},t("qk"),ba("qk"));w.g(Y,"parent",Y.prototype.parent);w.defineProperty(Y,{parent:"parent"},t("jb"),ba("jb"));w.g(Y,"children",Y.prototype.children);w.defineProperty(Y,{children:"children"},t("Yb"),ba("Yb"));
w.u(Y,{Tl:"childrenCount"},function(){return this.Yb.length});w.g(Y,"level",Y.prototype.gH);w.defineProperty(Y,{gH:"level"},t("Al"),ba("Al"));w.g(Y,"descendantCount",Y.prototype.qG);w.defineProperty(Y,{qG:"descendantCount"},t("rt"),ba("rt"));w.g(Y,"maxChildrenCount",Y.prototype.nH);w.defineProperty(Y,{nH:"maxChildrenCount"},t("Tt"),ba("Tt"));w.g(Y,"maxGenerationCount",Y.prototype.oH);w.defineProperty(Y,{oH:"maxGenerationCount"},t("ei"),ba("ei"));w.g(Y,"relativePosition",Y.prototype.KH);
w.defineProperty(Y,{KH:"relativePosition"},t("aa"),function(a){w.i(a,F,Y,"relativePosition");this.aa.set(a)});w.g(Y,"subtreeSize",Y.prototype.iI);w.defineProperty(Y,{iI:"subtreeSize"},t("Pa"),function(a){w.i(a,bb,Y,"subtreeSize");this.Pa.set(a)});w.g(Y,"subtreeOffset",Y.prototype.hI);w.defineProperty(Y,{hI:"subtreeOffset"},t("Ca"),function(a){w.i(a,F,Y,"subtreeOffset");this.Ca.set(a)});w.g(Y,"comments",Y.prototype.Ry);w.defineProperty(Y,{Ry:"comments"},t("Fd"),ba("Fd"));w.g(Y,"sorting",Y.prototype.ng);
w.defineProperty(Y,{ng:"sorting"},t("uc"),ba("uc"));w.g(Y,"comparer",Y.prototype.zh);w.defineProperty(Y,{zh:"comparer"},t("rc"),ba("rc"));w.g(Y,"angle",Y.prototype.angle);w.defineProperty(Y,{angle:"angle"},t("oc"),ba("oc"));w.g(Y,"alignment",Y.prototype.Db);w.defineProperty(Y,{Db:"alignment"},t("Aa"),ba("Aa"));w.g(Y,"nodeIndent",Y.prototype.Fz);w.defineProperty(Y,{Fz:"nodeIndent"},t("lh"),ba("lh"));w.g(Y,"nodeIndentPastParent",Y.prototype.Gz);
w.defineProperty(Y,{Gz:"nodeIndentPastParent"},t("Hg"),ba("Hg"));w.g(Y,"nodeSpacing",Y.prototype.Nv);w.defineProperty(Y,{Nv:"nodeSpacing"},t("td"),ba("td"));w.g(Y,"layerSpacing",Y.prototype.ls);w.defineProperty(Y,{ls:"layerSpacing"},t("Hd"),ba("Hd"));w.g(Y,"layerSpacingParentOverlap",Y.prototype.uz);w.defineProperty(Y,{uz:"layerSpacingParentOverlap"},t("Eg"),ba("Eg"));w.g(Y,"compaction",Y.prototype.hv);w.defineProperty(Y,{hv:"compaction"},t("wg"),ba("wg"));w.g(Y,"breadthLimit",Y.prototype.Ky);
w.defineProperty(Y,{Ky:"breadthLimit"},t("tg"),ba("tg"));w.g(Y,"rowSpacing",Y.prototype.Wv);w.defineProperty(Y,{Wv:"rowSpacing"},t("Je"),ba("Je"));w.g(Y,"rowIndent",Y.prototype.Qz);w.defineProperty(Y,{Qz:"rowIndent"},t("gd"),ba("gd"));w.g(Y,"commentSpacing",Y.prototype.Qy);w.defineProperty(Y,{Qy:"commentSpacing"},t("Ed"),ba("Ed"));w.g(Y,"commentMargin",Y.prototype.Py);w.defineProperty(Y,{Py:"commentMargin"},t("qc"),ba("qc"));w.g(Y,"setsPortSpot",Y.prototype.Lj);
w.defineProperty(Y,{Lj:"setsPortSpot"},t("Lg"),ba("Lg"));w.g(Y,"portSpot",Y.prototype.Jz);w.defineProperty(Y,{Jz:"portSpot"},t("nf"),ba("nf"));w.g(Y,"setsChildPortSpot",Y.prototype.Kj);w.defineProperty(Y,{Kj:"setsChildPortSpot"},t("Kg"),ba("Kg"));w.g(Y,"childPortSpot",Y.prototype.Ny);w.defineProperty(Y,{Ny:"childPortSpot"},t("bf"),ba("bf"));w.g(Y,"routeFirstRow",Y.prototype.WH);w.defineProperty(Y,{WH:"routeFirstRow"},t("Wx"),ba("Wx"));w.g(Y,"routeAroundCentered",Y.prototype.UH);
w.defineProperty(Y,{UH:"routeAroundCentered"},t("Ak"),ba("Ak"));w.g(Y,"routeAroundLastParent",Y.prototype.VH);w.defineProperty(Y,{VH:"routeAroundLastParent"},t("Bk"),ba("Bk"));function jq(){an.call(this);this.Hq=new F(0,0)}w.Q("TreeEdge",jq);w.Ea(jq,an);
jq.prototype.commit=jq.prototype.fv=function(){var a=this.Ra;if(a!==n&&a.Fh!==$f){var b=this.B.Pb,c=n,d=n;switch(b.df){case cp:c=this.W;d=this.S;break;case jp:c=this.S;d=this.W;break;default:w.m("Unhandled path value "+b.df.toString())}if(!(c===n||d===n))if(b=this.Hq,0===b.x&&0===b.y&&!c.Wx){var e=c,g=d;u&&w.i(e,Y,jq,"adjustRouteForAngleChange:parent");u&&w.i(g,Y,jq,"adjustRouteForAngleChange:child");a=this.Ra;c=Lp(e);if(c!==Lp(g)&&(b=Op(e),d=e.Fb,e=g.Fb,!(0===c&&e.left-d.right<b+1||90===c&&e.top-
d.bottom<b+1||180===c&&d.left-e.right<b+1||270===c&&d.top-e.bottom<b+1))){a.gA();var e=a.xf===hk,g=a.fc,i=Cp(this.W.Aa);a.el();0===c?(c=d.right+b/2,e?4===a.ja&&(b=a.p(3).y,a.J(1,new F(c-20,a.p(1).y)),a.A(2,new F(c-20,b)),a.A(3,new F(c,b)),a.A(4,new F(c+20,b)),a.J(5,new F(a.p(5).x,b))):g?i?a.J(3,new F(a.p(2).x,a.p(4).y)):6===a.ja&&(a.J(2,new F(c,a.p(2).y)),a.J(3,new F(c,a.p(3).y))):4===a.ja?a.A(2,new F(c,a.p(2).y)):3===a.ja?a.J(1,new F(c,a.p(2).y)):2===a.ja&&a.A(1,new F(c,a.p(1).y))):90===c?(b=d.bottom+
b/2,e?4===a.ja&&(c=a.p(3).x,a.J(1,new F(a.p(1).x,b-20)),a.A(2,new F(c,b-20)),a.A(3,new F(c,b)),a.A(4,new F(c,b+20)),a.J(5,new F(c,a.p(5).y))):g?i?a.J(3,new F(a.p(2).x,a.p(4).y)):6===a.ja&&(a.J(2,new F(a.p(2).x,b)),a.J(3,new F(a.p(3).x,b))):4===a.ja?a.A(2,new F(a.p(2).x,b)):3===a.ja?a.J(1,new F(a.p(2).x,b)):2===a.ja&&a.A(1,new F(a.p(1).x,b))):180===c?(c=d.left-b/2,e?4===a.ja&&(b=a.p(3).y,a.J(1,new F(c+20,a.p(1).y)),a.A(2,new F(c+20,b)),a.A(3,new F(c,b)),a.A(4,new F(c-20,b)),a.J(5,new F(a.p(5).x,b))):
g?i?a.J(3,new F(a.p(2).x,a.p(4).y)):6===a.ja&&(a.J(2,new F(c,a.p(2).y)),a.J(3,new F(c,a.p(3).y))):4===a.ja?a.A(2,new F(c,a.p(2).y)):3===a.ja?a.J(1,new F(c,a.p(2).y)):2===a.ja&&a.A(1,new F(c,a.p(1).y))):270===c&&(b=d.top-b/2,e?4===a.ja&&(c=a.p(3).x,a.J(1,new F(a.p(1).x,b+20)),a.A(2,new F(c,b+20)),a.A(3,new F(c,b)),a.A(4,new F(c,b-20)),a.J(5,new F(c,a.p(5).y))):g?i?a.J(3,new F(a.p(2).x,a.p(4).y)):6===a.ja&&(a.J(2,new F(a.p(2).x,b)),a.J(3,new F(a.p(3).x,b))):4===a.ja?a.A(2,new F(a.p(2).x,b)):3===a.ja?
a.J(1,new F(a.p(2).x,b)):2===a.ja&&a.A(1,new F(a.p(1).x,b)));a.yi()}}else{var d=c.Fb,j=Lp(c),e=Op(c),g=c.Je;a.gA();var i=a.xf===hk,k=a.fc,l,m,p,r;a.el();if(k||i){for(l=2;4<a.ja;)a.eE(2);m=a.p(1);p=a.p(2)}else{for(l=1;3<a.ja;)a.eE(1);m=a.p(0);p=a.p(a.ja-1)}r=a.p(a.ja-1);0===j?(c.Aa===Np?(j=d.bottom+b.y,0===b.y&&m.y>r.y+c.gd&&(j=Math.min(j,Math.max(m.y,j-Pp(c))))):c.Aa===Mp?(j=d.top+b.y,0===b.y&&m.y<r.y-c.gd&&(j=Math.max(j,Math.min(m.y,j+Pp(c))))):j=c.Ak||c.Bk&&1===c.ei?d.top-c.Ca.y+b.y:d.y+d.height/
2+b.y,i?(a.A(l,new F(m.x,j)),l++,a.A(l,new F(d.right+e,j)),l++,a.A(l,new F(d.right+e+(b.x-g)/3,j)),l++,a.A(l,new F(d.right+e+2*(b.x-g)/3,j)),l++,a.A(l,new F(d.right+e+(b.x-g),j)),l++,a.A(l,new F(p.x,j))):(k&&(a.A(l,new F(d.right+e/2,m.y)),l++),a.A(l,new F(d.right+e/2,j)),l++,a.A(l,new F(d.right+e+b.x-(k?g/2:g),j)),l++,k&&a.A(l,new F(a.p(l-1).x,p.y)))):90===j?(c.Aa===Np?(j=d.right+b.x,0===b.x&&m.x>r.x+c.gd&&(j=Math.min(j,Math.max(m.x,j-Pp(c))))):c.Aa===Mp?(j=d.left+b.x,0===b.x&&m.x<r.x-c.gd&&(j=Math.max(j,
Math.min(m.x,j+Pp(c))))):j=c.Ak||c.Bk&&1===c.ei?d.left-c.Ca.x+b.x:d.x+d.width/2+b.x,i?(a.A(l,new F(j,m.y)),l++,a.A(l,new F(j,d.bottom+e)),l++,a.A(l,new F(j,d.bottom+e+(b.y-g)/3)),l++,a.A(l,new F(j,d.bottom+e+2*(b.y-g)/3)),l++,a.A(l,new F(j,d.bottom+e+(b.y-g))),l++,a.A(l,new F(j,p.y))):(k&&(a.A(l,new F(m.x,d.bottom+e/2)),l++),a.A(l,new F(j,d.bottom+e/2)),l++,a.A(l,new F(j,d.bottom+e+b.y-(k?g/2:g))),l++,k&&a.A(l,new F(p.x,a.p(l-1).y)))):180===j?(c.Aa===Np?(j=d.bottom+b.y,0===b.y&&m.y>r.y+c.gd&&(j=Math.min(j,
Math.max(m.y,j-Pp(c))))):c.Aa===Mp?(j=d.top+b.y,0===b.y&&m.y<r.y-c.gd&&(j=Math.max(j,Math.min(m.y,j+Pp(c))))):j=c.Ak||c.Bk&&1===c.ei?d.top-c.Ca.y+b.y:d.y+d.height/2+b.y,i?(a.A(l,new F(m.x,j)),l++,a.A(l,new F(d.left-e,j)),l++,a.A(l,new F(d.left-e+(b.x+g)/3,j)),l++,a.A(l,new F(d.left-e+2*(b.x+g)/3,j)),l++,a.A(l,new F(d.left-e+(b.x+g),j)),l++,a.A(l,new F(p.x,j))):(k&&(a.A(l,new F(d.left-e/2,m.y)),l++),a.A(l,new F(d.left-e/2,j)),l++,a.A(l,new F(d.left-e+b.x+(k?g/2:g),j)),l++,k&&a.A(l,new F(a.p(l-1).x,
p.y)))):270===j?(c.Aa===Np?(j=d.right+b.x,0===b.x&&m.x>r.x+c.gd&&(j=Math.min(j,Math.max(m.x,j-Pp(c))))):c.Aa===Mp?(j=d.left+b.x,0===b.x&&m.x<r.x-c.gd&&(j=Math.max(j,Math.min(m.x,j+Pp(c))))):j=c.Ak||c.Bk&&1===c.ei?d.left-c.Ca.x+b.x:d.x+d.width/2+b.x,i?(a.A(l,new F(j,m.y)),l++,a.A(l,new F(j,d.top-e)),l++,a.A(l,new F(j,d.top-e+(b.y+g)/3)),l++,a.A(l,new F(j,d.top-e+2*(b.y+g)/3)),l++,a.A(l,new F(j,d.top-e+(b.y+g))),l++,a.A(l,new F(j,p.y))):(k&&(a.A(l,new F(m.x,d.top-e/2)),l++),a.A(l,new F(j,d.top-e/2)),
l++,a.A(l,new F(j,d.top-e+b.y+(k?g/2:g))),l++,k&&a.A(l,new F(p.x,a.p(l-1).y)))):w.m("Invalid angle "+j);a.yi()}}};w.g(jq,"relativePoint",jq.prototype.JH);w.defineProperty(jq,{JH:"relativePoint"},t("Hq"),function(a){this.Hq.set(a)});function kq(){this.Nm=[]}
function bk(a){var b=new kq,c;if("string"===typeof a)c=(new DOMParser).parseFromString(a,"text/xml");else if(a instanceof Document)c=a.implementation.createDocument("http://www.w3.org/2000/svg","svg",n),c.appendChild(c.importNode(a.documentElement,h));else return n;a=c.getElementsByTagName("svg");if(0===a.length)return n;for(var d=a[0],e=c.getElementsByTagName("linearGradient"),g=c.getElementsByTagName("radialGradient"),a=0;a<e.length;a++){for(var i=e[a],j=ck(Fe,Ie,{start:ac,end:bc}),k=i.childNodes,
l=0;l<k.length;l++)if("stop"===k[l].tagName){var m=k[l].getAttribute("stop-color"),p=k[l].getAttribute("offset");-1!==p.indexOf("%")?j.addColorStop(0.01*parseFloat(p),m):j.addColorStop(parseFloat(p),m)}i=i.getAttribute("id");"string"===typeof i&&(b["_brush"+i]=j)}for(a=0;a<g.length;a++){i=g[a];j=ck(Fe,Je,{start:Ob,end:Ob});k=i.childNodes;for(l=0;l<k.length;l++)"stop"===k[l].tagName&&(m=k[l].getAttribute("stop-color"),p=k[l].getAttribute("offset"),-1!==p.indexOf("%")?j.addColorStop(0.01*parseFloat(p),
m):j.addColorStop(parseFloat(p),m));i=i.getAttribute("id");"string"===typeof i&&(b["_brush"+i]=j)}for(e=h;e;){e=q;g=c.getElementsByTagName("use");for(a=0;a<g.length;a++)j=g[a],0===j.childNodes.length&&(i=j.href,i!==f&&(i=c.getElementById(i.baseVal.substring(1)),i!==n&&(i=i.cloneNode(h),i.removeAttribute("id"),k=parseFloat(j.getAttribute("x")),l=parseFloat(j.getAttribute("y")),isNaN(k)&&(k=0),isNaN(l)&&(l=0),m=j.getAttribute("transform"),m===n&&(m=""),j.setAttribute("transform",m+" translate("+k+","+
l+")"),j.appendChild(i),"use"===i.tagName&&(e=h))))}lq(b,d,n);if(0===b.Nm.length)return n;if(1===b.Nm.length)return b.Nm[0];c=new x;for(a=0;a<b.Nm.length;a++)c.add(b.Nm[a]);return c}
function lq(a,b,c){var d=b.tagName;if(!("g"!==d&&"svg"!==d&&"use"!==d&&"symbol"!==d))for(var d=b.childNodes,e=0;e<d.length;e++){var g=d[e],i=n;if(g.getAttribute!==f){var j=g.getAttribute("transform");switch(g.tagName){case "g":j===n?lq(a,g,n):(i=new x,lq(a,g,i));break;case "use":j===n?lq(a,g,n):(i=new x,lq(a,g,i));break;case "symbol":if("use"!==b.tagName)break;i=new x;lq(a,g,i);var k=i,l=g;l.getAttribute("preserveAspectRatio");l.getAttribute("viewBox");k.scale=1;break;case "path":k=g;i=new V;k=k.getAttribute("d");
"string"===typeof k&&(i.VC=wd(k));break;case "line":var m=g,i=new V,k=parseFloat(m.getAttribute("x1")),l=parseFloat(m.getAttribute("y1")),p=parseFloat(m.getAttribute("x2")),m=parseFloat(m.getAttribute("y2"));isNaN(k)&&(k=0);isNaN(l)&&(l=0);isNaN(p)&&(p=0);isNaN(m)&&(m=0);var r=new hd(md);i.position=new F(Math.min(k,p),Math.min(l,m));0<(p-k)/(m-l)?(r.ma=0,r.na=0,r.C=Math.abs(p-k),r.D=Math.abs(m-l)):(r.ma=0,r.na=Math.abs(m-l),r.C=Math.abs(p-k),r.D=0);i.Wc=r;break;case "circle":p=g;i=new V;k=parseFloat(p.getAttribute("r"));
l=parseFloat(p.getAttribute("cx"));p=parseFloat(p.getAttribute("cy"));isNaN(k)?i=n:(isNaN(l)&&(l=0),isNaN(p)&&(p=0),m=new hd(rd),m.ma=0,m.na=0,m.C=2*k,m.D=2*k,i.position=new F(l-k,p-k),i.Wc=m);break;case "ellipse":m=g;i=new V;k=parseFloat(m.getAttribute("rx"));l=parseFloat(m.getAttribute("ry"));p=parseFloat(m.getAttribute("cx"));m=parseFloat(m.getAttribute("cy"));isNaN(p)&&(p=0);isNaN(m)&&(m=0);isNaN(k)||isNaN(l)?i=n:(r=new hd(rd),r.ma=0,r.na=0,r.C=2*k,r.D=2*l,i.position=new F(p-k,m-l),i.Wc=r);break;
case "rect":m=g;i=new V;k=parseFloat(m.getAttribute("height"));l=parseFloat(m.getAttribute("width"));p=parseFloat(m.getAttribute("x"));m=parseFloat(m.getAttribute("y"));isNaN(k)||isNaN(l)?i=n:(isNaN(p)&&(p=0),isNaN(m)&&(m=0),r=new hd(qd),r.ma=0,r.na=0,r.C=l,r.D=k,i.position=new F(p,m),i.Wc=r);break;case "polygon":i=mq(g);break;case "polyline":i=mq(g)}if(i!==n){i instanceof V&&(k=parseFloat(nq(a,g,"stroke-width")),isNaN(k)||(i.$a=k),k=nq(a,g,"stroke-linecap"),k!==n&&(i.CE=k),k=nq(a,g,"fill"),k!==n&&
-1!==k.indexOf("url")?(k=k.substring(k.indexOf("#")+1,k.length-1),k=a["_brush"+k],i.fill=k instanceof Fe?k:"black"):i.fill=k===n?"black":"none"===k?n:k,g=nq(a,g,"stroke"),g!==n&&-1!==g.indexOf("url")?(k=g.substring(g.indexOf("#")+1,g.length-1),k=a["_brush"+k],i.stroke=k instanceof Fe?k:"black"):i.stroke="none"===g?n:g,i.nz=h);if(j!==n){j=j.split(")");k=h;for(g=0;g<j.length;g++)/\(.*[^0-9\.,\s-]/.test(j[g])&&(k=q),/\(.*[0-9]-[0-9]/.test(j[g])&&(k=q);if(k)for(g=j.length-1;0<=g;g--)if(l=j[g],""!==l)switch(p=
l.indexOf("("),k=l.substring(0,p).replace(/\s*/,""),p=l.substring(p+1).split(/\s*[\s,]\s*/),k){case "rotate":oq(a,i,p);break;case "translate":k=i;l=parseFloat(p[0]);p=parseFloat(p[1]);if(!isNaN(l)||!isNaN(p))m=k.position.copy(),isNaN(m.x)&&(m.x=0),isNaN(m.y)&&(m.y=0),k.position=new F(l+m.x,p+m.y);break;case "scale":pq(a,i,p);break;case "skewX":qq(a,i,parseFloat(p[0])*Math.PI/180);break;case "skewY":rq(a,i,parseFloat(p[0])*Math.PI/180);break;case "matrix":sq(a,i,p)}}if(i instanceof x){j=i.elements.l;
k=g=0;l=i.position.copy();isNaN(l.x)&&(l.x=0);isNaN(l.y)&&(l.y=0);for(;j.next();)p=j.value.position.copy(),isNaN(p.x)&&(p.x=0),isNaN(p.y)&&(p.y=0),p.x<g&&(g=p.x),p.y<k&&(k=p.y);l.x+=g;l.y+=k;i.position=l}c===n?a.Nm.push(i):c.add(i)}}}}
function sq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]),g=parseFloat(c[2]),i=parseFloat(c[3]),j=parseFloat(c[4]),k=parseFloat(c[5]);if(!isNaN(d+e+g+i+j+k)){var l=b.position.copy();isNaN(l.x)&&(l.x=0);isNaN(l.y)&&(l.y=0);if(b instanceof V){c=b.Wc.copy();if(c.type===qd)c=a.ur(c);else if(c.type===rd)c=tq(c);else if(c.type===md){c.type=id;var a=new jd(c.ma,c.na),m=new Ed(td,c.C,c.D);a.za.add(m);c.sb.add(a)}c.offset(l.x,l.y);c.transform(d,e,g,i,j-l.x,k-l.y);a=c.normalize();b.Wc=c;l.x-=a.x;l.y-=a.y;
b.position=l}else{for(b=b.elements.l;b.next();)d=b.value.position.copy(),d.x+=l.x,d.y+=l.y,b.value.position=d;for(b.reset();b.next();)sq(a,b.value,c);for(b.reset();b.next();)d=b.value.position.copy(),d.x-=l.x,d.y-=l.y,b.value.position=d}}}
function oq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]),g=parseFloat(c[2]);isNaN(e)&&(e=0);isNaN(g)&&(g=0);if(!isNaN(d)){var i=d*Math.PI/180,j=b.position.copy();isNaN(j.x)&&(j.x=0);isNaN(j.y)&&(j.y=0);if(b instanceof V){c=b.Wc.copy();c.type===rd?c=tq(c):c.type===qd&&(c=a.ur(c));if(c.type===id)c.rotate(d,e-j.x,g-j.y),g=c.normalize(),b.Wc=c,j.x-=g.x,j.y-=g.y,b.position=j;else{var d=c.ma-e+j.x,k=c.na-g+j.y,l=c.C-e+j.x,m=c.D-g+j.y,a=d*Math.cos(i)-k*Math.sin(i)+e-j.x,d=k*Math.cos(i)+d*Math.sin(i)+
g-j.y,e=l*Math.cos(i)-m*Math.sin(i)+e-j.x,g=m*Math.cos(i)+l*Math.sin(i)+g-j.y,l=Math.min(a,e),m=Math.min(d,g);c.ma=a-l;c.na=d-m;c.C=e-l;c.D=g-m;j.x+=l;j.y+=m;b.position=j;b.Wc=c}b.fill instanceof Fe&&(j=b.fill.copy(),c=Math.atan((0.5-j.start.y)/(0.5-j.start.x)),c+=i,j.start=new H((1-Math.cos(c))/2,(1-Math.sin(c))/2),j.end=new H((1+Math.cos(c))/2,(1+Math.sin(c))/2),b.fill=j);b.stroke instanceof Fe&&(j=b.stroke.copy(),c=Math.atan((0.5-j.start.y)/(0.5-j.start.x)),c+=i,j.start=new H((1-Math.cos(c))/2,
(1-Math.sin(c))/2),j.end=new H((1+Math.cos(c))/2,(1+Math.sin(c))/2),b.stroke=j)}else{for(b=b.elements.l;b.next();)i=b.value.position.copy(),i.x+=j.x,i.y+=j.y,b.value.position=i;for(b.reset();b.next();)oq(a,b.value,c);for(b.reset();b.next();)i=b.value.position.copy(),i.x-=j.x,i.y-=j.y,b.value.position=i}}}
function pq(a,b,c){var d=parseFloat(c[0]),e=parseFloat(c[1]);if(!isNaN(d)){isNaN(e)&&(e=d);var g=b.position.copy();isNaN(g.x)&&(g.x=0);isNaN(g.y)&&(g.y=0);if(b instanceof V)a=b.Wc.copy(),g.x*=d,g.y*=e,b.position=g,a.scale(d,e),b.Wc=a;else{for(b=b.elements.l;b.next();)d=b.value.position.copy(),d.x+=g.x,d.y+=g.y,b.value.position=d;for(b.reset();b.next();)pq(a,b.value,c);for(b.reset();b.next();)d=b.value.position.copy(),d.x-=g.x,d.y-=g.y,b.value.position=d}}}
function qq(a,b,c){if(!isNaN(c)){var d=b.position.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);if(b instanceof V){var e=b.Wc.copy();if(e.type===qd)e=a.ur(e);else if(e.type===rd)e=tq(e);else if(e.type===md){e.type=id;var a=new jd(e.ma,e.na),g=new Ed(td,e.C,e.D);a.za.add(g);e.sb.add(a)}e.offset(d.x,d.y);e.transform(1,0,Math.tan(c),1,-d.x,-d.y);c=e.normalize();b.Wc=e;d.x-=c.x;d.y-=c.y;b.position=d}else{for(b=b.elements.l;b.next();)e=b.value.position.copy(),e.x+=d.x,e.y+=d.y,b.value.position=e;for(b.reset();b.next();)qq(a,
b.value,c);for(b.reset();b.next();)e=b.value.position.copy(),e.x-=d.x,e.y-=d.y,b.value.position=e}}}
function rq(a,b,c){if(!isNaN(c)){var d=b.position.copy();isNaN(d.x)&&(d.x=0);isNaN(d.y)&&(d.y=0);if(b instanceof V){var e=b.Wc.copy();if(e.type===qd)e=a.ur(e);else if(e.type===rd)e=tq(e);else if(e.type===md){e.type=id;var a=new jd(e.ma,e.na),g=new Ed(td,e.C,e.D);a.za.add(g);e.sb.add(a)}e.offset(d.x,d.y);e.transform(1,Math.tan(c),0,1,-d.x,-d.y);c=e.normalize();b.Wc=e;d.x-=c.x;d.y-=c.y;b.position=d}else{for(b=b.elements.l;b.next();)e=b.value.position.copy(),e.x+=d.x,e.y+=d.y,b.value.position=e;for(b.reset();b.next();)rq(a,
b.value,c);for(b.reset();b.next();)e=b.value.position.copy(),e.x-=d.x,e.y-=d.y,b.value.position=e}}}
function mq(a){var b=q;if("polygon"===a.tagName)b=h;else if("polyline"!==a.tagName)return n;var c=new V,d=a.getAttribute("points"),a=new hd,e=new z(jd),g=d.split(/\s*[\s,]\s*/);if(4>g.length)return n;for(var i,d=new z(Ed),j,k,l=1;l<g.length;l+=2){j=eval(g[l-1]);k=eval(g[l]);if("number"!==typeof j||isNaN(j)||"number"!==typeof k||isNaN(k))return n;1===l?i=new jd(j,k):d.add(new Ed(td,j,k))}b&&(b=new Ed(td,i.ma,i.na),b.close(),d.add(b));i.za=d;e.add(i);a.sb=e;i=a.normalize();c.position=new F(-i.x,-i.y);
c.Wc=a;return c}function nq(a,b,c){var d=b.getAttribute(c);"string"!==typeof d&&(d=b.style[c]);return"string"!==typeof d||""===d?(b=b.parentNode,"g"===b.tagName||"use"===b.tagName?nq(a,b,c):n):d}
function tq(a){var b=a.ma,c=a.na,d=a.C,e=a.D,g=Math.abs(d-b)/2,i=Math.abs(e-c)/2,b=Math.min(b,d)+g,c=Math.min(c,e)+i;new F;e=new jd(b,c-i);d=new Ed(Kd);d.Ub=b+ic*g;d.Ac=c-i;d.lg=b+g;d.mg=c-ic*i;d.C=b+g;d.D=c;e.za.add(d);d=new Ed(Kd);d.Ub=b+g;d.Ac=c+ic*i;d.lg=b+ic*g;d.mg=c+i;d.C=b;d.D=c+i;e.za.add(d);d=new Ed(Kd);d.Ub=b-ic*g;d.Ac=c+i;d.lg=b-g;d.mg=c+ic*i;d.C=b-g;d.D=c;e.za.add(d);d=new Ed(Kd);d.Ub=b-g;d.Ac=c-ic*i;d.lg=b-ic*g;d.mg=c-i;d.C=b;d.D=c-i;e.za.add(d);a.type=id;a.sb.add(e);return a}
kq.prototype.ur=function(a){var b=a.ma,c=a.na,d=a.C,e=a.D,g=Math.min(b,d),i=Math.min(c,e),b=Math.abs(d-b),c=Math.abs(e-c),e=new jd(g,i);e.za.add(new Ed(td,g+b,i));e.za.add(new Ed(td,g+b,i+c));e.za.add((new Ed(td,g,i+c)).close());a.type=id;a.sb.add(e);return a};window.go=ea;ea.version="1.1.8"; })(window);
